"use strict";(self.webpackChunkblog_appp=self.webpackChunkblog_appp||[]).push([[179],{2011:(wt,Me,F)=>{F.d(Me,{Dh:()=>Ie,GT:()=>ie,cc:()=>Se,hO:()=>He,on:()=>z,pX:()=>ue,xv:()=>me});var d=F(4650),ee=F(9260),N=F(4976);wt=F.hmd(wt);const le=["ngOnDestroy"],ue=(Oe,ke,$e,Ne={})=>new Proxy(Oe,{get:(De,Ce)=>$e.runOutsideAngular(()=>{var Ge;if(Oe[Ce])return!(null===(Ge=Ne?.spy)||void 0===Ge)&&Ge.get&&Ne.spy.get(Ce,Oe[Ce]),Oe[Ce];if(le.indexOf(Ce)>-1)return()=>{};const Le=ke.toPromise().then(dt=>{const oe=dt&&dt[Ce];return"function"==typeof oe?oe.bind(dt):oe&&oe.then?oe.then(St=>$e.run(()=>St)):$e.run(()=>oe)});return new Proxy(()=>{},{get:(dt,oe)=>Le[oe],apply:(dt,oe,St)=>Le.then(st=>{var Zt;const ft=st&&st(...St);return!(null===(Zt=Ne?.spy)||void 0===Zt)&&Zt.apply&&Ne.spy.apply(Ce,St,ft),ft})})})}),ie=(Oe,ke)=>{ke.forEach($e=>{Object.getOwnPropertyNames($e.prototype||$e).forEach(Ne=>{Object.defineProperty(Oe.prototype,Ne,Object.getOwnPropertyDescriptor($e.prototype||$e,Ne))})})};class be{constructor(ke){return ke}}const Ie=new d.OlP("angularfire2.app.options"),me=new d.OlP("angularfire2.app.name");function z(Oe,ke,$e){const De="object"==typeof $e&&$e||{};De.name=De.name||"string"==typeof $e&&$e||"[DEFAULT]";const Ge=ee.Z.apps.filter(Le=>Le&&Le.name===De.name)[0]||ke.runOutsideAngular(()=>ee.Z.initializeApp(Oe,De));try{JSON.stringify(Oe)!==JSON.stringify(Ge.options)&&H("error",`${Ge.name} Firebase App already initialized with different options${wt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new be(Ge)}const H=(Oe,...ke)=>{(0,d.X6Q)()&&typeof console<"u"&&console[Oe](...ke)},K={provide:be,useFactory:z,deps:[Ie,d.R0b,[new d.FiY,me]]};let He=(()=>{class Oe{constructor($e){ee.Z.registerVersion("angularfire",N.q4.full,"core"),ee.Z.registerVersion("angularfire",N.q4.full,"app-compat"),ee.Z.registerVersion("angular",d.q4F.full,$e.toString())}static initializeApp($e,Ne){return{ngModule:Oe,providers:[{provide:Ie,useValue:$e},{provide:me,useValue:Ne}]}}}return Oe.\u0275fac=function($e){return new($e||Oe)(d.LFG(d.Lbi))},Oe.\u0275mod=d.oAB({type:Oe}),Oe.\u0275inj=d.cJS({providers:[K]}),Oe})();function Se(Oe,ke,$e,Ne,De){const[,Ce,Ge]=globalThis.\u0275AngularfireInstanceCache.find(Le=>Le[0]===Oe)||[];if(Ce)return function Ye(Oe,ke){try{return Oe.toString()===ke.toString()}catch{return Oe===ke}}(De,Ge)||(ge("error",`${ke} was already initialized on the ${$e} Firebase App with different settings.${pt?" You may need to reload as Firebase is not HMR aware.":""}`),ge("warn",{is:De,was:Ge})),Ce;{const Le=Ne();return globalThis.\u0275AngularfireInstanceCache.push([Oe,Le,De]),Le}}const pt=!!wt.hot,ge=(Oe,...ke)=>{(0,d.X6Q)()&&typeof console<"u"&&console[Oe](...ke)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(wt,Me,F)=>{F.d(Me,{q4:()=>od,iC:()=>nf,HU:()=>qi,vb:()=>ld,JM:()=>Xh});var d=F(4650),ee=F(259),N=F(5861),le=F(6881),ue=F(2090),ie=F(4859),be=F(1877);const Ie=(E,D)=>D.some(x=>E instanceof x);let me,z;const He=new WeakMap,Se=new WeakMap,Ye=new WeakMap,pt=new WeakMap,ge=new WeakMap;let $e={get(E,D,x){if(E instanceof IDBTransaction){if("done"===D)return Se.get(E);if("objectStoreNames"===D)return E.objectStoreNames||Ye.get(E);if("store"===D)return x.objectStoreNames[1]?void 0:x.objectStore(x.objectStoreNames[0])}return Ge(E[D])},set:(E,D,x)=>(E[D]=x,!0),has:(E,D)=>E instanceof IDBTransaction&&("done"===D||"store"===D)||D in E};function Ce(E){return"function"==typeof E?function De(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function K(){return z||(z=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...D){return E.apply(Le(this),D),Ge(He.get(this))}:function(...D){return Ge(E.apply(Le(this),D))}:function(D,...x){const k=E.call(Le(this),D,...x);return Ye.set(k,D.sort?D.sort():[D]),Ge(k)}}(E):(E instanceof IDBTransaction&&function ke(E){if(Se.has(E))return;const D=new Promise((x,k)=>{const G=()=>{E.removeEventListener("complete",Y),E.removeEventListener("error",ae),E.removeEventListener("abort",ae)},Y=()=>{x(),G()},ae=()=>{k(E.error||new DOMException("AbortError","AbortError")),G()};E.addEventListener("complete",Y),E.addEventListener("error",ae),E.addEventListener("abort",ae)});Se.set(E,D)}(E),Ie(E,function H(){return me||(me=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,$e):E)}function Ge(E){if(E instanceof IDBRequest)return function Oe(E){const D=new Promise((x,k)=>{const G=()=>{E.removeEventListener("success",Y),E.removeEventListener("error",ae)},Y=()=>{x(Ge(E.result)),G()},ae=()=>{k(E.error),G()};E.addEventListener("success",Y),E.addEventListener("error",ae)});return D.then(x=>{x instanceof IDBCursor&&He.set(x,E)}).catch(()=>{}),ge.set(D,E),D}(E);if(pt.has(E))return pt.get(E);const D=Ce(E);return D!==E&&(pt.set(E,D),ge.set(D,E)),D}const Le=E=>ge.get(E),St=["get","getKey","getAll","getAllKeys","count"],st=["put","add","delete","clear"],Zt=new Map;function ft(E,D){if(!(E instanceof IDBDatabase)||D in E||"string"!=typeof D)return;if(Zt.get(D))return Zt.get(D);const x=D.replace(/FromIndex$/,""),k=D!==x,G=st.includes(x);if(!(x in(k?IDBIndex:IDBObjectStore).prototype)||!G&&!St.includes(x))return;const Y=function(){var ae=(0,N.Z)(function*(We,...qe){const mt=this.transaction(We,G?"readwrite":"readonly");let kt=mt.store;return k&&(kt=kt.index(qe.shift())),(yield Promise.all([kt[x](...qe),G&&mt.done]))[0]});return function(qe){return ae.apply(this,arguments)}}();return Zt.set(D,Y),Y}!function Ne(E){$e=E($e)}(E=>({...E,get:(D,x,k)=>ft(D,x)||E.get(D,x,k),has:(D,x)=>!!ft(D,x)||E.has(D,x)}));const $s="@firebase/installations",fe="0.6.4",we=1e4,Te=`w:${fe}`,Re="FIS_v2",Ke="https://firebaseinstallations.googleapis.com/v1",Be=36e5,yt=new ue.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Dt(E){return E instanceof ue.ZR&&E.code.includes("request-failed")}function fn({projectId:E}){return`${Ke}/projects/${E}/installations`}function Jt(E){return{token:E.token,requestStatus:2,expiresIn:Ro(E.expiresIn),creationTime:Date.now()}}function In(E,D){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,N.Z)(function*(E,D){const k=(yield D.json()).error;return yt.create("request-failed",{requestName:E,serverCode:k.code,serverMessage:k.message,serverStatus:k.status})})).apply(this,arguments)}function Sr({apiKey:E}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E})}function Fr(E){return ci.apply(this,arguments)}function ci(){return(ci=(0,N.Z)(function*(E){const D=yield E();return D.status>=500&&D.status<600?E():D})).apply(this,arguments)}function Ro(E){return Number(E.replace("s","000"))}function bt(){return(bt=(0,N.Z)(function*({appConfig:E,heartbeatServiceProvider:D},{fid:x}){const k=fn(E),G=Sr(E),Y=D.getImmediate({optional:!0});if(Y){const mt=yield Y.getHeartbeatsHeader();mt&&G.append("x-firebase-client",mt)}const We={method:"POST",headers:G,body:JSON.stringify({fid:x,authVersion:Re,appId:E.appId,sdkVersion:Te})},qe=yield Fr(()=>fetch(k,We));if(qe.ok){const mt=yield qe.json();return{fid:mt.fid||x,registrationStatus:2,refreshToken:mt.refreshToken,authToken:Jt(mt.authToken)}}throw yield In("Create Installation",qe)})).apply(this,arguments)}function Wr(E){return new Promise(D=>{setTimeout(D,E)})}const _r=/^[cdef][\w-]{21}$/,Lr="";function Vi(){try{const E=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(E),E[0]=112+E[0]%16;const x=function sn(E){return function yl(E){return btoa(String.fromCharCode(...E)).replace(/\+/g,"-").replace(/\//g,"_")}(E).substr(0,22)}(E);return _r.test(x)?x:Lr}catch{return Lr}}function an(E){return`${E.appName}!${E.appId}`}const ht=new Map;function Pt(E,D){const x=an(E);dr(x,D),function Vr(E,D){const x=function Kr(){return!On&&"BroadcastChannel"in self&&(On=new BroadcastChannel("[Firebase] FID Change"),On.onmessage=E=>{dr(E.data.key,E.data.fid)}),On}();x&&x.postMessage({key:E,fid:D}),function yn(){0===ht.size&&On&&(On.close(),On=null)}()}(x,D)}function dr(E,D){const x=ht.get(E);if(x)for(const k of x)k(D)}let On=null;const Is="firebase-installations-database",Xt=1,Bi="firebase-installations-store";let cn=null;function ui(){return cn||(cn=function dt(E,D,{blocked:x,upgrade:k,blocking:G,terminated:Y}={}){const ae=indexedDB.open(E,D),We=Ge(ae);return k&&ae.addEventListener("upgradeneeded",qe=>{k(Ge(ae.result),qe.oldVersion,qe.newVersion,Ge(ae.transaction))}),x&&ae.addEventListener("blocked",()=>x()),We.then(qe=>{Y&&qe.addEventListener("close",()=>Y()),G&&qe.addEventListener("versionchange",()=>G())}).catch(()=>{}),We}(Is,Xt,{upgrade:(E,D)=>{0===D&&E.createObjectStore(Bi)}})),cn}function kn(E,D){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,N.Z)(function*(E,D){const x=an(E),G=(yield ui()).transaction(Bi,"readwrite"),Y=G.objectStore(Bi),ae=yield Y.get(x);return yield Y.put(D,x),yield G.done,(!ae||ae.fid!==D.fid)&&Pt(E,D.fid),D})).apply(this,arguments)}function Ii(E){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,N.Z)(function*(E){const D=an(E),k=(yield ui()).transaction(Bi,"readwrite");yield k.objectStore(Bi).delete(D),yield k.done})).apply(this,arguments)}function Di(E,D){return Br.apply(this,arguments)}function Br(){return(Br=(0,N.Z)(function*(E,D){const x=an(E),G=(yield ui()).transaction(Bi,"readwrite"),Y=G.objectStore(Bi),ae=yield Y.get(x),We=D(ae);return void 0===We?yield Y.delete(x):yield Y.put(We,x),yield G.done,We&&(!ae||ae.fid!==We.fid)&&Pt(E,We.fid),We})).apply(this,arguments)}function U(E){return V.apply(this,arguments)}function V(){return V=(0,N.Z)(function*(E){let D;const x=yield Di(E.appConfig,k=>{const G=function W(E){return Mn(E||{fid:Vi(),registrationStatus:0})}(k),Y=function Ee(E,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(yt.create("app-offline"))};const x={fid:D.fid,registrationStatus:1,registrationTime:Date.now()},k=function te(E,D){return Ve.apply(this,arguments)}(E,x);return{installationEntry:x,registrationPromise:k}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:Mt(E)}:{installationEntry:D}}(E,G);return D=Y.registrationPromise,Y.installationEntry});return x.fid===Lr?{installationEntry:yield D}:{installationEntry:x,registrationPromise:D}}),V.apply(this,arguments)}function Ve(){return Ve=(0,N.Z)(function*(E,D){try{const x=yield function Mr(E,D){return bt.apply(this,arguments)}(E,D);return kn(E.appConfig,x)}catch(x){throw Dt(x)&&409===x.customData.serverCode?yield Ii(E.appConfig):yield kn(E.appConfig,{fid:D.fid,registrationStatus:0}),x}}),Ve.apply(this,arguments)}function Mt(E){return nn.apply(this,arguments)}function nn(){return(nn=(0,N.Z)(function*(E){let D=yield Un(E.appConfig);for(;1===D.registrationStatus;)yield Wr(100),D=yield Un(E.appConfig);if(0===D.registrationStatus){const{installationEntry:x,registrationPromise:k}=yield U(E);return k||x}return D})).apply(this,arguments)}function Un(E){return Di(E,D=>{if(!D)throw yt.create("installation-not-found");return Mn(D)})}function Mn(E){return function dn(E){return 1===E.registrationStatus&&E.registrationTime+we<Date.now()}(E)?{fid:E.fid,registrationStatus:0}:E}function xr(){return(xr=(0,N.Z)(function*({appConfig:E,heartbeatServiceProvider:D},x){const k=function Ci(E,{fid:D}){return`${fn(E)}/${D}/authTokens:generate`}(E,x),G=function ur(E,{refreshToken:D}){const x=Sr(E);return x.append("Authorization",function Hs(E){return`${Re} ${E}`}(D)),x}(E,x),Y=D.getImmediate({optional:!0});if(Y){const mt=yield Y.getHeartbeatsHeader();mt&&G.append("x-firebase-client",mt)}const We={method:"POST",headers:G,body:JSON.stringify({installation:{sdkVersion:Te,appId:E.appId}})},qe=yield Fr(()=>fetch(k,We));if(qe.ok)return Jt(yield qe.json());throw yield In("Generate Auth Token",qe)})).apply(this,arguments)}function Ui(E){return fa.apply(this,arguments)}function fa(){return fa=(0,N.Z)(function*(E,D=!1){let x;const k=yield Di(E.appConfig,Y=>{if(!Gt(Y))throw yt.create("not-registered");const ae=Y.authToken;if(!D&&function Et(E){return 2===E.requestStatus&&!function on(E){const D=Date.now();return D<E.creationTime||E.creationTime+E.expiresIn<D+Be}(E)}(ae))return Y;if(1===ae.requestStatus)return x=function he(E,D){return re.apply(this,arguments)}(E,D),Y;{if(!navigator.onLine)throw yt.create("app-offline");const We=function rn(E){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},E),{authToken:D})}(Y);return x=function vt(E,D){return At.apply(this,arguments)}(E,We),We}});return x?yield x:k.authToken}),fa.apply(this,arguments)}function re(){return(re=(0,N.Z)(function*(E,D){let x=yield Fe(E.appConfig);for(;1===x.authToken.requestStatus;)yield Wr(100),x=yield Fe(E.appConfig);const k=x.authToken;return 0===k.requestStatus?Ui(E,D):k})).apply(this,arguments)}function Fe(E){return Di(E,D=>{if(!Gt(D))throw yt.create("not-registered");return function hr(E){return 1===E.requestStatus&&E.requestTime+we<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function At(){return At=(0,N.Z)(function*(E,D){try{const x=yield function Yt(E,D){return xr.apply(this,arguments)}(E,D),k=Object.assign(Object.assign({},D),{authToken:x});return yield kn(E.appConfig,k),x}catch(x){if(!Dt(x)||401!==x.customData.serverCode&&404!==x.customData.serverCode){const k=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield kn(E.appConfig,k)}else yield Ii(E.appConfig);throw x}}),At.apply(this,arguments)}function Gt(E){return void 0!==E&&2===E.registrationStatus}function ic(){return(ic=(0,N.Z)(function*(E){const D=E,{installationEntry:x,registrationPromise:k}=yield U(D);return k?k.catch(console.error):Ui(D).catch(console.error),x.fid})).apply(this,arguments)}function Po(){return Po=(0,N.Z)(function*(E,D=!1){const x=E;return yield function di(E){return Je.apply(this,arguments)}(x),(yield Ui(x,D)).token}),Po.apply(this,arguments)}function Je(){return(Je=(0,N.Z)(function*(E){const{registrationPromise:D}=yield U(E);D&&(yield D)})).apply(this,arguments)}function ji(E){return yt.create("missing-app-config-values",{valueName:E})}const zt="installations",zs=E=>{const D=E.getProvider("app").getImmediate(),x=function pa(E){if(!E||!E.options)throw ji("App Configuration");if(!E.name)throw ji("App Name");const D=["projectId","apiKey","appId"];for(const x of D)if(!E.options[x])throw ji(x);return{appName:E.name,projectId:E.options.projectId,apiKey:E.options.apiKey,appId:E.options.appId}}(D);return{app:D,appConfig:x,heartbeatServiceProvider:(0,le._getProvider)(D,"heartbeat"),_delete:()=>Promise.resolve()}},is=E=>{const D=E.getProvider("app").getImmediate(),x=(0,le._getProvider)(D,zt).getImmediate();return{getId:()=>function qn(E){return ic.apply(this,arguments)}(x),getToken:G=>function Mh(E){return Po.apply(this,arguments)}(x,G)}};(function Gs(){(0,le._registerComponent)(new ie.wA(zt,zs,"PUBLIC")),(0,le._registerComponent)(new ie.wA("installations-internal",is,"PRIVATE"))})(),(0,le.registerVersion)($s,fe),(0,le.registerVersion)($s,fe,"esm2017");const jn="@firebase/remote-config",yr=new ue.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class os{constructor(D,x,k,G){this.client=D,this.storage=x,this.storageCache=k,this.logger=G}isCachedDataFresh(D,x){if(!x)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const k=Date.now()-x,G=k<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${k}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${G}.`),G}fetch(D){var x=this;return(0,N.Z)(function*(){const[k,G]=yield Promise.all([x.storage.getLastSuccessfulFetchTimestampMillis(),x.storage.getLastSuccessfulFetchResponse()]);if(G&&x.isCachedDataFresh(D.cacheMaxAgeMillis,k))return G;D.eTag=G&&G.eTag;const Y=yield x.client.fetch(D),ae=[x.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Y.status&&ae.push(x.storage.setLastSuccessfulFetchResponse(Y)),yield Promise.all(ae),Y})()}}function Zp(E=navigator){return E.languages&&E.languages[0]||E.language}class El{constructor(D,x,k,G,Y,ae){this.firebaseInstallations=D,this.sdkVersion=x,this.namespace=k,this.projectId=G,this.apiKey=Y,this.appId=ae}fetch(D){var x=this;return(0,N.Z)(function*(){const[k,G]=yield Promise.all([x.firebaseInstallations.getId(),x.firebaseInstallations.getToken()]),ae=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${x.projectId}/namespaces/${x.namespace}:fetch?key=${x.apiKey}`,We={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},qe={sdk_version:x.sdkVersion,app_instance_id:k,app_instance_id_token:G,app_id:x.appId,language_code:Zp()},mt={method:"POST",headers:We,body:JSON.stringify(qe)},kt=fetch(ae,mt),Nt=new Promise((Wi,Zi)=>{D.signal.addEventListener(()=>{const Wl=new Error("The operation was aborted.");Wl.name="AbortError",Zi(Wl)})});let Si;try{yield Promise.race([kt,Nt]),Si=yield kt}catch(Wi){let Zi="fetch-client-network";throw"AbortError"===Wi?.name&&(Zi="fetch-timeout"),yr.create(Zi,{originalErrorMessage:Wi?.message})}let Yn=Si.status;const Ua=Si.headers.get("ETag")||void 0;let ql,mo;if(200===Si.status){let Wi;try{Wi=yield Si.json()}catch(Zi){throw yr.create("fetch-client-parse",{originalErrorMessage:Zi?.message})}ql=Wi.entries,mo=Wi.state}if("INSTANCE_STATE_UNSPECIFIED"===mo?Yn=500:"NO_CHANGE"===mo?Yn=304:("NO_TEMPLATE"===mo||"EMPTY_CONFIG"===mo)&&(ql={}),304!==Yn&&200!==Yn)throw yr.create("fetch-status",{httpStatus:Yn});return{status:Yn,eTag:Ua,config:ql}})()}}class Yp{constructor(D,x){this.client=D,this.storage=x}fetch(D){var x=this;return(0,N.Z)(function*(){const k=(yield x.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return x.attemptFetch(D,k)})()}attemptFetch(D,{throttleEndTimeMillis:x,backoffCount:k}){var G=this;return(0,N.Z)(function*(){yield function Kp(E,D){return new Promise((x,k)=>{const G=Math.max(D-Date.now(),0),Y=setTimeout(x,G);E.addEventListener(()=>{clearTimeout(Y),k(yr.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,x);try{const Y=yield G.client.fetch(D);return yield G.storage.deleteThrottleMetadata(),Y}catch(Y){if(!function Ou(E){if(!(E instanceof ue.ZR&&E.customData))return!1;const D=Number(E.customData.httpStatus);return 429===D||500===D||503===D||504===D}(Y))throw Y;const ae={throttleEndTimeMillis:Date.now()+(0,ue.$s)(k),backoffCount:k+1};return yield G.storage.setThrottleMetadata(ae),G.attemptFetch(D,ae)}})()}}class C_{constructor(D,x,k,G,Y){this.app=D,this._client=x,this._storageCache=k,this._storage=G,this._logger=Y,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function cc(E,D){const x=E.target.error||void 0;return yr.create(D,{originalErrorMessage:x&&x?.message})}const Xr="app_namespace_store";class T_{constructor(D,x,k,G=function Lo(){return new Promise((E,D)=>{try{const x=indexedDB.open("firebase_remote_config",1);x.onerror=k=>{D(cc(k,"storage-open"))},x.onsuccess=k=>{E(k.target.result)},x.onupgradeneeded=k=>{0===k.oldVersion&&k.target.result.createObjectStore(Xr,{keyPath:"compositeKey"})}}catch(x){D(yr.create("storage-open",{originalErrorMessage:x?.message}))}})}()){this.appId=D,this.appName=x,this.namespace=k,this.openDbPromise=G}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var x=this;return(0,N.Z)(function*(){const k=yield x.openDbPromise;return new Promise((G,Y)=>{const We=k.transaction([Xr],"readonly").objectStore(Xr),qe=x.createCompositeKey(D);try{const mt=We.get(qe);mt.onerror=kt=>{Y(cc(kt,"storage-get"))},mt.onsuccess=kt=>{const Nt=kt.target.result;G(Nt?Nt.value:void 0)}}catch(mt){Y(yr.create("storage-get",{originalErrorMessage:mt?.message}))}})})()}set(D,x){var k=this;return(0,N.Z)(function*(){const G=yield k.openDbPromise;return new Promise((Y,ae)=>{const qe=G.transaction([Xr],"readwrite").objectStore(Xr),mt=k.createCompositeKey(D);try{const kt=qe.put({compositeKey:mt,value:x});kt.onerror=Nt=>{ae(cc(Nt,"storage-set"))},kt.onsuccess=()=>{Y()}}catch(kt){ae(yr.create("storage-set",{originalErrorMessage:kt?.message}))}})})()}delete(D){var x=this;return(0,N.Z)(function*(){const k=yield x.openDbPromise;return new Promise((G,Y)=>{const We=k.transaction([Xr],"readwrite").objectStore(Xr),qe=x.createCompositeKey(D);try{const mt=We.delete(qe);mt.onerror=kt=>{Y(cc(kt,"storage-delete"))},mt.onsuccess=()=>{G()}}catch(mt){Y(yr.create("storage-delete",{originalErrorMessage:mt?.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class Fu{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,N.Z)(function*(){const x=D.storage.getLastFetchStatus(),k=D.storage.getLastSuccessfulFetchTimestampMillis(),G=D.storage.getActiveConfig(),Y=yield x;Y&&(D.lastFetchStatus=Y);const ae=yield k;ae&&(D.lastSuccessfulFetchTimestampMillis=ae);const We=yield G;We&&(D.activeConfig=We)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function wl(){return ya.apply(this,arguments)}function ya(){return(ya=(0,N.Z)(function*(){if(!(0,ue.hl)())return!1;try{return yield(0,ue.eu)()}catch{return!1}})).apply(this,arguments)}!function as(){(0,le._registerComponent)(new ie.wA("remote-config",function E(D,{instanceIdentifier:x}){const k=D.getProvider("app").getImmediate(),G=D.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw yr.create("registration-window");if(!(0,ue.hl)())throw yr.create("indexed-db-unavailable");const{projectId:Y,apiKey:ae,appId:We}=k.options;if(!Y)throw yr.create("registration-project-id");if(!ae)throw yr.create("registration-api-key");if(!We)throw yr.create("registration-app-id");const qe=new T_(We,k.name,x=x||"firebase"),mt=new Fu(qe),kt=new be.Yd(jn);kt.logLevel=be.in.ERROR;const Nt=new El(G,le.SDK_VERSION,x,Y,ae,We),Si=new Yp(Nt,qe),Yn=new os(Si,qe,mt,kt),Ua=new C_(k,Yn,mt,qe,kt);return function Qr(E){const D=(0,ue.m9)(E);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(Ua),Ua},"PUBLIC").setMultipleInstances(!0)),(0,le.registerVersion)(jn,"0.4.4"),(0,le.registerVersion)(jn,"0.4.4","esm2017")}();const Lu=(E,D)=>D.some(x=>E instanceof x);let Il,Cs;const uc=new WeakMap,Ts=new WeakMap,jr=new WeakMap,Rr=new WeakMap,va=new WeakMap;let cs={get(E,D,x){if(E instanceof IDBTransaction){if("done"===D)return Ts.get(E);if("objectStoreNames"===D)return E.objectStoreNames||jr.get(E);if("store"===D)return x.objectStoreNames[1]?void 0:x.objectStore(x.objectStoreNames[0])}return Pr(E[D])},set:(E,D,x)=>(E[D]=x,!0),has:(E,D)=>E instanceof IDBTransaction&&("done"===D||"store"===D)||D in E};function Bu(E){return"function"==typeof E?function Vu(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function lc(){return Cs||(Cs=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...D){return E.apply(nr(this),D),Pr(uc.get(this))}:function(...D){return Pr(E.apply(nr(this),D))}:function(D,...x){const k=E.call(nr(this),D,...x);return jr.set(k,D.sort?D.sort():[D]),Pr(k)}}(E):(E instanceof IDBTransaction&&function Vo(E){if(Ts.has(E))return;const D=new Promise((x,k)=>{const G=()=>{E.removeEventListener("complete",Y),E.removeEventListener("error",ae),E.removeEventListener("abort",ae)},Y=()=>{x(),G()},ae=()=>{k(E.error||new DOMException("AbortError","AbortError")),G()};E.addEventListener("complete",Y),E.addEventListener("error",ae),E.addEventListener("abort",ae)});Ts.set(E,D)}(E),Lu(E,function Ph(){return Il||(Il=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,cs):E)}function Pr(E){if(E instanceof IDBRequest)return function pr(E){const D=new Promise((x,k)=>{const G=()=>{E.removeEventListener("success",Y),E.removeEventListener("error",ae)},Y=()=>{x(Pr(E.result)),G()},ae=()=>{k(E.error),G()};E.addEventListener("success",Y),E.addEventListener("error",ae)});return D.then(x=>{x instanceof IDBCursor&&uc.set(x,E)}).catch(()=>{}),va.set(D,E),D}(E);if(Rr.has(E))return Rr.get(E);const D=Bu(E);return D!==E&&(Rr.set(E,D),va.set(D,E)),D}const nr=E=>va.get(E);function dc(E,D,{blocked:x,upgrade:k,blocking:G,terminated:Y}={}){const ae=indexedDB.open(E,D),We=Pr(ae);return k&&ae.addEventListener("upgradeneeded",qe=>{k(Pr(ae.result),qe.oldVersion,qe.newVersion,Pr(ae.transaction))}),x&&ae.addEventListener("blocked",()=>x()),We.then(qe=>{Y&&qe.addEventListener("close",()=>Y()),G&&qe.addEventListener("versionchange",()=>G())}).catch(()=>{}),We}function ls(E,{blocked:D}={}){const x=indexedDB.deleteDatabase(E);return D&&x.addEventListener("blocked",()=>D()),Pr(x).then(()=>{})}const Dl=["get","getKey","getAll","getAllKeys","count"],As=["put","add","delete","clear"],Bo=new Map;function ba(E,D){if(!(E instanceof IDBDatabase)||D in E||"string"!=typeof D)return;if(Bo.get(D))return Bo.get(D);const x=D.replace(/FromIndex$/,""),k=D!==x,G=As.includes(x);if(!(x in(k?IDBIndex:IDBObjectStore).prototype)||!G&&!Dl.includes(x))return;const Y=function(){var ae=(0,N.Z)(function*(We,...qe){const mt=this.transaction(We,G?"readwrite":"readonly");let kt=mt.store;return k&&(kt=kt.index(qe.shift())),(yield Promise.all([kt[x](...qe),G&&mt.done]))[0]});return function(qe){return ae.apply(this,arguments)}}();return Bo.set(D,Y),Y}!function mr(E){cs=E(cs)}(E=>({...E,get:(D,x,k)=>ba(D,x)||E.get(D,x,k),has:(D,x)=>!!ba(D,x)||E.has(D,x)}));const Ot="/firebase-messaging-sw.js",Ea="/firebase-cloud-messaging-push-scope",Uu="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ju="https://fcmregistrations.googleapis.com/v1",hc="google.c.a.c_id",$u="google.c.a.c_l",fc="google.c.a.ts",Qp="google.c.a.e";var pe=(()=>{return(E=pe||(pe={})).PUSH_RECEIVED="push-received",E.NOTIFICATION_CLICKED="notification-clicked",pe;var E})();function Bt(E){const D=new Uint8Array(E);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function wa(E){const x=(E+"=".repeat((4-E.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),k=atob(x),G=new Uint8Array(k.length);for(let Y=0;Y<k.length;++Y)G[Y]=k.charCodeAt(Y);return G}const Ia="fcm_token_details_db",rr=5,Zs="fcm_token_object_Store";function $r(){return $r=(0,N.Z)(function*(E){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Y=>Y.name).includes(Ia))return null;let D=null;return(yield dc(Ia,rr,{upgrade:(k=(0,N.Z)(function*(G,Y,ae,We){var qe;if(Y<2||!G.objectStoreNames.contains(Zs))return;const mt=We.objectStore(Zs),kt=yield mt.index("fcmSenderId").get(E);if(yield mt.clear(),kt)if(2===Y){const Nt=kt;if(!Nt.auth||!Nt.p256dh||!Nt.endpoint)return;D={token:Nt.fcmToken,createTime:null!==(qe=Nt.createTime)&&void 0!==qe?qe:Date.now(),subscriptionOptions:{auth:Nt.auth,p256dh:Nt.p256dh,endpoint:Nt.endpoint,swScope:Nt.swScope,vapidKey:"string"==typeof Nt.vapidKey?Nt.vapidKey:Bt(Nt.vapidKey)}}}else if(3===Y){const Nt=kt;D={token:Nt.fcmToken,createTime:Nt.createTime,subscriptionOptions:{auth:Bt(Nt.auth),p256dh:Bt(Nt.p256dh),endpoint:Nt.endpoint,swScope:Nt.swScope,vapidKey:Bt(Nt.vapidKey)}}}else if(4===Y){const Nt=kt;D={token:Nt.fcmToken,createTime:Nt.createTime,subscriptionOptions:{auth:Bt(Nt.auth),p256dh:Bt(Nt.p256dh),endpoint:Nt.endpoint,swScope:Nt.swScope,vapidKey:Bt(Nt.vapidKey)}}}}),function(Y,ae,We,qe){return k.apply(this,arguments)})})).close(),yield ls(Ia),yield ls("fcm_vapid_details_db"),yield ls("undefined"),function zu(E){if(!E||!E.subscriptionOptions)return!1;const{subscriptionOptions:D}=E;return"number"==typeof E.createTime&&E.createTime>0&&"string"==typeof E.token&&E.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}(D)?D:null;var k}),$r.apply(this,arguments)}const mc="firebase-messaging-database",Jp=1,us="firebase-messaging-store";let Da=null;function Zn(){return Da||(Da=dc(mc,Jp,{upgrade:(E,D)=>{0===D&&E.createObjectStore(us)}})),Da}function fi(E){return zi.apply(this,arguments)}function zi(){return zi=(0,N.Z)(function*(E){const D=gc(E),k=yield(yield Zn()).transaction(us).objectStore(us).get(D);if(k)return k;{const G=yield function pc(E){return $r.apply(this,arguments)}(E.appConfig.senderId);if(G)return yield Ks(E,G),G}}),zi.apply(this,arguments)}function Ks(E,D){return pi.apply(this,arguments)}function pi(){return(pi=(0,N.Z)(function*(E,D){const x=gc(E),G=(yield Zn()).transaction(us,"readwrite");return yield G.objectStore(us).put(D,x),yield G.done,D})).apply(this,arguments)}function Ca(){return(Ca=(0,N.Z)(function*(E){const D=gc(E),k=(yield Zn()).transaction(us,"readwrite");yield k.objectStore(us).delete(D),yield k.done})).apply(this,arguments)}function gc({appConfig:E}){return E.appId}const Kn=new ue.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Uo(E,D){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,N.Z)(function*(E,D){const x=yield Tl(E),k=Wu(D),G={method:"POST",headers:x,body:JSON.stringify(k)};let Y;try{Y=yield(yield fetch(Ta(E.appConfig),G)).json()}catch(ae){throw Kn.create("token-subscribe-failed",{errorInfo:ae?.toString()})}if(Y.error)throw Kn.create("token-subscribe-failed",{errorInfo:Y.error.message});if(!Y.token)throw Kn.create("token-subscribe-no-token");return Y.token})).apply(this,arguments)}function qu(){return(qu=(0,N.Z)(function*(E,D){const x=yield Tl(E),k=Wu(D.subscriptionOptions),G={method:"PATCH",headers:x,body:JSON.stringify(k)};let Y;try{Y=yield(yield fetch(`${Ta(E.appConfig)}/${D.token}`,G)).json()}catch(ae){throw Kn.create("token-update-failed",{errorInfo:ae?.toString()})}if(Y.error)throw Kn.create("token-update-failed",{errorInfo:Y.error.message});if(!Y.token)throw Kn.create("token-update-no-token");return Y.token})).apply(this,arguments)}function yc(E,D){return vc.apply(this,arguments)}function vc(){return(vc=(0,N.Z)(function*(E,D){const k={method:"DELETE",headers:yield Tl(E)};try{const Y=yield(yield fetch(`${Ta(E.appConfig)}/${D}`,k)).json();if(Y.error)throw Kn.create("token-unsubscribe-failed",{errorInfo:Y.error.message})}catch(G){throw Kn.create("token-unsubscribe-failed",{errorInfo:G?.toString()})}})).apply(this,arguments)}function Ta({projectId:E}){return`${ju}/projects/${E}/registrations`}function Tl(E){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,N.Z)(function*({appConfig:E,installations:D}){const x=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E.apiKey,"x-goog-firebase-installations-auth":`FIS ${x}`})})).apply(this,arguments)}function Wu({p256dh:E,auth:D,endpoint:x,vapidKey:k}){const G={web:{endpoint:x,auth:D,p256dh:E}};return k!==Uu&&(G.web.applicationPubKey=k),G}const bc=6048e5;function Ec(){return Ec=(0,N.Z)(function*(E){const D=yield function Nh(E,D){return Zu.apply(this,arguments)}(E.swRegistration,E.vapidKey),x={vapidKey:E.vapidKey,swScope:E.swRegistration.scope,endpoint:D.endpoint,auth:Bt(D.getKey("auth")),p256dh:Bt(D.getKey("p256dh"))},k=yield fi(E.firebaseDependencies);if(k){if(function em(E,D){return D.vapidKey===E.vapidKey&&D.endpoint===E.endpoint&&D.auth===E.auth&&D.p256dh===E.p256dh}(k.subscriptionOptions,x))return Date.now()>=k.createTime+bc?function xn(E,D){return wc.apply(this,arguments)}(E,{token:k.token,createTime:Date.now(),subscriptionOptions:x}):k.token;try{yield yc(E.firebaseDependencies,k.token)}catch(G){console.warn(G)}return kh(E.firebaseDependencies,x)}return kh(E.firebaseDependencies,x)}),Ec.apply(this,arguments)}function ds(){return ds=(0,N.Z)(function*(E){const D=yield fi(E.firebaseDependencies);D&&(yield yc(E.firebaseDependencies,D.token),yield function Gu(E){return Ca.apply(this,arguments)}(E.firebaseDependencies));const x=yield E.swRegistration.pushManager.getSubscription();return!x||x.unsubscribe()}),ds.apply(this,arguments)}function wc(){return wc=(0,N.Z)(function*(E,D){try{const x=yield function _c(E,D){return qu.apply(this,arguments)}(E.firebaseDependencies,D),k=Object.assign(Object.assign({},D),{token:x,createTime:Date.now()});return yield Ks(E.firebaseDependencies,k),x}catch(x){throw yield function vr(E){return ds.apply(this,arguments)}(E),x}}),wc.apply(this,arguments)}function kh(E,D){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,N.Z)(function*(E,D){const k={token:yield Uo(E,D),createTime:Date.now(),subscriptionOptions:D};return yield Ks(E,k),k.token})).apply(this,arguments)}function Zu(){return(Zu=(0,N.Z)(function*(E,D){return(yield E.pushManager.getSubscription())||E.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:wa(D)})})).apply(this,arguments)}function Ic(E){const D={from:E.from,collapseKey:E.collapse_key,messageId:E.fcmMessageId};return function Al(E,D){if(!D.notification)return;E.notification={};const x=D.notification.title;x&&(E.notification.title=x);const k=D.notification.body;k&&(E.notification.body=k);const G=D.notification.image;G&&(E.notification.image=G);const Y=D.notification.icon;Y&&(E.notification.icon=Y)}(D,E),function Sl(E,D){D.data&&(E.data=D.data)}(D,E),function Ku(E,D){var x,k,G,Y,ae;if(!(D.fcmOptions||null!==(x=D.notification)&&void 0!==x&&x.click_action))return;E.fcmOptions={};const We=null!==(G=null===(k=D.fcmOptions)||void 0===k?void 0:k.link)&&void 0!==G?G:null===(Y=D.notification)||void 0===Y?void 0:Y.click_action;We&&(E.fcmOptions.link=We);const qe=null===(ae=D.fcmOptions)||void 0===ae?void 0:ae.analytics_label;qe&&(E.fcmOptions.analyticsLabel=qe)}(D,E),D}function jo(E,D){const x=[];for(let k=0;k<E.length;k++)x.push(E.charAt(k)),k<D.length&&x.push(D.charAt(k));return x.join("")}function hs(E){return Kn.create("missing-app-config-values",{valueName:E})}jo("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),jo("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class tm{constructor(D,x,k){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const G=function $o(E){if(!E||!E.options)throw hs("App Configuration Object");if(!E.name)throw hs("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:x}=E;for(const k of D)if(!x[k])throw hs(k);return{appName:E.name,projectId:x.projectId,apiKey:x.apiKey,appId:x.appId,senderId:x.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:G,installations:x,analyticsProvider:k}}_delete(){return Promise.resolve()}}function Fh(E){return Dc.apply(this,arguments)}function Dc(){return(Dc=(0,N.Z)(function*(E){try{E.swRegistration=yield navigator.serviceWorker.register(Ot,{scope:Ea}),E.swRegistration.update().catch(()=>{})}catch(D){throw Kn.create("failed-service-worker-registration",{browserErrorMessage:D?.message})}})).apply(this,arguments)}function Sa(){return(Sa=(0,N.Z)(function*(E,D){if(!D&&!E.swRegistration&&(yield Fh(E)),D||!E.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw Kn.create("invalid-sw-registration");E.swRegistration=D}})).apply(this,arguments)}function Js(){return(Js=(0,N.Z)(function*(E,D){D?E.vapidKey=D:E.vapidKey||(E.vapidKey=Uu)})).apply(this,arguments)}function Ho(){return Ho=(0,N.Z)(function*(E,D){if(!navigator)throw Kn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Kn.create("permission-blocked");return yield function Qs(E,D){return Js.apply(this,arguments)}(E,D?.vapidKey),yield function A_(E,D){return Sa.apply(this,arguments)}(E,D?.serviceWorkerRegistration),function Oh(E){return Ec.apply(this,arguments)}(E)}),Ho.apply(this,arguments)}function Xs(){return(Xs=(0,N.Z)(function*(E,D,x){const k=function eo(E){switch(E){case pe.NOTIFICATION_CLICKED:return"notification_open";case pe.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(D);(yield E.firebaseDependencies.analyticsProvider.get()).logEvent(k,{message_id:x[hc],message_name:x[$u],message_time:x[fc],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function to(){return to=(0,N.Z)(function*(E,D){const x=D.data;if(!x.isFirebaseMessaging)return;E.onMessageHandler&&x.messageType===pe.PUSH_RECEIVED&&("function"==typeof E.onMessageHandler?E.onMessageHandler(Ic(x)):E.onMessageHandler.next(Ic(x)));const k=x.data;(function Ml(E){return"object"==typeof E&&!!E&&hc in E})(k)&&"1"===k[Qp]&&(yield function xl(E,D,x){return Xs.apply(this,arguments)}(E,x.messageType,k))}),to.apply(this,arguments)}const Ss="@firebase/messaging",no=E=>{const D=new tm(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),E.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",x=>function Tc(E,D){return to.apply(this,arguments)}(D,x)),D},Ac=E=>{const D=E.getProvider("messaging").getImmediate();return{getToken:k=>function Cc(E,D){return Ho.apply(this,arguments)}(D,k)}};function Lh(){return Sc.apply(this,arguments)}function Sc(){return(Sc=(0,N.Z)(function*(){try{yield(0,ue.eu)()}catch{return!1}return typeof window<"u"&&(0,ue.hl)()&&(0,ue.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ma(){(0,le._registerComponent)(new ie.wA("messaging",no,"PUBLIC")),(0,le._registerComponent)(new ie.wA("messaging-internal",Ac,"PRIVATE")),(0,le.registerVersion)(Ss,"0.12.4"),(0,le.registerVersion)(Ss,"0.12.4","esm2017")}();const vn="analytics",Xu="firebase_id",Mc="origin",Pl=6e4,xc="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Rc="https://www.googletagmanager.com/gtag/js",ir=new be.Yd("@firebase/analytics"),$n=new ue.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Ol(E){if(!E.startsWith(Rc)){const D=$n.create("invalid-gtag-resource",{gtagURL:E});return ir.warn(D.message),""}return E}function xa(E){return Promise.all(E.map(D=>D.catch(x=>x)))}function so(){return(so=(0,N.Z)(function*(E,D,x,k,G,Y){const ae=k[G];try{if(ae)yield D[ae];else{const qe=(yield xa(x)).find(mt=>mt.measurementId===G);qe&&(yield D[qe.appId])}}catch(We){ir.error(We)}E("config",G,Y)})).apply(this,arguments)}function Pa(){return(Pa=(0,N.Z)(function*(E,D,x,k,G){try{let Y=[];if(G&&G.send_to){let ae=G.send_to;Array.isArray(ae)||(ae=[ae]);const We=yield xa(x);for(const qe of ae){const mt=We.find(Nt=>Nt.measurementId===qe),kt=mt&&D[mt.appId];if(!kt){Y=[];break}Y.push(kt)}}0===Y.length&&(Y=Object.values(D)),yield Promise.all(Y),E("event",k,G||{})}catch(Y){ir.error(Y)}})).apply(this,arguments)}const Oa=30,co=new class ao{constructor(D={},x=1e3){this.throttleMetadata=D,this.intervalMillis=x}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,x){this.throttleMetadata[D]=x}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function Uh(E){return new Headers({Accept:"application/json","x-goog-api-key":E})}function en(){return(en=(0,N.Z)(function*(E){var D;const{appId:x,apiKey:k}=E,G={method:"GET",headers:Uh(k)},Y=xc.replace("{app-id}",x),ae=yield fetch(Y,G);if(200!==ae.status&&304!==ae.status){let We="";try{const qe=yield ae.json();null!==(D=qe.error)&&void 0!==D&&D.message&&(We=qe.error.message)}catch{}throw $n.create("config-fetch-failed",{httpStatus:ae.status,responseMessage:We})}return ae.json()})).apply(this,arguments)}function ka(){return(ka=(0,N.Z)(function*(E,D=co,x){const{appId:k,apiKey:G,measurementId:Y}=E.options;if(!k)throw $n.create("no-app-id");if(!G){if(Y)return{measurementId:Y,appId:k};throw $n.create("no-api-key")}const ae=D.getThrottleMetadata(k)||{backoffCount:0,throttleEndTimeMillis:Date.now()},We=new M_;return setTimeout((0,N.Z)(function*(){We.abort()}),void 0!==x?x:Pl),Nl({appId:k,apiKey:G,measurementId:Y},ae,We,D)})).apply(this,arguments)}function Nl(E,D,x){return Fl.apply(this,arguments)}function Fl(){return Fl=(0,N.Z)(function*(E,{throttleEndTimeMillis:D,backoffCount:x},k,G=co){var Y;const{appId:ae,measurementId:We}=E;try{yield function S_(E,D){return new Promise((x,k)=>{const G=Math.max(D-Date.now(),0),Y=setTimeout(x,G);E.addEventListener(()=>{clearTimeout(Y),k($n.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(k,D)}catch(qe){if(We)return ir.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${We} provided in the "measurementId" field in the local Firebase config. [${qe?.message}]`),{appId:ae,measurementId:We};throw qe}try{const qe=yield function ed(E){return en.apply(this,arguments)}(E);return G.deleteThrottleMetadata(ae),qe}catch(qe){const mt=qe;if(!function jh(E){if(!(E instanceof ue.ZR&&E.customData))return!1;const D=Number(E.customData.httpStatus);return 429===D||500===D||503===D||504===D}(mt)){if(G.deleteThrottleMetadata(ae),We)return ir.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${We} provided in the "measurementId" field in the local Firebase config. [${mt?.message}]`),{appId:ae,measurementId:We};throw qe}const kt=503===Number(null===(Y=mt?.customData)||void 0===Y?void 0:Y.httpStatus)?(0,ue.$s)(x,G.intervalMillis,Oa):(0,ue.$s)(x,G.intervalMillis),Nt={throttleEndTimeMillis:Date.now()+kt,backoffCount:x+1};return G.setThrottleMetadata(ae,Nt),ir.debug(`Calling attemptFetch again in ${kt} millis`),Nl(E,Nt,k,G)}}),Fl.apply(this,arguments)}class M_{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}let lo,zh;function $h(){return($h=(0,N.Z)(function*(E,D,x,k,G){if(G&&G.global)E("event",x,k);else{const Y=yield D;E("event",x,Object.assign(Object.assign({},k),{send_to:Y}))}})).apply(this,arguments)}function ho(){return(ho=(0,N.Z)(function*(){if(!(0,ue.hl)())return ir.warn($n.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ue.eu)()}catch(E){return ir.warn($n.create("indexeddb-unavailable",{errorInfo:E?.toString()}).message),!1}return!0})).apply(this,arguments)}function Fa(){return Fa=(0,N.Z)(function*(E,D,x,k,G,Y,ae){var We;const qe=function nm(E){return ka.apply(this,arguments)}(E);qe.then(Yn=>{x[Yn.measurementId]=Yn.appId,E.options.measurementId&&Yn.measurementId!==E.options.measurementId&&ir.warn(`The measurement ID in the local Firebase config (${E.options.measurementId}) does not match the measurement ID fetched from the server (${Yn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Yn=>ir.error(Yn)),D.push(qe);const mt=function Hr(){return ho.apply(this,arguments)}().then(Yn=>{if(Yn)return k.getId()}),[kt,Nt]=yield Promise.all([qe,mt]);(function oo(E){const D=window.document.getElementsByTagName("script");for(const x of Object.values(D))if(x.src&&x.src.includes(Rc)&&x.src.includes(E))return x;return null})(Y)||function ps(E,D){const x=function Ra(E,D){let x;return window.trustedTypes&&(x=window.trustedTypes.createPolicy(E,D)),x}("firebase-js-sdk-policy",{createScriptURL:Ol}),k=document.createElement("script"),G=`${Rc}?l=${E}&id=${D}`;k.src=x?x?.createScriptURL(G):G,k.async=!0,document.head.appendChild(k)}(Y,kt.measurementId),zh&&(G("consent","default",zh),function Vl(E){zh=E}(void 0)),G("js",new Date);const Si=null!==(We=ae?.config)&&void 0!==We?We:{};return Si[Mc]="firebase",Si.update=!0,null!=Nt&&(Si[Xu]=Nt),G("config",kt.measurementId,Si),lo&&(G("set",lo),function Fc(E){lo=E}(void 0)),kt.measurementId}),Fa.apply(this,arguments)}class ei{constructor(D){this.app=D}_delete(){return delete ti[this.app.options.appId],Promise.resolve()}}let ti={},Gh=[];const Wo={};let Zo,or,Lc="dataLayer",xs="gtag",La=!1;function Vc(E,D,x){!function fo(){const E=[];if((0,ue.ru)()&&E.push("This is a browser extension environment."),(0,ue.zI)()||E.push("Cookies are not available."),E.length>0){const D=E.map((k,G)=>`(${G+1}) ${k}`).join(" "),x=$n.create("invalid-analytics-context",{errorInfo:D});ir.warn(x.message)}}();const k=E.options.appId;if(!k)throw $n.create("no-app-id");if(!E.options.apiKey){if(!E.options.measurementId)throw $n.create("no-api-key");ir.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${E.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ti[k])throw $n.create("already-exists",{id:k});if(!La){!function Vh(E){let D=[];Array.isArray(window[E])?D=window[E]:window[E]=D}(Lc);const{wrappedGtag:Y,gtagCore:ae}=function Ms(E,D,x,k,G){let Y=function(...ae){window[k].push(arguments)};return window[G]&&"function"==typeof window[G]&&(Y=window[G]),window[G]=function qo(E,D,x,k){function Y(){return Y=(0,N.Z)(function*(ae,...We){try{if("event"===ae){const[qe,mt]=We;yield function kl(E,D,x,k,G){return Pa.apply(this,arguments)}(E,D,x,qe,mt)}else if("config"===ae){const[qe,mt]=We;yield function Pc(E,D,x,k,G,Y){return so.apply(this,arguments)}(E,D,x,k,qe,mt)}else if("consent"===ae){const[qe]=We;E("consent","update",qe)}else if("get"===ae){const[qe,mt,kt]=We;E("get",qe,mt,kt)}else if("set"===ae){const[qe]=We;E("set",qe)}else E(ae,...We)}catch(qe){ir.error(qe)}}),Y.apply(this,arguments)}return function G(ae){return Y.apply(this,arguments)}}(Y,E,D,x),{gtagCore:Y,wrappedGtag:window[G]}}(ti,Gh,Wo,Lc,xs);or=Y,Zo=ae,La=!0}return ti[k]=function ms(E,D,x,k,G,Y,ae){return Fa.apply(this,arguments)}(E,Gh,Wo,D,Zo,Lc,x),new ei(E)}function Bc(){return po.apply(this,arguments)}function po(){return(po=(0,N.Z)(function*(){if((0,ue.ru)()||!(0,ue.zI)()||!(0,ue.hl)())return!1;try{return yield(0,ue.eu)()}catch{return!1}})).apply(this,arguments)}const id="@firebase/analytics";!function om(){(0,le._registerComponent)(new ie.wA(vn,(D,{options:x})=>Vc(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),x),"PUBLIC")),(0,le._registerComponent)(new ie.wA("analytics-internal",function E(D){try{const x=D.getProvider(vn).getImmediate();return{logEvent:(k,G,Y)=>function rd(E,D,x,k){E=(0,ue.m9)(E),function x_(E,D,x,k,G){return $h.apply(this,arguments)}(or,ti[E.app.options.appId],D,x,k).catch(G=>ir.error(G))}(x,k,G,Y)}}catch(x){throw $n.create("interop-component-reg-failed",{reason:x})}},"PRIVATE")),(0,le.registerVersion)(id,"0.10.0"),(0,le.registerVersion)(id,"0.10.0","esm2017")}();var sd=F(4408),jl=F(7565);const cm=new class $l extends jl.v{}(class am extends sd.o{constructor(D,x){super(D,x),this.scheduler=D,this.work=x}schedule(D,x=0){return x>0?super.schedule(D,x):(this.delay=x,this.state=D,this.scheduler.flush(this),this)}execute(D,x){return x>0||this.closed?super.execute(D,x):this._execute(D,x)}requestAsyncId(D,x,k=0){return null!=k&&k>0||null==k&&this.delay>0?super.requestAsyncId(D,x,k):(D.flush(this),0)}});var Zh=F(4986),Kh=F(8505),Yh=F(9468),Hl=F(5363);const od=new d.GfV("7.6.1"),Va="__angularfire_symbol__analyticsIsSupportedValue",zl="__angularfire_symbol__analyticsIsSupported",Qh="__angularfire_symbol__remoteConfigIsSupportedValue",Ba="__angularfire_symbol__remoteConfigIsSupported",ad="__angularfire_symbol__messagingIsSupportedValue",cd="__angularfire_symbol__messagingIsSupported";function Xh(E,D,x){if(D){if(1===D.length)return D[0];const Y=D.filter(ae=>ae.app===x);if(1===Y.length)return Y[0]}return x.container.getProvider(E).getImmediate({optional:!0})}globalThis[zl]||(globalThis[zl]=Bc().then(E=>globalThis[Va]=E).catch(()=>globalThis[Va]=!1)),globalThis[cd]||(globalThis[cd]=Lh().then(E=>globalThis[ad]=E).catch(()=>globalThis[ad]=!1)),globalThis[Ba]||(globalThis[Ba]=wl().then(E=>globalThis[Qh]=E).catch(()=>globalThis[Qh]=!1));const ld=(E,D)=>{const x=D?[D]:(0,ee.C6)(),k=[];return x.forEach(G=>{G.container.getProvider(E).instances.forEach(ae=>{k.includes(ae)||k.push(ae)})}),k};function Rs(){}class ud{constructor(D,x=cm){this.zone=D,this.delegate=x}now(){return this.delegate.now()}schedule(D,x,k){const G=this.zone;return this.delegate.schedule(function(ae){G.runGuarded(()=>{D.apply(this,[ae])})},x,k)}}class ef{constructor(D){this.zone=D,this.task=null}call(D,x){const k=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Rs,{},Rs,Rs)),x.pipe((0,Kh.b)({next:k,complete:k,error:k})).subscribe(D).add(k)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let qi=(()=>{class E{constructor(x){this.ngZone=x,this.outsideAngular=x.runOutsideAngular(()=>new ud(Zone.current)),this.insideAngular=x.run(()=>new ud(Zone.current,Zh.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return E.\u0275fac=function(x){return new(x||E)(d.LFG(d.R0b))},E.\u0275prov=d.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function Jo(){const E=globalThis.\u0275AngularFireScheduler;if(!E)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return E}function nf(E){return Jo(),function hm(E){return function(x){return(x=x.lift(new ef(E.ngZone))).pipe((0,Yh.R)(E.outsideAngular),(0,Hl.Q)(E.insideAngular))}}(Jo())(E)}},2090:(wt,Me,F)=>{F.d(Me,{$s:()=>Ii,BH:()=>Ce,G6:()=>Te,L:()=>me,LL:()=>$t,Pz:()=>De,Sg:()=>Ge,UG:()=>oe,US:()=>ie,ZB:()=>K,ZR:()=>_t,aH:()=>Ne,b$:()=>Zt,eu:()=>Ke,hl:()=>Re,jU:()=>St,m9:()=>Br,ne:()=>an,pd:()=>Vi,r3:()=>ci,ru:()=>st,tV:()=>z,uI:()=>dt,vZ:()=>bt,w1:()=>$s,xO:()=>_r,xb:()=>Hs,z$:()=>Le,zI:()=>Be,zd:()=>Lr});const le=function(U){const V=[];let W=0;for(let Ee=0;Ee<U.length;Ee++){let te=U.charCodeAt(Ee);te<128?V[W++]=te:te<2048?(V[W++]=te>>6|192,V[W++]=63&te|128):55296==(64512&te)&&Ee+1<U.length&&56320==(64512&U.charCodeAt(Ee+1))?(te=65536+((1023&te)<<10)+(1023&U.charCodeAt(++Ee)),V[W++]=te>>18|240,V[W++]=te>>12&63|128,V[W++]=te>>6&63|128,V[W++]=63&te|128):(V[W++]=te>>12|224,V[W++]=te>>6&63|128,V[W++]=63&te|128)}return V},ie={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(U,V){if(!Array.isArray(U))throw Error("encodeByteArray takes an array as a parameter");this.init_();const W=V?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ee=[];for(let te=0;te<U.length;te+=3){const Ve=U[te],Mt=te+1<U.length,nn=Mt?U[te+1]:0,Un=te+2<U.length,Mn=Un?U[te+2]:0;let xr=(15&nn)<<2|Mn>>6,Ci=63&Mn;Un||(Ci=64,Mt||(xr=64)),Ee.push(W[Ve>>2],W[(3&Ve)<<4|nn>>4],W[xr],W[Ci])}return Ee.join("")},encodeString(U,V){return this.HAS_NATIVE_SUPPORT&&!V?btoa(U):this.encodeByteArray(le(U),V)},decodeString(U,V){return this.HAS_NATIVE_SUPPORT&&!V?atob(U):function(U){const V=[];let W=0,Ee=0;for(;W<U.length;){const te=U[W++];if(te<128)V[Ee++]=String.fromCharCode(te);else if(te>191&&te<224){const Ve=U[W++];V[Ee++]=String.fromCharCode((31&te)<<6|63&Ve)}else if(te>239&&te<365){const Un=((7&te)<<18|(63&U[W++])<<12|(63&U[W++])<<6|63&U[W++])-65536;V[Ee++]=String.fromCharCode(55296+(Un>>10)),V[Ee++]=String.fromCharCode(56320+(1023&Un))}else{const Ve=U[W++],Mt=U[W++];V[Ee++]=String.fromCharCode((15&te)<<12|(63&Ve)<<6|63&Mt)}}return V.join("")}(this.decodeStringToByteArray(U,V))},decodeStringToByteArray(U,V){this.init_();const W=V?this.charToByteMapWebSafe_:this.charToByteMap_,Ee=[];for(let te=0;te<U.length;){const Ve=W[U.charAt(te++)],nn=te<U.length?W[U.charAt(te)]:0;++te;const Mn=te<U.length?W[U.charAt(te)]:64;++te;const Yt=te<U.length?W[U.charAt(te)]:64;if(++te,null==Ve||null==nn||null==Mn||null==Yt)throw new be;Ee.push(Ve<<2|nn>>4),64!==Mn&&(Ee.push(nn<<4&240|Mn>>2),64!==Yt&&Ee.push(Mn<<6&192|Yt))}return Ee},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let U=0;U<this.ENCODED_VALS.length;U++)this.byteToCharMap_[U]=this.ENCODED_VALS.charAt(U),this.charToByteMap_[this.byteToCharMap_[U]]=U,this.byteToCharMapWebSafe_[U]=this.ENCODED_VALS_WEBSAFE.charAt(U),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[U]]=U,U>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(U)]=U,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(U)]=U)}}};class be extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const me=function(U){return function(U){const V=le(U);return ie.encodeByteArray(V,!0)}(U).replace(/\./g,"")},z=function(U){try{return ie.decodeString(U,!0)}catch(V){console.error("base64Decode failed: ",V)}return null};function K(U,V){if(!(V instanceof Object))return V;switch(V.constructor){case Date:return new Date(V.getTime());case Object:void 0===U&&(U={});break;case Array:U=[];break;default:return V}for(const W in V)!V.hasOwnProperty(W)||!He(W)||(U[W]=K(U[W],V[W]));return U}function He(U){return"__proto__"!==U}const Oe=()=>{try{return function Se(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const U=process.env.__FIREBASE_DEFAULTS__;return U?JSON.parse(U):void 0})()||(()=>{if(typeof document>"u")return;let U;try{U=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const V=U&&z(U[1]);return V&&JSON.parse(V)})()}catch(U){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${U}`)}},Ne=()=>{var U;return null===(U=Oe())||void 0===U?void 0:U.config},De=U=>{var V;return null===(V=Oe())||void 0===V?void 0:V[`_${U}`]};class Ce{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((V,W)=>{this.resolve=V,this.reject=W})}wrapCallback(V){return(W,Ee)=>{W?this.reject(W):this.resolve(Ee),"function"==typeof V&&(this.promise.catch(()=>{}),1===V.length?V(W):V(W,Ee))}}}function Ge(U,V){if(U.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ee=V||"demo-project",te=U.iat||0,Ve=U.sub||U.user_id;if(!Ve)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Mt=Object.assign({iss:`https://securetoken.google.com/${Ee}`,aud:Ee,iat:te,exp:te+3600,auth_time:te,sub:Ve,user_id:Ve,firebase:{sign_in_provider:"custom",identities:{}}},U);return[me(JSON.stringify({alg:"none",type:"JWT"})),me(JSON.stringify(Mt)),""].join(".")}function Le(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function dt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Le())}function oe(){var U;const V=null===(U=Oe())||void 0===U?void 0:U.forceEnvironment;if("node"===V)return!0;if("browser"===V)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function St(){return"object"==typeof self&&self.self===self}function st(){const U="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof U&&void 0!==U.id}function Zt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function $s(){const U=Le();return U.indexOf("MSIE ")>=0||U.indexOf("Trident/")>=0}function Te(){return!oe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Re(){try{return"object"==typeof indexedDB}catch{return!1}}function Ke(){return new Promise((U,V)=>{try{let W=!0;const Ee="validate-browser-context-for-indexeddb-analytics-module",te=self.indexedDB.open(Ee);te.onsuccess=()=>{te.result.close(),W||self.indexedDB.deleteDatabase(Ee),U(!0)},te.onupgradeneeded=()=>{W=!1},te.onerror=()=>{var Ve;V((null===(Ve=te.error)||void 0===Ve?void 0:Ve.message)||"")}}catch(W){V(W)}})}function Be(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class _t extends Error{constructor(V,W,Ee){super(W),this.code=V,this.customData=Ee,this.name="FirebaseError",Object.setPrototypeOf(this,_t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$t.prototype.create)}}class $t{constructor(V,W,Ee){this.service=V,this.serviceName=W,this.errors=Ee}create(V,...W){const Ee=W[0]||{},te=`${this.service}/${V}`,Ve=this.errors[V],Mt=Ve?function yt(U,V){return U.replace(Dt,(W,Ee)=>{const te=V[Ee];return null!=te?String(te):`<${Ee}?>`})}(Ve,Ee):"Error";return new _t(te,`${this.serviceName}: ${Mt} (${te}).`,Ee)}}const Dt=/\{\$([^}]+)}/g;function ci(U,V){return Object.prototype.hasOwnProperty.call(U,V)}function Hs(U){for(const V in U)if(Object.prototype.hasOwnProperty.call(U,V))return!1;return!0}function bt(U,V){if(U===V)return!0;const W=Object.keys(U),Ee=Object.keys(V);for(const te of W){if(!Ee.includes(te))return!1;const Ve=U[te],Mt=V[te];if(Wr(Ve)&&Wr(Mt)){if(!bt(Ve,Mt))return!1}else if(Ve!==Mt)return!1}for(const te of Ee)if(!W.includes(te))return!1;return!0}function Wr(U){return null!==U&&"object"==typeof U}function _r(U){const V=[];for(const[W,Ee]of Object.entries(U))Array.isArray(Ee)?Ee.forEach(te=>{V.push(encodeURIComponent(W)+"="+encodeURIComponent(te))}):V.push(encodeURIComponent(W)+"="+encodeURIComponent(Ee));return V.length?"&"+V.join("&"):""}function Lr(U){const V={};return U.replace(/^\?/,"").split("&").forEach(Ee=>{if(Ee){const[te,Ve]=Ee.split("=");V[decodeURIComponent(te)]=decodeURIComponent(Ve)}}),V}function Vi(U){const V=U.indexOf("?");if(!V)return"";const W=U.indexOf("#",V);return U.substring(V,W>0?W:void 0)}function an(U,V){const W=new ht(U,V);return W.subscribe.bind(W)}class ht{constructor(V,W){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=W,this.task.then(()=>{V(this)}).catch(Ee=>{this.error(Ee)})}next(V){this.forEachObserver(W=>{W.next(V)})}error(V){this.forEachObserver(W=>{W.error(V)}),this.close(V)}complete(){this.forEachObserver(V=>{V.complete()}),this.close()}subscribe(V,W,Ee){let te;if(void 0===V&&void 0===W&&void 0===Ee)throw new Error("Missing Observer.");te=function li(U,V){if("object"!=typeof U||null===U)return!1;for(const W of V)if(W in U&&"function"==typeof U[W])return!0;return!1}(V,["next","error","complete"])?V:{next:V,error:W,complete:Ee},void 0===te.next&&(te.next=Zr),void 0===te.error&&(te.error=Zr),void 0===te.complete&&(te.complete=Zr);const Ve=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?te.error(this.finalError):te.complete()}catch{}}),this.observers.push(te),Ve}unsubscribeOne(V){void 0===this.observers||void 0===this.observers[V]||(delete this.observers[V],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(V){if(!this.finalized)for(let W=0;W<this.observers.length;W++)this.sendOne(W,V)}sendOne(V,W){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[V])try{W(this.observers[V])}catch(Ee){typeof console<"u"&&console.error&&console.error(Ee)}})}close(V){this.finalized||(this.finalized=!0,void 0!==V&&(this.finalError=V),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Zr(){}const cn=1e3,ui=2,kn=144e5,Gn=.5;function Ii(U,V=cn,W=ui){const Ee=V*Math.pow(W,U),te=Math.round(Gn*Ee*(Math.random()-.5)*2);return Math.min(kn,Ee+te)}function Br(U){return U&&U._delegate?U._delegate:U}},6145:(wt,Me,F)=>{var d=F(4650);let ee=null;function N(){return ee}class ue{}const ie=new d.OlP("DocumentToken");let be=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return function Ie(){return(0,d.LFG)(z)}()},providedIn:"platform"}),n})();const me=new d.OlP("Location Initialized");let z=(()=>{class n extends be{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return N().getBaseHref(this._doc)}onPopState(t){const r=N().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=N().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){H()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){H()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ie))},n.\u0275prov=d.Yz7({token:n,factory:function(){return function K(){return new z((0,d.LFG)(ie))}()},providedIn:"platform"}),n})();function H(){return!!window.history.pushState}function He(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Se(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ye(n){return n&&"?"!==n[0]?"?"+n:n}let pt=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(Oe)},providedIn:"root"}),n})();const ge=new d.OlP("appBaseHref");let Oe=(()=>{class n extends pt{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,d.f3M)(ie).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return He(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Ye(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,a){const l=this.prepareExternalUrl(i+Ye(a));this._platformLocation.pushState(t,r,l)}replaceState(t,r,i,a){const l=this.prepareExternalUrl(i+Ye(a));this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(be),d.LFG(ge,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ke=(()=>{class n extends pt{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=He(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,a){let l=this.prepareExternalUrl(i+Ye(a));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(t,r,l)}replaceState(t,r,i,a){let l=this.prepareExternalUrl(i+Ye(a));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(be),d.LFG(ge,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),$e=(()=>{class n{constructor(t){this._subject=new d.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function Ge(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Se(Ce(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ye(r))}normalize(t){return n.stripTrailingSlash(function De(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,Ce(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ye(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ye(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Ye,n.joinWithSlash=He,n.stripTrailingSlash=Se,n.\u0275fac=function(t){return new(t||n)(d.LFG(pt))},n.\u0275prov=d.Yz7({token:n,factory:function(){return function Ne(){return new $e((0,d.LFG)(pt))}()},providedIn:"root"}),n})();function Ce(n){return n.replace(/\/index.html$/,"")}var St=(()=>((St=St||{})[St.Format=0]="Format",St[St.Standalone=1]="Standalone",St))(),st=(()=>((st=st||{})[st.Narrow=0]="Narrow",st[st.Abbreviated=1]="Abbreviated",st[st.Wide=2]="Wide",st[st.Short=3]="Short",st))(),Zt=(()=>((Zt=Zt||{})[Zt.Short=0]="Short",Zt[Zt.Medium=1]="Medium",Zt[Zt.Long=2]="Long",Zt[Zt.Full=3]="Full",Zt))(),ft=(()=>((ft=ft||{})[ft.Decimal=0]="Decimal",ft[ft.Group=1]="Group",ft[ft.List=2]="List",ft[ft.PercentSign=3]="PercentSign",ft[ft.PlusSign=4]="PlusSign",ft[ft.MinusSign=5]="MinusSign",ft[ft.Exponential=6]="Exponential",ft[ft.SuperscriptingExponent=7]="SuperscriptingExponent",ft[ft.PerMille=8]="PerMille",ft[ft.Infinity=9]="Infinity",ft[ft.NaN=10]="NaN",ft[ft.TimeSeparator=11]="TimeSeparator",ft[ft.CurrencyDecimal=12]="CurrencyDecimal",ft[ft.CurrencyGroup=13]="CurrencyGroup",ft))();function _t(n,e){return Mr((0,d.cg1)(n)[d.wAp.DateFormat],e)}function $t(n,e){return Mr((0,d.cg1)(n)[d.wAp.TimeFormat],e)}function yt(n,e){return Mr((0,d.cg1)(n)[d.wAp.DateTimeFormat],e)}function Dt(n,e){const t=(0,d.cg1)(n),r=t[d.wAp.NumberSymbols][e];if(typeof r>"u"){if(e===ft.CurrencyDecimal)return t[d.wAp.NumberSymbols][ft.Decimal];if(e===ft.CurrencyGroup)return t[d.wAp.NumberSymbols][ft.Group]}return r}function Fr(n){if(!n[d.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[d.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Mr(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function bt(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const Lr=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Vi={},sn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var an=(()=>((an=an||{})[an.Short=0]="Short",an[an.ShortGMT=1]="ShortGMT",an[an.Long=2]="Long",an[an.Extended=3]="Extended",an))(),ht=(()=>((ht=ht||{})[ht.FullYear=0]="FullYear",ht[ht.Month=1]="Month",ht[ht.Date=2]="Date",ht[ht.Hours=3]="Hours",ht[ht.Minutes=4]="Minutes",ht[ht.Seconds=5]="Seconds",ht[ht.FractionalSeconds=6]="FractionalSeconds",ht[ht.Day=7]="Day",ht))(),Pt=(()=>((Pt=Pt||{})[Pt.DayPeriods=0]="DayPeriods",Pt[Pt.Days=1]="Days",Pt[Pt.Months=2]="Months",Pt[Pt.Eras=3]="Eras",Pt))();function li(n,e,t,r){let i=function te(n){if(Mt(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,a=1,l=1]=n.split("-").map(p=>+p);return Zr(i,a-1,l)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(Lr))return function Ve(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,a=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const l=Number(n[4]||0)-t,p=Number(n[5]||0)-r,y=Number(n[6]||0),w=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return a.call(e,l,p,y,w),e}(r)}const e=new Date(n);if(!Mt(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=dr(t,e)||e;let p,l=[];for(;e;){if(p=sn.exec(e),!p){l.push(e);break}{l=l.concat(p.slice(1));const T=l.pop();if(!T)break;e=T}}let y=i.getTimezoneOffset();r&&(y=V(r,y),i=function Ee(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function W(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(V(e,i)-i))}(i,r,!0));let w="";return l.forEach(T=>{const R=function U(n){if(Br[n])return Br[n];let e;switch(n){case"G":case"GG":case"GGG":e=Xt(Pt.Eras,st.Abbreviated);break;case"GGGG":e=Xt(Pt.Eras,st.Wide);break;case"GGGGG":e=Xt(Pt.Eras,st.Narrow);break;case"y":e=yn(ht.FullYear,1,0,!1,!0);break;case"yy":e=yn(ht.FullYear,2,0,!0,!0);break;case"yyy":e=yn(ht.FullYear,3,0,!1,!0);break;case"yyyy":e=yn(ht.FullYear,4,0,!1,!0);break;case"Y":e=Di(1);break;case"YY":e=Di(2,!0);break;case"YYY":e=Di(3);break;case"YYYY":e=Di(4);break;case"M":case"L":e=yn(ht.Month,1,1);break;case"MM":case"LL":e=yn(ht.Month,2,1);break;case"MMM":e=Xt(Pt.Months,st.Abbreviated);break;case"MMMM":e=Xt(Pt.Months,st.Wide);break;case"MMMMM":e=Xt(Pt.Months,st.Narrow);break;case"LLL":e=Xt(Pt.Months,st.Abbreviated,St.Standalone);break;case"LLLL":e=Xt(Pt.Months,st.Wide,St.Standalone);break;case"LLLLL":e=Xt(Pt.Months,st.Narrow,St.Standalone);break;case"w":e=Tn(1);break;case"ww":e=Tn(2);break;case"W":e=Tn(1,!0);break;case"d":e=yn(ht.Date,1);break;case"dd":e=yn(ht.Date,2);break;case"c":case"cc":e=yn(ht.Day,1);break;case"ccc":e=Xt(Pt.Days,st.Abbreviated,St.Standalone);break;case"cccc":e=Xt(Pt.Days,st.Wide,St.Standalone);break;case"ccccc":e=Xt(Pt.Days,st.Narrow,St.Standalone);break;case"cccccc":e=Xt(Pt.Days,st.Short,St.Standalone);break;case"E":case"EE":case"EEE":e=Xt(Pt.Days,st.Abbreviated);break;case"EEEE":e=Xt(Pt.Days,st.Wide);break;case"EEEEE":e=Xt(Pt.Days,st.Narrow);break;case"EEEEEE":e=Xt(Pt.Days,st.Short);break;case"a":case"aa":case"aaa":e=Xt(Pt.DayPeriods,st.Abbreviated);break;case"aaaa":e=Xt(Pt.DayPeriods,st.Wide);break;case"aaaaa":e=Xt(Pt.DayPeriods,st.Narrow);break;case"b":case"bb":case"bbb":e=Xt(Pt.DayPeriods,st.Abbreviated,St.Standalone,!0);break;case"bbbb":e=Xt(Pt.DayPeriods,st.Wide,St.Standalone,!0);break;case"bbbbb":e=Xt(Pt.DayPeriods,st.Narrow,St.Standalone,!0);break;case"B":case"BB":case"BBB":e=Xt(Pt.DayPeriods,st.Abbreviated,St.Format,!0);break;case"BBBB":e=Xt(Pt.DayPeriods,st.Wide,St.Format,!0);break;case"BBBBB":e=Xt(Pt.DayPeriods,st.Narrow,St.Format,!0);break;case"h":e=yn(ht.Hours,1,-12);break;case"hh":e=yn(ht.Hours,2,-12);break;case"H":e=yn(ht.Hours,1);break;case"HH":e=yn(ht.Hours,2);break;case"m":e=yn(ht.Minutes,1);break;case"mm":e=yn(ht.Minutes,2);break;case"s":e=yn(ht.Seconds,1);break;case"ss":e=yn(ht.Seconds,2);break;case"S":e=yn(ht.FractionalSeconds,1);break;case"SS":e=yn(ht.FractionalSeconds,2);break;case"SSS":e=yn(ht.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=cn(an.Short);break;case"ZZZZZ":e=cn(an.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=cn(an.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=cn(an.Long);break;default:return null}return Br[n]=e,e}(T);w+=R?R(i,t,y):"''"===T?"'":T.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),w}function Zr(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function dr(n,e){const t=function fe(n){return(0,d.cg1)(n)[d.wAp.LocaleId]}(n);if(Vi[t]=Vi[t]||{},Vi[t][e])return Vi[t][e];let r="";switch(e){case"shortDate":r=_t(n,Zt.Short);break;case"mediumDate":r=_t(n,Zt.Medium);break;case"longDate":r=_t(n,Zt.Long);break;case"fullDate":r=_t(n,Zt.Full);break;case"shortTime":r=$t(n,Zt.Short);break;case"mediumTime":r=$t(n,Zt.Medium);break;case"longTime":r=$t(n,Zt.Long);break;case"fullTime":r=$t(n,Zt.Full);break;case"short":const i=dr(n,"shortTime"),a=dr(n,"shortDate");r=Vr(yt(n,Zt.Short),[i,a]);break;case"medium":const l=dr(n,"mediumTime"),p=dr(n,"mediumDate");r=Vr(yt(n,Zt.Medium),[l,p]);break;case"long":const y=dr(n,"longTime"),w=dr(n,"longDate");r=Vr(yt(n,Zt.Long),[y,w]);break;case"full":const T=dr(n,"fullTime"),R=dr(n,"fullDate");r=Vr(yt(n,Zt.Full),[T,R])}return r&&(Vi[t][e]=r),r}function Vr(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function On(n,e,t="-",r,i){let a="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,a=t));let l=String(n);for(;l.length<e;)l="0"+l;return r&&(l=l.slice(l.length-e)),a+l}function yn(n,e,t=0,r=!1,i=!1){return function(a,l){let p=function Is(n,e){switch(n){case ht.FullYear:return e.getFullYear();case ht.Month:return e.getMonth();case ht.Date:return e.getDate();case ht.Hours:return e.getHours();case ht.Minutes:return e.getMinutes();case ht.Seconds:return e.getSeconds();case ht.FractionalSeconds:return e.getMilliseconds();case ht.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,a);if((t>0||p>-t)&&(p+=t),n===ht.Hours)0===p&&-12===t&&(p=12);else if(n===ht.FractionalSeconds)return function Kr(n,e){return On(n,3).substring(0,e)}(p,e);const y=Dt(l,ft.MinusSign);return On(p,e,y,r,i)}}function Xt(n,e,t=St.Format,r=!1){return function(i,a){return function Bi(n,e,t,r,i,a){switch(t){case Pt.Months:return function Re(n,e,t){const r=(0,d.cg1)(n),a=Mr([r[d.wAp.MonthsFormat],r[d.wAp.MonthsStandalone]],e);return Mr(a,t)}(e,i,r)[n.getMonth()];case Pt.Days:return function Te(n,e,t){const r=(0,d.cg1)(n),a=Mr([r[d.wAp.DaysFormat],r[d.wAp.DaysStandalone]],e);return Mr(a,t)}(e,i,r)[n.getDay()];case Pt.DayPeriods:const l=n.getHours(),p=n.getMinutes();if(a){const w=function ci(n){const e=(0,d.cg1)(n);return Fr(e),(e[d.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?bt(r):[bt(r[0]),bt(r[1])])}(e),T=function Ro(n,e,t){const r=(0,d.cg1)(n);Fr(r);const a=Mr([r[d.wAp.ExtraData][0],r[d.wAp.ExtraData][1]],e)||[];return Mr(a,t)||[]}(e,i,r),R=w.findIndex(B=>{if(Array.isArray(B)){const[q,Q]=B,ce=l>=q.hours&&p>=q.minutes,_e=l<Q.hours||l===Q.hours&&p<Q.minutes;if(q.hours<Q.hours){if(ce&&_e)return!0}else if(ce||_e)return!0}else if(B.hours===l&&B.minutes===p)return!0;return!1});if(-1!==R)return T[R]}return function we(n,e,t){const r=(0,d.cg1)(n),a=Mr([r[d.wAp.DayPeriodsFormat],r[d.wAp.DayPeriodsStandalone]],e);return Mr(a,t)}(e,i,r)[l<12?0:1];case Pt.Eras:return function Ke(n,e){return Mr((0,d.cg1)(n)[d.wAp.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,a,n,e,t,r)}}function cn(n){return function(e,t,r){const i=-1*r,a=Dt(t,ft.MinusSign),l=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case an.Short:return(i>=0?"+":"")+On(l,2,a)+On(Math.abs(i%60),2,a);case an.ShortGMT:return"GMT"+(i>=0?"+":"")+On(l,1,a);case an.Long:return"GMT"+(i>=0?"+":"")+On(l,2,a)+":"+On(Math.abs(i%60),2,a);case an.Extended:return 0===r?"Z":(i>=0?"+":"")+On(l,2,a)+":"+On(Math.abs(i%60),2,a);default:throw new Error(`Unknown zone width "${n}"`)}}}const ui=0,kn=4;function Ii(n){return Zr(n.getFullYear(),n.getMonth(),n.getDate()+(kn-n.getDay()))}function Tn(n,e=!1){return function(t,r){let i;if(e){const a=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,l=t.getDate();i=1+Math.floor((l+a)/7)}else{const a=Ii(t),l=function Gn(n){const e=Zr(n,ui,1).getDay();return Zr(n,0,1+(e<=kn?kn:kn+7)-e)}(a.getFullYear()),p=a.getTime()-l.getTime();i=1+Math.round(p/6048e5)}return On(i,n,Dt(r,ft.MinusSign))}}function Di(n,e=!1){return function(t,r){return On(Ii(t).getFullYear(),n,Dt(r,ft.MinusSign),e)}}const Br={};function V(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function Mt(n){return n instanceof Date&&!isNaN(n.valueOf())}const di=/\s+/,Je=[];let Ft=(()=>{class n{constructor(t,r,i,a){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=a,this.initialClasses=Je,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(di):Je}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(di):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,Boolean(t[r]));this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(di).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.ZZ4),d.Y36(d.aQg),d.Y36(d.SBq),d.Y36(d.Qsj))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class Wn{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let rs=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,a,l)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Wn(i.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)r.remove(null===a?void 0:a);else if(null!==a){const p=r.get(a);r.move(p,l),Nn(p,i)}});for(let i=0,a=r.length;i<a;i++){const p=r.get(i).context;p.index=i,p.count=a,p.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{Nn(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Nn(n,e){n.context.$implicit=e.item}let ji=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new zt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){ma("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){ma("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class zt{constructor(){this.$implicit=null,this.ngIf=null}}function ma(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,d.AaK)(e)}'.`)}const Fo=new d.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),bl=new d.OlP("DATE_PIPE_DEFAULT_OPTIONS");let Ur=(()=>{class n{constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,a){if(null==t||""===t||t!=t)return null;try{return li(t,r??this.defaultOptions?.dateFormat??"mediumDate",a||this.locale,i??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(l){throw function Yr(n,e){return new d.vHH(2100,!1)}()}}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.soG,16),d.Y36(Fo,24),d.Y36(bl,24))},n.\u0275pipe=d.Yjl({name:"date",type:n,pure:!0,standalone:!0}),n})(),Xr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const Rh="browser",Nu="server";function as(n){return n===Nu}let ya=(()=>{class n{}return n.\u0275prov=(0,d.Yz7)({token:n,providedIn:"root",factory:()=>new Lu((0,d.LFG)(ie),window)}),n})();class Lu{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Cs(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const l=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(l)return l}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Il(this.window.history)||Il(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Il(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Ku extends ue{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ml extends Ku{static makeCurrent(){!function le(n){ee||(ee=n)}(new Ml)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function $o(){return jo=jo||document.querySelector("base"),jo?jo.getAttribute("href"):null}();return null==t?null:function tm(n){hs=hs||document.createElement("a"),hs.setAttribute("href",n);const e=hs.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){jo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Po(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,a]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let hs,jo=null;const Fh=new d.OlP("TRANSITION_ID"),A_=[{provide:d.ip1,useFactory:function Dc(n,e,t){return()=>{t.get(d.CZH).donePromise.then(()=>{const r=N(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<i.length;a++)r.remove(i[a])})}},deps:[Fh,ie,d.zs3],multi:!0}];let Qs=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Js=new d.OlP("EventManagerPlugins");let Cc=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const l=i[a];if(l.supports(t))return this._eventNameToPlugin.set(t,l),l}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Js),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class Ho{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=N().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let xl=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){const i=this.usageCount;let a=i.get(t)??0;return a+=r,a>0?i.set(t,a):i.delete(t),a}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Xs=(()=>{class n extends xl{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.forEach(a=>a.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const i=this.doc.createElement("style");i.textContent=r,t.appendChild(i);const a=this.styleRef.get(r);a?a.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ie))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const eo={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Tc=/%COMP%/g,Ma=new d.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Qu(n,e){return e.flat(100).map(t=>t.replace(Tc,n))}function ro(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let mi=(()=>{class n{constructor(t,r,i,a){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=a,this.rendererByCompId=new Map,this.defaultRenderer=new fs(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(t,r);return i instanceof Xu?i.applyToHost(t):i instanceof vn&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let a=i.get(r.id);if(!a){const l=this.eventManager,p=this.sharedStylesHost,y=this.removeStylesOnCompDestory;switch(r.encapsulation){case d.ifc.Emulated:a=new Xu(l,p,r,this.appId,y);break;case d.ifc.ShadowDom:return new Ju(l,p,t,r);default:a=new vn(l,p,r,y)}a.onDestroy=()=>i.delete(r.id),i.set(r.id,a)}return a}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Cc),d.LFG(Xs),d.LFG(d.AFp),d.LFG(Ma))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class fs{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(eo[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Go(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Go(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const a=eo[i];a?e.setAttributeNS(a,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=eo[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(d.JOm.DashCase|d.JOm.Important)?e.style.setProperty(t,r,i&d.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&d.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,ro(r)):this.eventManager.addEventListener(e,t,ro(r))}}function Go(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Ju extends fs{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=Qu(i.id,i.styles);for(const l of a){const p=document.createElement("style");p.textContent=l,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class vn extends fs{constructor(e,t,r,i,a=r.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=Qu(a,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Xu extends vn{constructor(e,t,r,i,a){const l=i+"-"+r.id;super(e,t,r,a,l),this.contentAttr=function Lh(n){return"_ngcontent-%COMP%".replace(Tc,n)}(l),this.hostAttr=function Sc(n){return"_nghost-%COMP%".replace(Tc,n)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let Mc=(()=>{class n extends Ho{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ie))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Pl=["alt","control","meta","shift"],xc={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Rc={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ir=(()=>{class n extends Ho{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const a=n.parseEventName(r),l=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>N().onAndCancel(t,a.domEventName,l))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=n._normalizeKey(r.pop());let l="",p=r.indexOf("code");if(p>-1&&(r.splice(p,1),l="code."),Pl.forEach(w=>{const T=r.indexOf(w);T>-1&&(r.splice(T,1),l+=w+".")}),l+=a,0!=r.length||0===a.length)return null;const y={};return y.domEventName=i,y.fullKey=l,y}static matchEventFullKeyCode(t,r){let i=xc[t.key]||t.key,a="";return r.indexOf("code.")>-1&&(i=t.code,a="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Pl.forEach(l=>{l!==i&&(0,Rc[l])(t)&&(a+=l+".")}),a+=i,a===r)}static eventCallback(t,r,i){return a=>{n.matchEventFullKeyCode(a,t)&&i.runGuarded(()=>r(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ie))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const kl=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:Rh},{provide:d.g9A,useValue:function ps(){Ml.makeCurrent()},multi:!0},{provide:ie,useFactory:function Pc(){return(0,d.RDi)(document),document},deps:[]}]),Pa=new d.OlP(""),qo=[{provide:d.rWj,useClass:class Sa{addToWindow(e){d.dqk.getAngularTestability=(r,i=!0)=>{const a=e.findTestabilityInTree(r,i);if(null==a)throw new Error("Could not find testability for element.");return a},d.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(r=>{const i=d.dqk.getAllAngularTestabilities();let a=i.length,l=!1;const p=function(y){l=l||y,a--,0==a&&r(l)};i.forEach(function(y){y.whenStable(p)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?N().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:d.lri,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]}],Ms=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function Vh(){return new d.qLn},deps:[]},{provide:Js,useClass:Mc,multi:!0,deps:[ie,d.R0b,d.Lbi]},{provide:Js,useClass:ir,multi:!0,deps:[ie]},{provide:mi,useClass:mi,deps:[Cc,Xs,d.AFp,Ma]},{provide:d.FYo,useExisting:mi},{provide:xl,useExisting:Xs},{provide:Xs,useClass:Xs,deps:[ie]},{provide:Cc,useClass:Cc,deps:[Js,d.R0b]},{provide:class lc{},useClass:Qs,deps:[]},[]];let ho,oo=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:d.AFp,useValue:t.appId},{provide:Fh,useExisting:d.AFp},A_]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Pa,12))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[...Ms,...qo],imports:[Xr,d.hGG]}),n})(),Uh=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ie))},n.\u0275prov=d.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function co(){return new Uh((0,d.LFG)(ie))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;try{ho=typeof Intl<"u"&&Intl.v8BreakIterator}catch{ho=!1}let Wo,ms=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function Fu(n){return n===Rh}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!ho)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.Lbi))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function xs(n){return function Lc(){if(null==Wo&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Wo=!0}))}finally{Wo=Wo||!1}return Wo}()?n:!!n.capture}let Ql=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Cm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[Ql]}),n})();function zc(n){return Array.isArray(n)?n:[n]}function ff(n){return n instanceof d.SBq?n.nativeElement:n}var gs=F(7579),Fn=F(9751);const{isArray:Gc}=Array,{getPrototypeOf:pf,prototype:Tm,keys:mf}=Object;function md(n){if(1===n.length){const e=n[0];if(Gc(e))return{args:e,keys:null};if(function G_(n){return n&&"object"==typeof n&&pf(n)===Tm}(e)){const t=mf(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Sn=F(8996),eu=F(4671),ct=F(4004);const{isArray:qc}=Array;function W_(n){return(0,ct.U)(e=>function q_(n,e){return qc(e)?n(...e):n(e)}(n,e))}var tu=F(7669);function Am(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var mn=F(5403),Sm=F(9672);function Wc(...n){const e=(0,tu.yG)(n),t=(0,tu.jO)(n),{args:r,keys:i}=md(n);if(0===r.length)return(0,Sn.D)([],e);const a=new Fn.y(function Z_(n,e,t=eu.y){return r=>{Ps(e,()=>{const{length:i}=n,a=new Array(i);let l=i,p=i;for(let y=0;y<i;y++)Ps(e,()=>{const w=(0,Sn.D)(n[y],e);let T=!1;w.subscribe((0,mn.x)(r,R=>{a[y]=R,T||(T=!0,p--),p||r.next(t(a.slice()))},()=>{--l||r.complete()}))},r)},r)}}(r,e,i?l=>Am(i,l):eu.y));return t?a.pipe(W_(t)):a}function Ps(n,e,t){n?(0,Sm.f)(t,n,e):e()}var go=F(8189);function ja(...n){return function Mm(){return(0,go.J)(1)}()((0,Sn.D)(n,(0,tu.yG)(n)))}var zr=F(515),Ln=F(4482);function ea(n){return n<=0?()=>zr.E:(0,Ln.e)((e,t)=>{let r=0;e.subscribe((0,mn.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Mi(n,e){return(0,Ln.e)((t,r)=>{let i=0;t.subscribe((0,mn.x)(r,a=>n.call(e,a,i++)&&r.next(a)))})}var K_=F(4986);function f(...n){const e=(0,tu.yG)(n);return(0,Ln.e)((t,r)=>{(e?ja(n,t,e):ja(n,t)).subscribe(r)})}var m=F(8421),b=F(5032);function S(n){return(0,Ln.e)((e,t)=>{(0,m.Xf)(n).subscribe((0,mn.x)(t,()=>t.complete(),b.Z)),!t.closed&&e.subscribe(t)})}const j=new Set;let J,Pe=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):ot}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function ze(n){if(!j.has(n))try{J||(J=document.createElement("style"),J.setAttribute("type","text/css"),document.head.appendChild(J)),J.sheet&&(J.sheet.insertRule(`@media ${n} {body{ }}`,0),j.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ms))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ot(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let lt=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new gs.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return Dn(zc(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let a=Wc(Dn(zc(t)).map(l=>this._registerQuery(l).observable));return a=ja(a.pipe(ea(1)),a.pipe(function xm(n){return Mi((e,t)=>n<=t)}(1),function _(n,e=K_.z){return(0,Ln.e)((t,r)=>{let i=null,a=null,l=null;const p=()=>{if(i){i.unsubscribe(),i=null;const w=a;a=null,r.next(w)}};function y(){const w=l+n,T=e.now();if(T<w)return i=this.schedule(void 0,w-T),void r.add(i);p()}t.subscribe((0,mn.x)(r,w=>{a=w,l=e.now(),i||(i=e.schedule(y,n),r.add(i))},()=>{p(),r.complete()},void 0,()=>{a=i=null}))})}(0))),a.pipe((0,ct.U)(l=>{const p={matches:!1,breakpoints:{}};return l.forEach(({matches:y,query:w})=>{p.matches=p.matches||y,p.breakpoints[w]=y}),p}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),a={observable:new Fn.y(l=>{const p=y=>this._zone.run(()=>l.next(y));return r.addListener(p),()=>{r.removeListener(p)}}).pipe(f(r),(0,ct.U)(({matches:l})=>({query:t,matches:l})),S(this._destroySubject)),mql:r};return this._queries.set(t,a),a}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Pe),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Dn(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}const T0="cdk-high-contrast-black-on-white",yd="cdk-high-contrast-white-on-black",ey="cdk-high-contrast-active";let iu=(()=>{class n{constructor(t,r){this._platform=t,this._document=r,this._breakpointSubscription=(0,d.f3M)(lt).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,a=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),a){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(ey,T0,yd),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?t.add(ey,T0):2===r&&t.add(ey,yd)}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ms),d.LFG(ie))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yf=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(iu))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Cm]}),n})(),ty=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const Ha=new d.OlP("mat-sanity-checks",{providedIn:"root",factory:function vd(){return!0}});let Bm=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!function po(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(iu),d.LFG(Ha,8),d.LFG(ie))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[ty,ty]}),n})();class R0{constructor(e,t,r,i=!1){this._renderer=e,this.element=t,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const P0=xs({passive:!0,capture:!0});class EC{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=function Bc(n){return n.composedPath?n.composedPath()[0]:n.target}(e);t&&this._events.get(e.type)?.forEach((r,i)=>{(i===t||i.contains(t))&&r.forEach(a=>a.handleEvent(e))})}}addHandler(e,t,r,i){const a=this._events.get(t);if(a){const l=a.get(r);l?l.add(i):a.set(r,new Set([i]))}else this._events.set(t,new Map([[r,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,P0)})}removeHandler(e,t,r){const i=this._events.get(e);if(!i)return;const a=i.get(t);a&&(a.delete(r),0===a.size&&i.delete(t),0===i.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,P0)))}}const ny={enterDuration:225,exitDuration:150},ry=xs({passive:!0,capture:!0}),O0=["mousedown","touchstart"],k0=["mouseup","mouseleave","touchend","touchcancel"];class iy{constructor(e,t,r,i){this._target=e,this._ngZone=t,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=ff(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a={...ny,...r.animation};r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const l=r.radius||function N0(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),p=e-i.left,y=t-i.top,w=a.enterDuration,T=document.createElement("div");T.classList.add("mat-ripple-element"),T.style.left=p-l+"px",T.style.top=y-l+"px",T.style.height=2*l+"px",T.style.width=2*l+"px",null!=r.color&&(T.style.backgroundColor=r.color),T.style.transitionDuration=`${w}ms`,this._containerElement.appendChild(T);const R=window.getComputedStyle(T),q=R.transitionDuration,Q="none"===R.transitionProperty||"0s"===q||"0s, 0s"===q||0===i.width&&0===i.height,ce=new R0(this,T,r,Q);T.style.transform="scale3d(1, 1, 1)",ce.state=0,r.persistent||(this._mostRecentTransientRipple=ce);let _e=null;return!Q&&(w||a.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Ze=()=>this._finishRippleTransition(ce),it=()=>this._destroyRipple(ce);T.addEventListener("transitionend",Ze),T.addEventListener("transitioncancel",it),_e={onTransitionEnd:Ze,onTransitionCancel:it}}),this._activeRipples.set(ce,_e),(Q||!w)&&this._finishRippleTransition(ce),ce}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,r={...ny,...e.config.animation};t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=ff(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,O0.forEach(r=>{iy._eventManager.addHandler(this._ngZone,r,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{k0.forEach(t=>{this._triggerElement.addEventListener(t,this,ry)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=1,!r&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=function Fm(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!function ru(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(O0.forEach(t=>iy._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&k0.forEach(t=>e.removeEventListener(t,this,ry)))}}iy._eventManager=new EC;let DC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Bm,Bm]}),n})(),$0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();class H0{}class Um{}const Ki="*";function Ef(n,e=null){return{type:2,steps:n,options:e}}function Zc(n){return{type:6,styles:n,offset:null}}function W0(n){Promise.resolve().then(n)}class wd{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){W0(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class ay{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const a=this.players.length;0==a?W0(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++t==a&&this._onFinish()}),l.onDestroy(()=>{++r==a&&this._onDestroy()}),l.onStart(()=>{++i==a&&this._onStart()})}),this.totalTime=this.players.reduce((l,p)=>Math.max(l,p.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const cy="!";let GC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Xr,Bm,$0,DC,Cm,yf,Bm]}),n})();function Ct(...n){const e=(0,tu.yG)(n);return(0,Sn.D)(n,e)}class _o extends gs.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const zm=(0,F(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function tE(n){return new Fn.y(e=>{(0,m.Xf)(n()).subscribe(e)})}var WC=F(9635),my=F(576);function Df(n,e){const t=(0,my.m)(n)?n:()=>n,r=i=>i.error(t());return new Fn.y(e?i=>e.schedule(r,0,i):r)}var gy=F(727);function Gm(){return(0,Ln.e)((n,e)=>{let t=null;n._refCount++;const r=(0,mn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class nE extends Fn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Ln.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new gy.w0;const t=this.getSubject();e.add(this.source.subscribe((0,mn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=gy.w0.EMPTY)}return e}refCount(){return Gm()(this)}}function ni(n,e){return(0,Ln.e)((t,r)=>{let i=null,a=0,l=!1;const p=()=>l&&!i&&r.complete();t.subscribe((0,mn.x)(r,y=>{i?.unsubscribe();let w=0;const T=a++;(0,m.Xf)(n(y,T)).subscribe(i=(0,mn.x)(r,R=>r.next(e?e(y,R,T,w++):R),()=>{i=null,p()}))},()=>{l=!0,p()}))})}var gi=F(5577);function _y(n){return(0,Ln.e)((e,t)=>{let r=!1;e.subscribe((0,mn.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Cf(n=ZC){return(0,Ln.e)((e,t)=>{let r=!1;e.subscribe((0,mn.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function ZC(){return new zm}function Ga(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Mi((i,a)=>n(i,a,r)):eu.y,ea(1),t?_y(e):Cf(()=>new zm))}function qa(n,e){return(0,my.m)(e)?(0,gi.z)(n,e,1):(0,gi.z)(n,1)}var _i=F(8505);function ri(n){return(0,Ln.e)((e,t)=>{let a,r=null,i=!1;r=e.subscribe((0,mn.x)(t,void 0,void 0,l=>{a=(0,m.Xf)(n(l,ri(n)(e))),r?(r.unsubscribe(),r=null,a.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(t))})}function br(n,e){return(0,Ln.e)(function Tf(n,e,t,r,i){return(a,l)=>{let p=t,y=e,w=0;a.subscribe((0,mn.x)(l,T=>{const R=w++;y=p?n(y,T,R):(p=!0,T),r&&l.next(y)},i&&(()=>{p&&l.next(y),l.complete()})))}}(n,e,arguments.length>=2,!0))}function Wa(n){return n<=0?()=>zr.E:(0,Ln.e)((e,t)=>{let r=[];e.subscribe((0,mn.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Af(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Mi((i,a)=>n(i,a,r)):eu.y,Wa(1),t?_y(e):Cf(()=>new zm))}function Yc(n){return(0,Ln.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Lt="primary",na=Symbol("RouteTitle");class Id{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function yo(n){return new Id(n)}function Dd(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let a=0;a<r.length;a++){const l=r[a],p=n[a];if(l.startsWith(":"))i[l.substring(1)]=p;else if(l!==p.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function xi(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let a=0;a<t.length;a++)if(i=t[a],!ou(n[i],e[i]))return!1;return!0}function ou(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,a)=>r[a]===i)}return n===e}function vy(n){return Array.prototype.concat.apply([],n)}function by(n){return n.length>0?n[n.length-1]:null}function Gr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Za(n){return(0,d.CqO)(n)?n:(0,d.QGY)(n)?(0,Sn.D)(Promise.resolve(n)):Ct(n)}const Sf=!1,rE={exact:function iE(n,e,t){if(!Ka(n.segments,e.segments)||!Td(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!iE(n.children[r],e.children[r],t))return!1;return!0},subset:oE},Ey={exact:function YC(n,e){return xi(n,e)},subset:function sE(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>ou(n[t],e[t]))},ignored:()=>!0};function wy(n,e,t){return rE[t.paths](n.root,e.root,t.matrixParams)&&Ey[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function oE(n,e,t){return Iy(n,e,e.segments,t)}function Iy(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Ka(i,t)||e.hasChildren()||!Td(i,t,r))}if(n.segments.length===t.length){if(!Ka(n.segments,t)||!Td(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!oE(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(Ka(n.segments,i)&&Td(n.segments,i,r)&&n.children[Lt])&&Iy(n.children[Lt],e,a,r)}}function Td(n,e,t){return e.every((r,i)=>Ey[t](n[i].parameters,r.parameters))}class ra{constructor(e=new tn([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=yo(this.queryParams)),this._queryParamMap}toString(){return aE.serialize(this)}}class tn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Gr(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return xf(this)}}class Qc{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=yo(this.parameters)),this._parameterMap}toString(){return Ay(this)}}function Ka(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let au=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return new Mf},providedIn:"root"}),n})();class Mf{parse(e){const t=new dE(e);return new ra(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${cu(e.root,!0)}`,r=function lE(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Rf(t)}=${Rf(i)}`).join("&"):`${Rf(t)}=${Rf(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Cy(n){return encodeURI(n)}(e.fragment)}`:""}`}}const aE=new Mf;function xf(n){return n.segments.map(e=>Ay(e)).join("/")}function cu(n,e){if(!n.hasChildren())return xf(n);if(e){const t=n.children[Lt]?cu(n.children[Lt],!1):"",r=[];return Gr(n.children,(i,a)=>{a!==Lt&&r.push(`${a}:${cu(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function QC(n,e){let t=[];return Gr(n.children,(r,i)=>{i===Lt&&(t=t.concat(e(r,i)))}),Gr(n.children,(r,i)=>{i!==Lt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Lt?[cu(n.children[Lt],!1)]:[`${i}:${cu(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Lt]?`${xf(n)}/${t[0]}`:`${xf(n)}/(${t.join("//")})`}}function Dy(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Rf(n){return Dy(n).replace(/%3B/gi,";")}function Wm(n){return Dy(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Zm(n){return decodeURIComponent(n)}function Ty(n){return Zm(n.replace(/\+/g,"%20"))}function Ay(n){return`${Wm(n.path)}${function cE(n){return Object.keys(n).map(e=>`;${Wm(e)}=${Wm(n[e])}`).join("")}(n.parameters)}`}const JC=/^[^\/()?;=#]+/;function Km(n){const e=n.match(JC);return e?e[0]:""}const XC=/^[^=?&#]+/,My=/^[^&#]+/;class dE{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new tn([],{}):new tn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Lt]=new tn(e,t)),r}parseSegment(){const e=Km(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new d.vHH(4009,Sf);return this.capture(e),new Qc(Zm(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Km(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Km(this.remaining);i&&(r=i,this.capture(r))}e[Zm(t)]=Zm(r)}parseQueryParam(e){const t=function Sy(n){const e=n.match(XC);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const l=function uE(n){const e=n.match(My);return e?e[0]:""}(this.remaining);l&&(r=l,this.capture(r))}const i=Ty(t),a=Ty(r);if(e.hasOwnProperty(i)){let l=e[i];Array.isArray(l)||(l=[l],e[i]=l),l.push(a)}else e[i]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Km(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new d.vHH(4010,Sf);let a;r.indexOf(":")>-1?(a=r.slice(0,r.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=Lt);const l=this.parseChildren();t[a]=1===Object.keys(l).length?l[Lt]:new tn([],l),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new d.vHH(4011,Sf)}}function Ym(n){return n.segments.length>0?new tn([],{[Lt]:n}):n}function Pf(n){const e={};for(const r of Object.keys(n.children)){const a=Pf(n.children[r]);(a.segments.length>0||a.hasChildren())&&(e[r]=a)}return function hE(n){if(1===n.numberOfChildren&&n.children[Lt]){const e=n.children[Lt];return new tn(n.segments.concat(e.segments),e.children)}return n}(new tn(n.segments,e))}function Jc(n){return n instanceof ra}const Qm=!1;function tT(n,e,t,r,i){if(0===t.length)return Fs(e.root,e.root,e.root,r,i);const a=function Xm(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new fE(!0,0,n);let e=0,t=!1;const r=n.reduce((i,a,l)=>{if("object"==typeof a&&null!=a){if(a.outlets){const p={};return Gr(a.outlets,(y,w)=>{p[w]="string"==typeof y?y.split("/"):y}),[...i,{outlets:p}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===l?(a.split("/").forEach((p,y)=>{0==y&&"."===p||(0==y&&""===p?t=!0:".."===p?e++:""!=p&&i.push(p))}),i):[...i,a]},[]);return new fE(t,e,r)}(t);return a.toRoot()?Fs(e.root,e.root,new tn([],{}),r,i):function l(y){const w=function nT(n,e,t,r){if(n.isAbsolute)return new Nf(e.root,!0,0);if(-1===r)return new Nf(t,t===e.root,0);return function pE(n,e,t){let r=n,i=e,a=t;for(;a>i;){if(a-=i,r=r.parent,!r)throw new d.vHH(4005,Qm&&"Invalid number of '../'");i=r.segments.length}return new Nf(r,!1,i-a)}(t,r+(kf(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,e,n.snapshot?._urlSegment,y),T=w.processChildren?Hn(w.segmentGroup,w.index,a.commands):xy(w.segmentGroup,w.index,a.commands);return Fs(e.root,w.segmentGroup,T,r,i)}(n.snapshot?._lastPathIndex)}function kf(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function lu(n){return"object"==typeof n&&null!=n&&n.outlets}function Fs(n,e,t,r,i){let l,a={};r&&Gr(r,(y,w)=>{a[w]=Array.isArray(y)?y.map(T=>`${T}`):`${y}`}),l=n===e?t:Jm(n,e,t);const p=Ym(Pf(l));return new ra(p,a,i)}function Jm(n,e,t){const r={};return Gr(n.children,(i,a)=>{r[a]=i===e?t:Jm(i,e,t)}),new tn(n.segments,r)}class fE{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&kf(r[0]))throw new d.vHH(4003,Qm&&"Root segment cannot have matrix parameters");const i=r.find(lu);if(i&&i!==by(r))throw new d.vHH(4004,Qm&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Nf{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function xy(n,e,t){if(n||(n=new tn([],{})),0===n.segments.length&&n.hasChildren())return Hn(n,e,t);const r=function gE(n,e,t){let r=0,i=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return a;const l=n.segments[i],p=t[r];if(lu(p))break;const y=`${p}`,w=r<t.length-1?t[r+1]:null;if(i>0&&void 0===y)break;if(y&&w&&"object"==typeof w&&void 0===w.outlets){if(!_E(y,w,l))return a;r+=2}else{if(!_E(y,{},l))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new tn(n.segments.slice(0,r.pathIndex),{});return a.children[Lt]=new tn(n.segments.slice(r.pathIndex),n.children),Hn(a,0,i)}return r.match&&0===i.length?new tn(n.segments,{}):r.match&&!n.hasChildren()?Ry(n,e,t):r.match?Hn(n,0,i):Ry(n,e,t)}function Hn(n,e,t){if(0===t.length)return new tn(n.segments,{});{const r=function mE(n){return lu(n[0])?n[0].outlets:{[Lt]:n}}(t),i={};if(!r[Lt]&&n.children[Lt]&&1===n.numberOfChildren&&0===n.children[Lt].segments.length){const a=Hn(n.children[Lt],e,t);return new tn(n.segments,a.children)}return Gr(r,(a,l)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[l]=xy(n.children[l],e,a))}),Gr(n.children,(a,l)=>{void 0===r[l]&&(i[l]=a)}),new tn(n.segments,i)}}function Ry(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const a=t[i];if(lu(a)){const y=rT(a.outlets);return new tn(r,y)}if(0===i&&kf(t[0])){r.push(new Qc(n.segments[e].path,Py(t[0]))),i++;continue}const l=lu(a)?a.outlets[Lt]:`${a}`,p=i<t.length-1?t[i+1]:null;l&&p&&kf(p)?(r.push(new Qc(l,Py(p))),i+=2):(r.push(new Qc(l,{})),i++)}return new tn(r,{})}function rT(n){const e={};return Gr(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Ry(new tn([],{}),0,t))}),e}function Py(n){const e={};return Gr(n,(t,r)=>e[r]=`${t}`),e}function _E(n,e,t){return n==t.path&&xi(e,t.parameters)}const Ad="imperative";class vo{constructor(e,t){this.id=e,this.url=t}}class Xc extends vo{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class uu extends vo{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class eg extends vo{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ff extends vo{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class Oy extends vo{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class yE extends vo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zP extends vo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vE extends vo{constructor(e,t,r,i,a){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ky extends vo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ia extends vo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class iT{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class sT{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class sa{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bo{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Eo{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bE{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ny{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let cT=(()=>{class n{createUrlTree(t,r,i,a,l,p){return tT(t||r.root,i,a,l,p)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Fy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(e){return cT.\u0275fac(e)},providedIn:"root"}),n})();class Sd{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Ly(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Ly(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=tg(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return tg(e,this._root).map(t=>t.value)}}function Ly(n,e){if(n===e.value)return e;for(const t of e.children){const r=Ly(n,t);if(r)return r}return null}function tg(n,e){if(n===e.value)return[e];for(const t of e.children){const r=tg(n,t);if(r.length)return r.unshift(e),r}return[]}class Qa{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Md(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Vy extends Sd{constructor(e,t){super(e),this.snapshot=t,rg(this,e)}toString(){return this.snapshot.toString()}}function By(n,e){const t=function ng(n,e){const l=new xd([],{},{},"",{},Lt,e,null,n.root,-1,{});return new Lf("",new Qa(l,[]))}(n,e),r=new _o([new Qc("",{})]),i=new _o({}),a=new _o({}),l=new _o({}),p=new _o(""),y=new el(r,i,l,p,a,Lt,e,t.root);return y.snapshot=t.root,new Vy(new Qa(y,[]),t)}class el{constructor(e,t,r,i,a,l,p,y){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=l,this.component=p,this.title=this.data?.pipe((0,ct.U)(w=>w[na]))??Ct(void 0),this._futureSnapshot=y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ct.U)(e=>yo(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ct.U)(e=>yo(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Uy(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],a=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function EE(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class xd{get title(){return this.data?.[na]}constructor(e,t,r,i,a,l,p,y,w,T,R){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=l,this.component=p,this.routeConfig=y,this._urlSegment=w,this._lastPathIndex=T,this._resolve=R}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=yo(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=yo(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Lf extends Sd{constructor(e,t){super(t),this.url=e,rg(this,t)}toString(){return jy(this._root)}}function rg(n,e){e.value._routerState=n,e.children.forEach(t=>rg(n,t))}function jy(n){const e=n.children.length>0?` { ${n.children.map(jy).join(", ")} } `:"";return`${n.value}${e}`}function ig(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,xi(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),xi(e.params,t.params)||n.params.next(t.params),function Cd(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!xi(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),xi(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function sg(n,e){const t=xi(n.params,e.params)&&function qm(n,e){return Ka(n,e)&&n.every((t,r)=>xi(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||sg(n.parent,e.parent))}function Rd(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function IE(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Rd(n,r,i);return Rd(n,r)})}(n,e,t);return new Qa(r,i)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const l=a.route;return l.value._futureSnapshot=e.value,l.children=e.children.map(p=>Rd(n,p)),l}}const r=function DE(n){return new el(new _o(n.url),new _o(n.params),new _o(n.queryParams),new _o(n.fragment),new _o(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(a=>Rd(n,a));return new Qa(r,i)}}const $y="ngNavigationCancelingError";function CE(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Jc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=TE(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function TE(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[$y]=!0,r.cancellationCode=e,t&&(r.url=t),r}function AE(n){return SE(n)&&Jc(n.url)}function SE(n){return n&&n[$y]}class uT{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Vf,this.attachRef=null}}let Vf=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new uT,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const og=!1;let Hy=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Lt,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.attachEvents=new d.vpe,this.detachEvents=new d.vpe,this.parentContexts=(0,d.f3M)(Vf),this.location=(0,d.f3M)(d.s_b),this.changeDetector=(0,d.f3M)(d.sBO),this.environmentInjector=(0,d.f3M)(d.lqb)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new d.vHH(4012,og);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new d.vHH(4012,og);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new d.vHH(4012,og);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new d.vHH(4013,og);this._activatedRoute=t;const i=this.location,l=t.snapshot.component,p=this.parentContexts.getOrCreateContext(this.name).children,y=new dT(t,p,i.injector);if(r&&function hT(n){return!!n.resolveComponentFactory}(r)){const w=r.resolveComponentFactory(l);this.activated=i.createComponent(w,i.length,y)}else this.activated=i.createComponent(l,{index:i.length,injector:y,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[d.TTD]}),n})();class dT{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===el?this.route:e===Vf?this.childContexts:this.parent.get(e,t)}}let zy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[d.jDz],decls:1,vars:0,template:function(t,r){1&t&&d._UZ(0,"router-outlet")},dependencies:[Hy],encapsulation:2}),n})();function ME(n,e){return n.providers&&!n._injector&&(n._injector=(0,d.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function ag(n){const e=n.children&&n.children.map(ag),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Lt&&(t.component=zy),t}function _s(n){return n.outlet||Lt}function qy(n,e){const t=n.filter(r=>_s(r)===e);return t.push(...n.filter(r=>_s(r)!==e)),t}function Pd(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class kE{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),ig(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Md(t);e.children.forEach(a=>{const l=a.value.outlet;this.deactivateRoutes(a,i[l],r),delete i[l]}),Gr(i,(a,l)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(i===a)if(i.component){const l=r.getContext(i.outlet);l&&this.deactivateChildRoutes(e,t,l.children)}else this.deactivateChildRoutes(e,t,r);else a&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=Md(e);for(const l of Object.keys(a))this.deactivateRouteAndItsChildren(a[l],i);if(r&&r.outlet){const l=r.outlet.detach(),p=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:p})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=Md(e);for(const l of Object.keys(a))this.deactivateRouteAndItsChildren(a[l],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Md(t);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new bE(a.value.snapshot))}),e.children.length&&this.forwardEvent(new bo(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(ig(i),i===a)if(i.component){const l=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,l.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const l=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const p=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),l.children.onOutletReAttached(p.contexts),l.attachRef=p.componentRef,l.route=p.route.value,l.outlet&&l.outlet.attach(p.componentRef,p.route.value),ig(p.route.value),this.activateChildRoutes(e,null,l.children)}else{const p=Pd(i.snapshot),y=p?.get(d._Vd)??null;l.attachRef=null,l.route=i,l.resolver=y,l.injector=p,l.outlet&&l.outlet.activateWith(i,l.injector),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,r)}}class Wy{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Bf{constructor(e,t){this.component=e,this.route=t}}function du(n,e,t){const r=n._root;return oa(r,e?e._root:null,t,[r.value])}function Od(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,d.Z0I)(n)?e.get(n):n:r}function oa(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=Md(e);return n.children.forEach(l=>{(function KP(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,l=e?e.value:null,p=t?t.getContext(n.value.outlet):null;if(l&&a.routeConfig===l.routeConfig){const y=function Zy(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Ka(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ka(n.url,e.url)||!xi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!sg(n,e)||!xi(n.queryParams,e.queryParams);default:return!sg(n,e)}}(l,a,a.routeConfig.runGuardsAndResolvers);y?i.canActivateChecks.push(new Wy(r)):(a.data=l.data,a._resolvedData=l._resolvedData),oa(n,e,a.component?p?p.children:null:t,r,i),y&&p&&p.outlet&&p.outlet.isActivated&&i.canDeactivateChecks.push(new Bf(p.outlet.component,l))}else l&&cg(e,p,i),i.canActivateChecks.push(new Wy(r)),oa(n,null,a.component?p?p.children:null:t,r,i)})(l,a[l.value.outlet],t,r.concat([l.value]),i),delete a[l.value.outlet]}),Gr(a,(l,p)=>cg(l,t.getContext(p),i)),i}function cg(n,e,t){const r=Md(n),i=n.value;Gr(r,(a,l)=>{cg(a,i.component?e?e.children.getContext(l):null:e,t)}),t.canDeactivateChecks.push(new Bf(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function kd(n){return"function"==typeof n}function Nd(n){return n instanceof zm||"EmptyError"===n?.name}const hu=Symbol("INITIAL_VALUE");function Rn(){return ni(n=>Wc(n.map(e=>e.pipe(ea(1),f(hu)))).pipe((0,ct.U)(e=>{for(const t of e)if(!0!==t){if(t===hu)return hu;if(!1===t||t instanceof ra)return t}return!0}),Mi(e=>e!==hu),ea(1)))}function $E(n){return(0,WC.z)((0,_i.b)(e=>{if(Jc(e))throw CE(0,e)}),(0,ct.U)(e=>!0===e))}const fu={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function HE(n,e,t,r,i){const a=Ky(n,e,t);return a.matched?function bT(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?Ct(i.map(l=>{const p=Od(l,n);return Za(function gT(n){return n&&kd(n.canMatch)}(p)?p.canMatch(e,t):n.runInContext(()=>p(e,t)))})).pipe(Rn(),$E()):Ct(!0)}(r=ME(e,r),e,t).pipe((0,ct.U)(l=>!0===l?a:{...fu})):Ct(a)}function Ky(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...fu}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Dd)(t,n,e);if(!i)return{...fu};const a={};Gr(i.posParams,(p,y)=>{a[y]=p.path});const l=i.consumed.length>0?{...a,...i.consumed[i.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:l,positionalParamSegments:i.posParams??{}}}function lg(n,e,t,r){if(t.length>0&&function GE(n,e,t){return t.some(r=>dg(n,e,r)&&_s(r)!==Lt)}(n,t,r)){const a=new tn(e,function zE(n,e,t,r){const i={};i[Lt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&_s(a)!==Lt){const l=new tn([],{});l._sourceSegment=n,l._segmentIndexShift=e.length,i[_s(a)]=l}return i}(n,e,r,new tn(t,n.children)));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:[]}}if(0===t.length&&function qE(n,e,t){return t.some(r=>dg(n,e,r))}(n,t,r)){const a=new tn(n.segments,function ug(n,e,t,r,i){const a={};for(const l of r)if(dg(n,t,l)&&!i[_s(l)]){const p=new tn([],{});p._sourceSegment=n,p._segmentIndexShift=e.length,a[_s(l)]=p}return{...i,...a}}(n,e,t,r,n.children));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}const i=new tn(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function dg(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Fd(n,e,t,r){return!!(_s(n)===r||r!==Lt&&dg(e,t,n))&&("**"===n.path||Ky(e,n,t).matched)}function Ld(n,e,t){return 0===e.length&&!n.children[t]}const hg=!1;class fg{constructor(e){this.segmentGroup=e||null}}class WE{constructor(e){this.urlTree=e}}function Vd(n){return Df(new fg(n))}function Yy(n){return Df(new WE(n))}class wT{constructor(e,t,r,i,a){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0}apply(){const e=lg(this.urlTree.root,[],[],this.config).segmentGroup,t=new tn(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Lt).pipe((0,ct.U)(a=>this.createUrlTree(Pf(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ri(a=>{if(a instanceof WE)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof fg?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Lt).pipe((0,ct.U)(i=>this.createUrlTree(Pf(i),e.queryParams,e.fragment))).pipe(ri(i=>{throw i instanceof fg?this.noMatchError(i):i}))}noMatchError(e){return new d.vHH(4002,hg)}createUrlTree(e,t,r){const i=Ym(e);return new ra(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,ct.U)(a=>new tn([],a))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return(0,Sn.D)(i).pipe(qa(a=>{const l=r.children[a],p=qy(t,a);return this.expandSegmentGroup(e,p,l,a).pipe((0,ct.U)(y=>({segment:y,outlet:a})))}),br((a,l)=>(a[l.outlet]=l.segment,a),{}),Af())}expandSegment(e,t,r,i,a,l){return(0,Sn.D)(r).pipe(qa(p=>this.expandSegmentAgainstRoute(e,t,r,p,i,a,l).pipe(ri(w=>{if(w instanceof fg)return Ct(null);throw w}))),Ga(p=>!!p),ri((p,y)=>{if(Nd(p))return Ld(t,i,a)?Ct(new tn([],{})):Vd(t);throw p}))}expandSegmentAgainstRoute(e,t,r,i,a,l,p){return Fd(i,t,a,l)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,a,l):p&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,l):Vd(t):Vd(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,l){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Yy(a):this.lineralizeSegments(r,a).pipe((0,gi.z)(l=>{const p=new tn(l,{});return this.expandSegment(e,p,t,l,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,l){const{matched:p,consumedSegments:y,remainingSegments:w,positionalParamSegments:T}=Ky(t,i,a);if(!p)return Vd(t);const R=this.applyRedirectCommands(y,i.redirectTo,T);return i.redirectTo.startsWith("/")?Yy(R):this.lineralizeSegments(i,R).pipe((0,gi.z)(B=>this.expandSegment(e,t,r,B.concat(w),l,!1)))}matchSegmentAgainstRoute(e,t,r,i,a){return"**"===r.path?(e=ME(r,e),r.loadChildren?(r._loadedRoutes?Ct({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,ct.U)(p=>(r._loadedRoutes=p.routes,r._loadedInjector=p.injector,new tn(i,{})))):Ct(new tn(i,{}))):HE(t,r,i,e).pipe(ni(({matched:l,consumedSegments:p,remainingSegments:y})=>l?this.getChildConfig(e=r._injector??e,r,i).pipe((0,gi.z)(T=>{const R=T.injector??e,B=T.routes,{segmentGroup:q,slicedSegments:Q}=lg(t,p,y,B),ce=new tn(q.segments,q.children);if(0===Q.length&&ce.hasChildren())return this.expandChildren(R,B,ce).pipe((0,ct.U)(at=>new tn(p,at)));if(0===B.length&&0===Q.length)return Ct(new tn(p,{}));const _e=_s(r)===a;return this.expandSegment(R,ce,B,Q,_e?Lt:a,!0).pipe((0,ct.U)(it=>new tn(p.concat(it.segments),it.children)))})):Vd(t)))}getChildConfig(e,t,r){return t.children?Ct({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?Ct({routes:t._loadedRoutes,injector:t._loadedInjector}):function vT(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?Ct(!0):Ct(i.map(l=>{const p=Od(l,n);return Za(function YP(n){return n&&kd(n.canLoad)}(p)?p.canLoad(e,t):n.runInContext(()=>p(e,t)))})).pipe(Rn(),$E())}(e,t,r).pipe((0,gi.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,_i.b)(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function ET(n){return Df(TE(hg,3))}())):Ct({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Ct(r);if(i.numberOfChildren>1||!i.children[Lt])return e.redirectTo,Df(new d.vHH(4e3,hg));i=i.children[Lt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const a=this.createSegmentGroup(e,t.root,r,i);return new ra(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Gr(e,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const p=i.substring(1);r[a]=t[p]}else r[a]=i}),r}createSegmentGroup(e,t,r,i){const a=this.createSegments(e,t.segments,r,i);let l={};return Gr(t.children,(p,y)=>{l[y]=this.createSegmentGroup(e,p,r,i)}),new tn(a,l)}createSegments(e,t,r,i){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,i):this.findOrReturn(a,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new d.vHH(4001,hg);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class JP{}class YE{constructor(e,t,r,i,a,l,p){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=a,this.paramsInheritanceStrategy=l,this.urlSerializer=p}recognize(){const e=lg(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Lt).pipe((0,ct.U)(t=>{if(null===t)return null;const r=new xd([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Lt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Qa(r,t),a=new Lf(this.url,i);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(e){const t=e.value,r=Uy(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,Sn.D)(Object.keys(r.children)).pipe(qa(i=>{const a=r.children[i],l=qy(t,i);return this.processSegmentGroup(e,l,a,i)}),br((i,a)=>i&&a?(i.push(...a),i):null),function Ns(n,e=!1){return(0,Ln.e)((t,r)=>{let i=0;t.subscribe((0,mn.x)(r,a=>{const l=n(a,i++);(l||e)&&r.next(a),!l&&r.complete()}))})}(i=>null!==i),_y(null),Af(),(0,ct.U)(i=>{if(null===i)return null;const a=Qy(i);return function pg(n){n.sort((e,t)=>e.value.outlet===Lt?-1:t.value.outlet===Lt?1:e.value.outlet.localeCompare(t.value.outlet))}(a),a}))}processSegment(e,t,r,i,a){return(0,Sn.D)(t).pipe(qa(l=>this.processSegmentAgainstRoute(l._injector??e,l,r,i,a)),Ga(l=>!!l),ri(l=>{if(Nd(l))return Ld(r,i,a)?Ct([]):Ct(null);throw l}))}processSegmentAgainstRoute(e,t,r,i,a){if(t.redirectTo||!Fd(t,r,i,a))return Ct(null);let l;if("**"===t.path){const p=i.length>0?by(i).parameters:{},y=JE(r)+i.length;l=Ct({snapshot:new xd(i,p,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,XE(t),_s(t),t.component??t._loadedComponent??null,t,QE(r),y,AT(t)),consumedSegments:[],remainingSegments:[]})}else l=HE(r,t,i,e).pipe((0,ct.U)(({matched:p,consumedSegments:y,remainingSegments:w,parameters:T})=>{if(!p)return null;const R=JE(r)+y.length;return{snapshot:new xd(y,T,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,XE(t),_s(t),t.component??t._loadedComponent??null,t,QE(r),R,AT(t)),consumedSegments:y,remainingSegments:w}}));return l.pipe(ni(p=>{if(null===p)return Ct(null);const{snapshot:y,consumedSegments:w,remainingSegments:T}=p;e=t._injector??e;const R=t._loadedInjector??e,B=function CT(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:q,slicedSegments:Q}=lg(r,w,T,B.filter(_e=>void 0===_e.redirectTo));if(0===Q.length&&q.hasChildren())return this.processChildren(R,B,q).pipe((0,ct.U)(_e=>null===_e?null:[new Qa(y,_e)]));if(0===B.length&&0===Q.length)return Ct([new Qa(y,[])]);const ce=_s(t)===a;return this.processSegment(R,B,q,Q,ce?Lt:a).pipe((0,ct.U)(_e=>null===_e?null:[new Qa(y,_e)]))}))}}function TT(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Qy(n){const e=[],t=new Set;for(const r of n){if(!TT(r)){e.push(r);continue}const i=e.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=Qy(r.children);e.push(new Qa(r.value,i))}return e.filter(r=>!t.has(r))}function QE(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function JE(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function XE(n){return n.data||{}}function AT(n){return n.resolve||{}}function Jy(n){return"string"==typeof n.title||null===n.title}function Xy(n){return ni(e=>{const t=n(e);return t?(0,Sn.D)(t).pipe((0,ct.U)(()=>e)):Ct(e)})}const Bd=new d.OlP("ROUTES");let mg=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,d.f3M)(d.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Ct(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Za(t.loadComponent()).pipe((0,ct.U)(gg),(0,_i.b)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),Yc(()=>{this.componentLoaders.delete(t)})),i=new nE(r,()=>new gs.x).pipe(Gm());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Ct({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const a=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,ct.U)(p=>{this.onLoadEndListener&&this.onLoadEndListener(r);let y,w,T=!1;Array.isArray(p)?w=p:(y=p.create(t).injector,w=vy(y.get(Bd,[],d.XFs.Self|d.XFs.Optional)));return{routes:w.map(ag),injector:y}}),Yc(()=>{this.childrenLoaders.delete(r)})),l=new nE(a,()=>new gs.x).pipe(Gm());return this.childrenLoaders.set(r,l),l}loadModuleFactoryOrRoutes(t){return Za(t()).pipe((0,ct.U)(gg),(0,gi.z)(r=>r instanceof d.YKP||Array.isArray(r)?Ct(r):(0,Sn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function gg(n){return function PT(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Hf=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new gs.x,this.configLoader=(0,d.f3M)(mg),this.environmentInjector=(0,d.f3M)(d.lqb),this.urlSerializer=(0,d.f3M)(au),this.rootContexts=(0,d.f3M)(Vf),this.navigationId=0,this.afterPreactivation=()=>Ct(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new sT(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new iT(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new _o({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ad,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Mi(r=>0!==r.id),(0,ct.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),ni(r=>{let i=!1,a=!1;return Ct(r).pipe((0,_i.b)(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ni(l=>{const p=t.browserUrlTree.toString(),y=!t.navigated||l.extractedUrl.toString()!==p||p!==t.currentUrlTree.toString();if(!y&&"reload"!==(l.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const T="";return this.events.next(new Ff(l.id,t.serializeUrl(r.rawUrl),T,0)),t.rawUrlTree=l.rawUrl,l.resolve(null),zr.E}if(t.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return tv(l.source)&&(t.browserUrlTree=l.extractedUrl),Ct(l).pipe(ni(T=>{const R=this.transitions?.getValue();return this.events.next(new Xc(T.id,this.urlSerializer.serialize(T.extractedUrl),T.source,T.restoredState)),R!==this.transitions?.getValue()?zr.E:Promise.resolve(T)}),function IT(n,e,t,r){return ni(i=>function KE(n,e,t,r,i){return new wT(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,ct.U)(a=>({...i,urlAfterRedirects:a}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),(0,_i.b)(T=>{this.currentNavigation={...this.currentNavigation,finalUrl:T.urlAfterRedirects},r.urlAfterRedirects=T.urlAfterRedirects}),function ST(n,e,t,r,i){return(0,gi.z)(a=>function e1(n,e,t,r,i,a,l="emptyOnly"){return new YE(n,e,t,r,i,l,a).recognize().pipe(ni(p=>null===p?function XP(n){return new Fn.y(e=>e.error(n))}(new JP):Ct(p)))}(n,e,t,a.urlAfterRedirects,r.serialize(a.urlAfterRedirects),r,i).pipe((0,ct.U)(l=>({...a,targetSnapshot:l}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,_i.b)(T=>{if(r.targetSnapshot=T.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!T.extras.skipLocationChange){const B=t.urlHandlingStrategy.merge(T.urlAfterRedirects,T.rawUrl);t.setBrowserUrl(B,T)}t.browserUrlTree=T.urlAfterRedirects}const R=new yE(T.id,this.urlSerializer.serialize(T.extractedUrl),this.urlSerializer.serialize(T.urlAfterRedirects),T.targetSnapshot);this.events.next(R)}));if(y&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:T,extractedUrl:R,source:B,restoredState:q,extras:Q}=l,ce=new Xc(T,this.urlSerializer.serialize(R),B,q);this.events.next(ce);const _e=By(R,this.rootComponentType).snapshot;return Ct(r={...l,targetSnapshot:_e,urlAfterRedirects:R,extras:{...Q,skipLocationChange:!1,replaceUrl:!1}})}{const T="";return this.events.next(new Ff(l.id,t.serializeUrl(r.extractedUrl),T,1)),t.rawUrlTree=l.rawUrl,l.resolve(null),zr.E}}),(0,_i.b)(l=>{const p=new zP(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(p)}),(0,ct.U)(l=>r={...l,guards:du(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),function QP(n,e){return(0,gi.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:l}}=t;return 0===l.length&&0===a.length?Ct({...t,guardsResult:!0}):function FE(n,e,t,r){return(0,Sn.D)(n).pipe((0,gi.z)(i=>function jE(n,e,t,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?Ct(a.map(p=>{const y=Pd(e)??i,w=Od(p,y);return Za(function mT(n){return n&&kd(n.canDeactivate)}(w)?w.canDeactivate(n,e,t,r):y.runInContext(()=>w(n,e,t,r))).pipe(Ga())})).pipe(Rn()):Ct(!0)}(i.component,i.route,t,e,r)),Ga(i=>!0!==i,!0))}(l,r,i,n).pipe((0,gi.z)(p=>p&&function NE(n){return"boolean"==typeof n}(p)?function LE(n,e,t,r){return(0,Sn.D)(e).pipe(qa(i=>ja(function VE(n,e){return null!==n&&e&&e(new sa(n)),Ct(!0)}(i.route.parent,r),function yT(n,e){return null!==n&&e&&e(new Eo(n)),Ct(!0)}(i.route,r),function UE(n,e,t){const r=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(l=>function fT(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(l)).filter(l=>null!==l).map(l=>tE(()=>Ct(l.guards.map(y=>{const w=Pd(l.node)??t,T=Od(y,w);return Za(function pT(n){return n&&kd(n.canActivateChild)}(T)?T.canActivateChild(r,n):w.runInContext(()=>T(r,n))).pipe(Ga())})).pipe(Rn())));return Ct(a).pipe(Rn())}(n,i.path,t),function BE(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Ct(!0);const i=r.map(a=>tE(()=>{const l=Pd(e)??t,p=Od(a,l);return Za(function xt(n){return n&&kd(n.canActivate)}(p)?p.canActivate(e,n):l.runInContext(()=>p(e,n))).pipe(Ga())}));return Ct(i).pipe(Rn())}(n,i.route,t))),Ga(i=>!0!==i,!0))}(r,a,n,e):Ct(p)),(0,ct.U)(p=>({...t,guardsResult:p})))})}(this.environmentInjector,l=>this.events.next(l)),(0,_i.b)(l=>{if(r.guardsResult=l.guardsResult,Jc(l.guardsResult))throw CE(0,l.guardsResult);const p=new vE(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(p)}),Mi(l=>!!l.guardsResult||(t.restoreHistory(l),this.cancelNavigationTransition(l,"",3),!1)),Xy(l=>{if(l.guards.canActivateChecks.length)return Ct(l).pipe((0,_i.b)(p=>{const y=new ky(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(y)}),ni(p=>{let y=!1;return Ct(p).pipe(function ew(n,e){return(0,gi.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Ct(t);let a=0;return(0,Sn.D)(i).pipe(qa(l=>function MT(n,e,t,r){const i=n.routeConfig,a=n._resolve;return void 0!==i?.title&&!Jy(i)&&(a[na]=i.title),function xT(n,e,t,r){const i=function $f(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return Ct({});const a={};return(0,Sn.D)(i).pipe((0,gi.z)(l=>function RT(n,e,t,r){const i=Pd(e)??r,a=Od(n,i);return Za(a.resolve?a.resolve(e,t):i.runInContext(()=>a(e,t)))}(n[l],e,t,r).pipe(Ga(),(0,_i.b)(p=>{a[l]=p}))),Wa(1),function yy(n){return(0,ct.U)(()=>n)}(a),ri(l=>Nd(l)?zr.E:Df(l)))}(a,n,e,r).pipe((0,ct.U)(l=>(n._resolvedData=l,n.data=Uy(n,t).resolve,i&&Jy(i)&&(n.data[na]=i.title),null)))}(l.route,r,n,e)),(0,_i.b)(()=>a++),Wa(1),(0,gi.z)(l=>a===i.length?Ct(t):zr.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,_i.b)({next:()=>y=!0,complete:()=>{y||(t.restoreHistory(p),this.cancelNavigationTransition(p,"",2))}}))}),(0,_i.b)(p=>{const y=new ia(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(y)}))}),Xy(l=>{const p=y=>{const w=[];y.routeConfig?.loadComponent&&!y.routeConfig._loadedComponent&&w.push(this.configLoader.loadComponent(y.routeConfig).pipe((0,_i.b)(T=>{y.component=T}),(0,ct.U)(()=>{})));for(const T of y.children)w.push(...p(T));return w};return Wc(p(l.targetSnapshot.root)).pipe(_y(),ea(1))}),Xy(()=>this.afterPreactivation()),(0,ct.U)(l=>{const p=function wE(n,e,t){const r=Rd(n,e._root,t?t._root:void 0);return new Vy(r,e)}(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return r={...l,targetRouterState:p}}),(0,_i.b)(l=>{t.currentUrlTree=l.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl),t.routerState=l.targetRouterState,"deferred"===t.urlUpdateStrategy&&(l.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,l),t.browserUrlTree=l.urlAfterRedirects)}),((n,e,t)=>(0,ct.U)(r=>(new kE(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l)),ea(1),(0,_i.b)({next:l=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new uu(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{i=!0}}),Yc(()=>{i||a||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),ri(l=>{if(a=!0,SE(l)){AE(l)||(t.navigated=!0,t.restoreHistory(r,!0));const p=new eg(r.id,this.urlSerializer.serialize(r.extractedUrl),l.message,l.cancellationCode);if(this.events.next(p),AE(l)){const y=t.urlHandlingStrategy.merge(l.url,t.rawUrlTree),w={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||tv(r.source)};t.scheduleNavigation(y,Ad,null,w,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const p=new Oy(r.id,this.urlSerializer.serialize(r.extractedUrl),l,r.targetSnapshot??void 0);this.events.next(p);try{r.resolve(t.errorHandler(l))}catch(y){r.reject(y)}}return zr.E}))}))}cancelNavigationTransition(t,r,i){const a=new eg(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(a),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function tv(n){return n!==Ad}let tw=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(a=>a.outlet===Lt);return r}getResolvedTitleForRoute(t){return t.data[na]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(OT)},providedIn:"root"}),n})(),OT=(()=>{class n extends tw{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Uh))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(NT)},providedIn:"root"}),n})();class nv{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let NT=(()=>{class n extends nv{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const yg=new d.OlP("",{providedIn:"root",factory:()=>({})});let FT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(LT)},providedIn:"root"}),n})(),LT=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function VT(n){throw n}function BT(n,e,t){return e.parse("/")}const UT={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},jT={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Yi=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,d.f3M)(d.c2e),this.isNgZoneEnabled=!1,this.options=(0,d.f3M)(yg,{optional:!0})||{},this.errorHandler=this.options.errorHandler||VT,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||BT,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,d.f3M)(FT),this.routeReuseStrategy=(0,d.f3M)(kT),this.urlCreationStrategy=(0,d.f3M)(Fy),this.titleStrategy=(0,d.f3M)(tw),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=vy((0,d.f3M)(Bd,{optional:!0})??[]),this.navigationTransitions=(0,d.f3M)(Hf),this.urlSerializer=(0,d.f3M)(au),this.location=(0,d.f3M)($e),this.isNgZoneEnabled=(0,d.f3M)(d.R0b)instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ra,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=By(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Ad,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const a={replaceUrl:!0},l=i?.navigationId?i:null;if(i){const y={...i};delete y.navigationId,delete y.\u0275routerPageId,0!==Object.keys(y).length&&(a.state=y)}const p=this.parseUrl(t);this.scheduleNavigation(p,r,l,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(ag),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:a,fragment:l,queryParamsHandling:p,preserveFragment:y}=r,w=y?this.currentUrlTree.fragment:l;let T=null;switch(p){case"merge":T={...this.currentUrlTree.queryParams,...a};break;case"preserve":T=this.currentUrlTree.queryParams;break;default:T=a||null}return null!==T&&(T=this.removeEmptyProps(T)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,T,w??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Jc(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,Ad,null,r)}navigate(t,r={skipLocationChange:!1}){return function rw(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new d.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...UT}:!1===r?{...jT}:r,Jc(t))return wy(this.currentUrlTree,t,i);const a=this.parseUrl(t);return wy(this.currentUrlTree,a,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const a=t[i];return null!=a&&(r[i]=a),r},{})}scheduleNavigation(t,r,i,a,l){if(this.disposed)return Promise.resolve(!1);let p,y,w,T;return l?(p=l.resolve,y=l.reject,w=l.promise):w=new Promise((R,B)=>{p=R,y=B}),T="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:T,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:a,resolve:p,reject:y,promise:w,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),w.catch(R=>Promise.reject(R))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const l={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",l)}else{const a={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(i,"",a)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const a=this.currentPageId-(this.browserPageId??this.currentPageId);0!==a?this.location.historyGo(a):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===a&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ud=(()=>{class n{constructor(t,r,i,a,l,p){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=a,this.el=l,this.locationStrategy=p,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new gs.x;const y=l.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===y||"area"===y,this.isAnchorElement?this.subscription=t.events.subscribe(w=>{w instanceof uu&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,d.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,d.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,d.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,a,l){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||a||l||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,d.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,a=this.el.nativeElement;null!==r?i.setAttribute(a,t,r):i.removeAttribute(a,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Yi),d.Y36(el),d.$8M("tabindex"),d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(pt))},n.\u0275dir=d.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&d.NdJ("click",function(a){return r.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&d.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[d.TTD]}),n})();class sw{}let iv=(()=>{class n{constructor(t,r,i,a,l){this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(Mi(t=>t instanceof uu),qa(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const a of r){a.providers&&!a._injector&&(a._injector=(0,d.MMx)(a.providers,t,`Route: ${a.path}`));const l=a._injector??t,p=a._loadedInjector??l;(a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent)&&i.push(this.preloadConfig(l,a)),(a.children||a._loadedRoutes)&&i.push(this.processRoutes(p,a.children??a._loadedRoutes))}return(0,Sn.D)(i).pipe((0,go.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):Ct(null);const a=i.pipe((0,gi.z)(l=>null===l?Ct(void 0):(r._loadedRoutes=l.routes,r._loadedInjector=l.injector,this.processRoutes(l.injector??t,l.routes))));if(r.loadComponent&&!r._loadedComponent){const l=this.loader.loadComponent(r);return(0,Sn.D)([a,l]).pipe((0,go.J)())}return a})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Yi),d.LFG(d.Sil),d.LFG(d.lqb),d.LFG(sw),d.LFG(mg))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const zf=new d.OlP("");let sv=(()=>{class n{constructor(t,r,i,a,l={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=a,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Xc?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof uu&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Ny&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ny(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){d.$Z()},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();var Ri=(()=>((Ri=Ri||{})[Ri.COMPLETE=0]="COMPLETE",Ri[Ri.FAILED=1]="FAILED",Ri[Ri.REDIRECTING=2]="REDIRECTING",Ri))();const jd=!1;function Ja(n,e){return{\u0275kind:n,\u0275providers:e}}const tl=new d.OlP("",{providedIn:"root",factory:()=>!1});function ov(){const n=(0,d.f3M)(d.zs3);return e=>{const t=n.get(d.z2F);if(e!==t.components[0])return;const r=n.get(Yi),i=n.get(vg);1===n.get(av)&&r.initialNavigation(),n.get(bg,null,d.XFs.Optional)?.setUpPreloading(),n.get(zf,null,d.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const vg=new d.OlP(jd?"bootstrap done indicator":"",{factory:()=>new gs.x}),av=new d.OlP(jd?"initial navigation":"",{providedIn:"root",factory:()=>1});function lw(){let n=[];return n=jd?[{provide:d.Xts,multi:!0,useFactory:()=>{const e=(0,d.f3M)(Yi);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function oT(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],Ja(1,n)}const bg=new d.OlP(jd?"router preloader":"");function uw(n){return Ja(0,[{provide:bg,useExisting:iv},{provide:sw,useExisting:n}])}const Gf=!1,dw=new d.OlP(Gf?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),ZT=[$e,{provide:au,useClass:Mf},Yi,Vf,{provide:el,useFactory:function aw(n){return n.routerState.root},deps:[Yi]},mg,Gf?{provide:tl,useValue:!0}:[]];function hw(){return new d.PXZ("Router",Yi)}let KT=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[ZT,Gf&&r?.enableTracing?lw().\u0275providers:[],{provide:Bd,multi:!0,useValue:t},{provide:dw,useFactory:a1,deps:[[Yi,new d.FiY,new d.tp0]]},{provide:yg,useValue:r||{}},r?.useHash?{provide:pt,useClass:ke}:{provide:pt,useClass:Oe},{provide:zf,useFactory:()=>{const n=(0,d.f3M)(ya),e=(0,d.f3M)(d.R0b),t=(0,d.f3M)(yg),r=(0,d.f3M)(Hf),i=(0,d.f3M)(au);return t.scrollOffset&&n.setOffset(t.scrollOffset),new sv(i,r,n,e,t)}},r?.preloadingStrategy?uw(r.preloadingStrategy).\u0275providers:[],{provide:d.PXZ,multi:!0,useFactory:hw},r?.initialNavigation?JT(r):[],[{provide:pw,useFactory:ov},{provide:d.tb,multi:!0,useExisting:pw}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Bd,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(dw,8))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[zy]}),n})();function a1(n){if(Gf&&n)throw new d.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function JT(n){return["disabled"===n.initialNavigation?Ja(3,[{provide:d.ip1,multi:!0,useFactory:()=>{const e=(0,d.f3M)(Yi);return()=>{e.setUpLocationChangeListener()}}},{provide:av,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Ja(2,[{provide:av,useValue:0},{provide:d.ip1,multi:!0,deps:[d.zs3],useFactory:e=>{const t=e.get(me,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(Yi),a=e.get(vg);(function HT(n,e){n.events.pipe(Mi(t=>t instanceof uu||t instanceof eg||t instanceof Oy||t instanceof Ff),(0,ct.U)(t=>t instanceof uu||t instanceof Ff?Ri.COMPLETE:t instanceof eg&&(0===t.code||1===t.code)?Ri.REDIRECTING:Ri.FAILED),Mi(t=>t!==Ri.REDIRECTING),ea(1)).subscribe(()=>{e()})})(i,()=>{r(!0)}),e.get(Hf).afterPreactivation=()=>(r(!0),a.closed?Ct(void 0):a),i.initialNavigation()}))}}]).\u0275providers:[]]}const pw=new d.OlP(Gf?"Router Initializer":"");var lv=F(9260),ii=F(4976);function uv(){return(0,Ln.e)((n,e)=>{let t,r=!1;n.subscribe((0,mn.x)(e,i=>{const a=t;t=i,r&&e.next([a,i]),r=!0}))})}function tA(n,e){return n===e}var nt,wo=F(2011),nA=(F(2644),F(3942)),ve=F(5861),nl=F(6881),qf=F(4859),Xa=F(1877),hn=F(2090),gw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ls={},_w=_w||{},Ht=gw||self;function Eg(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Wf(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var dv="closure_uid_"+(1e9*Math.random()>>>0),Zf=0;function iA(n,e,t){return n.call.apply(n.bind,arguments)}function hv(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Vn(n,e,t){return(Vn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?iA:hv).apply(null,arguments)}function wg(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Er(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,a){for(var l=Array(arguments.length-2),p=2;p<arguments.length;p++)l[p-2]=arguments[p];return e.prototype[i].apply(r,l)}}function Vs(){this.s=this.s,this.o=this.o}Vs.prototype.s=!1,Vs.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function rA(n){Object.prototype.hasOwnProperty.call(n,dv)&&n[dv]||(n[dv]=++Zf)}(this)},Vs.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const yw=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function fv(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Kf(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Eg(r)){const i=n.length||0,a=r.length||0;n.length=i+a;for(let l=0;l<a;l++)n[i+l]=r[l]}else n.push(r)}}function Or(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Or.prototype.h=function(){this.defaultPrevented=!0};var oA=function(){if(!Ht.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ht.addEventListener("test",()=>{},e),Ht.removeEventListener("test",()=>{},e)}catch{}return n}();function Yf(n){return/^[\s\xa0]*$/.test(n)}function Qf(){var n=Ht.navigator;return n&&(n=n.userAgent)?n:""}function Io(n){return-1!=Qf().indexOf(n)}function Jf(n){return Jf[" "](n),n}Jf[" "]=function(){};var gv,n,pv=Io("Opera"),rl=Io("Trident")||Io("MSIE"),mv=Io("Edge"),Xf=mv||rl,Ig=Io("Gecko")&&!(-1!=Qf().toLowerCase().indexOf("webkit")&&!Io("Edge"))&&!(Io("Trident")||Io("MSIE"))&&!Io("Edge"),aA=-1!=Qf().toLowerCase().indexOf("webkit")&&!Io("Edge");function bw(){var n=Ht.document;return n?n.documentMode:void 0}e:{var _v="",Dg=(n=Qf(),Ig?/rv:([^\);]+)(\)|;)/.exec(n):mv?/Edge\/([\d\.]+)/.exec(n):rl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):aA?/WebKit\/(\S+)/.exec(n):pv?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Dg&&(_v=Dg?Dg[1]:""),rl){var ep=bw();if(null!=ep&&ep>parseFloat(_v)){gv=String(ep);break e}}gv=_v}var ww=Ht.document&&rl&&(bw()||parseInt(gv,10))||void 0;function $d(n,e){if(Or.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Ig){e:{try{Jf(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:cA[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&$d.$.h.call(this)}}Er($d,Or);var cA={2:"touch",3:"pen",4:"mouse"};$d.prototype.h=function(){$d.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Hd="closure_listenable_"+(1e6*Math.random()|0),Iw=0;function lA(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++Iw,this.fa=this.ia=!1}function tp(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function yv(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function pu(n){const e={};for(const t in n)e[t]=n[t];return e}const Dw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Cw(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let a=0;a<Dw.length;a++)t=Dw[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function vv(n){this.src=n,this.g={},this.h=0}function Tw(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],i=yw(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(tp(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Tg(n,e,t,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.fa&&a.listener==e&&a.capture==!!t&&a.la==r)return i}return-1}vv.prototype.add=function(n,e,t,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var l=Tg(n,e,r,i);return-1<l?(e=n[l],t||(e.ia=!1)):((e=new lA(e,this.src,a,!!r,i)).ia=t,n.push(e)),e};var np="closure_lm_"+(1e6*Math.random()|0),mu={};function Aw(n,e,t,r,i){if(r&&r.once)return bv(n,e,t,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)Aw(n,e[a],t,r,i);return null}return t=zd(t),n&&n[Hd]?n.O(e,t,Wf(r)?!!r.capture:!!r,i):Ag(n,e,t,!1,r,i)}function Ag(n,e,t,r,i,a){if(!e)throw Error("Invalid event type");var l=Wf(i)?!!i.capture:!!i,p=Sg(n);if(p||(n[np]=p=new vv(n)),(t=p.add(e,t,r,l,a)).proxy)return t;if(r=function uA(){const e=wv;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)oA||(i=l),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(Mw(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function bv(n,e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)bv(n,e[a],t,r,i);return null}return t=zd(t),n&&n[Hd]?n.P(e,t,Wf(r)?!!r.capture:!!r,i):Ag(n,e,t,!0,r,i)}function Sw(n,e,t,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)Sw(n,e[a],t,r,i);else r=Wf(r)?!!r.capture:!!r,t=zd(t),n&&n[Hd]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Tg(a=n.g[e],t,r,i))&&(tp(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=Sg(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Tg(e,t,r,i)),(t=-1<n?e[n]:null)&&Ev(t))}function Ev(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Hd])Tw(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Mw(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Sg(e))?(Tw(t,n),0==t.h&&(t.src=null,e[np]=null)):tp(n)}}}function Mw(n){return n in mu?mu[n]:mu[n]="on"+n}function wv(n,e){if(n.fa)n=!0;else{e=new $d(e,this);var t=n.listener,r=n.la||n.src;n.ia&&Ev(n),n=t.call(r,e)}return n}function Sg(n){return(n=n[np])instanceof vv?n:null}var Mg="__closure_events_fn_"+(1e9*Math.random()>>>0);function zd(n){return"function"==typeof n?n:(n[Mg]||(n[Mg]=function(e){return n.handleEvent(e)}),n[Mg])}function wr(){Vs.call(this),this.i=new vv(this),this.S=this,this.J=null}function yi(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new Or(e,n);else if(e instanceof Or)e.target=e.target||n;else{var i=e;Cw(e=new Or(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var l=e.g=t[a];i=rp(l,r,!0,e)&&i}if(i=rp(l=e.g=n,r,!0,e)&&i,i=rp(l,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=rp(l=e.g=t[a],r,!1,e)&&i}function rp(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var l=e[a];if(l&&!l.fa&&l.capture==t){var p=l.listener,y=l.la||l.src;l.ia&&Tw(n.i,l),i=!1!==p.call(y,r)&&i}}return i&&!r.defaultPrevented}Er(wr,Vs),wr.prototype[Hd]=!0,wr.prototype.removeEventListener=function(n,e,t,r){Sw(this,n,e,t,r)},wr.prototype.N=function(){if(wr.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)tp(t[r]);delete n.g[e],n.h--}}this.J=null},wr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},wr.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Iv=Ht.JSON.stringify;function Gd(){var n=Tv;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Dv=new class xw{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Cv,n=>n.reset());class Cv{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function l1(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function hA(n){Ht.setTimeout(()=>{throw n},0)}let xg,ip=!1,Tv=new class dA{constructor(){this.h=this.g=null}add(e,t){const r=Dv.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},Rw=()=>{const n=Ht.Promise.resolve(void 0);xg=()=>{n.then(Pw)}};var Pw=()=>{for(var n;n=Gd();){try{n.h.call(n.g)}catch(t){hA(t)}var e=Dv;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}ip=!1};function sp(n,e){wr.call(this),this.h=n||1,this.g=e||Ht,this.j=Vn(this.qb,this),this.l=Date.now()}function Av(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Rg(n,e,t){if("function"==typeof n)t&&(n=Vn(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Vn(n.handleEvent,n)}return 2147483647<Number(e)?-1:Ht.setTimeout(n,e||0)}function Sv(n){n.g=Rg(()=>{n.g=null,n.i&&(n.i=!1,Sv(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Er(sp,wr),(nt=sp.prototype).ga=!1,nt.T=null,nt.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),yi(this,"tick"),this.ga&&(Av(this),this.start()))}},nt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},nt.N=function(){sp.$.N.call(this),Av(this),delete this.g};class fA extends Vs{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Sv(this)}N(){super.N(),this.g&&(Ht.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function op(n){Vs.call(this),this.h=n,this.g={}}Er(op,Vs);var Mv=[];function Ow(n,e,t,r){Array.isArray(t)||(t&&(Mv[0]=t.toString()),t=Mv);for(var i=0;i<t.length;i++){var a=Aw(e,t[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function xv(n){yv(n.g,function(e,t){this.g.hasOwnProperty(t)&&Ev(e)},n),n.g={}}function ap(){this.g=!0}function qd(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function u1(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var l=1;l<i.length;l++)i[l]=""}}}return Iv(t)}catch{return e}}(n,t)+(r?" "+r:"")})}op.prototype.N=function(){op.$.N.call(this),xv(this)},op.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ap.prototype.Ea=function(){this.g=!1},ap.prototype.info=function(){};var il={},mA=null;function Rv(){return mA=mA||new wr}function gA(n){Or.call(this,il.Ta,n)}function Pg(n){const e=Rv();yi(e,new gA(e))}function _A(n,e){Or.call(this,il.STAT_EVENT,n),this.stat=e}function Qi(n){const e=Rv();yi(e,new _A(e,n))}function yA(n,e){Or.call(this,il.Ua,n),this.size=e}function Og(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ht.setTimeout(function(){n()},e)}il.Ta="serverreachability",Er(gA,Or),il.STAT_EVENT="statevent",Er(_A,Or),il.Ua="timingevent",Er(yA,Or);var gu={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},vA={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function kg(){}function Pv(){}kg.prototype.h=null;var Ng,Wd={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Fw(){Or.call(this,"d")}function lp(){Or.call(this,"c")}function Fg(){}function Lg(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new op(this),this.P=bA,this.V=new sp(n=Xf?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Lw}function Lw(){this.i=null,this.g="",this.h=!1}Er(Fw,Or),Er(lp,Or),Er(Fg,kg),Fg.prototype.g=function(){return new XMLHttpRequest},Fg.prototype.i=function(){return{}},Ng=new Fg;var bA=45e3,Ov={},_u={};function kv(n,e,t){n.L=1,n.v=Yd(Ir(e)),n.s=t,n.S=!0,EA(n,null)}function EA(n,e){n.G=Date.now(),up(n),n.A=Ir(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),jg(t.i,"t",r),n.C=0,t=n.l.J,n.h=new Lw,n.g=Gv(n.l,t?e:null,!n.s),0<n.O&&(n.M=new fA(Vn(n.Pa,n,n.g),n.O)),Ow(n.U,n.g,"readystatechange",n.nb),e=n.I?pu(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Pg(),function kw(n,e,t,r,i,a){n.info(function(){if(n.g)if(a)for(var l="",p=a.split("&"),y=0;y<p.length;y++){var w=p[y].split("=");if(1<w.length){var T=w[0];w=w[1];var R=T.split("_");l=2<=R.length&&"type"==R[1]?l+(T+"=")+w+"&":l+(T+"=redacted&")}}else l=null;else l=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.W,n.s)}function wA(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function IA(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=DA(n,t),i==_u){4==e&&(n.o=4,Qi(14),r=!1),qd(n.j,n.m,null,"[Incomplete Response]");break}if(i==Ov){n.o=4,Qi(15),qd(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}qd(n.j,n.m,i,null),Vg(n,i)}wA(n)&&i!=_u&&i!=Ov&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Qi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),iI(e),e.M=!0,Qi(11))):(qd(n.j,n.m,t,"[Invalid Chunked Response]"),sl(n),dp(n))}function DA(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?_u:(t=Number(e.substring(t,r)),isNaN(t)?Ov:(r+=1)+t>e.length?_u:(e=e.slice(r,r+t),n.C=r+t,e))}function up(n){n.Y=Date.now()+n.P,Vw(n,n.P)}function Vw(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Og(Vn(n.lb,n),e)}function Nv(n){n.B&&(Ht.clearTimeout(n.B),n.B=null)}function dp(n){0==n.l.H||n.J||zv(n.l,n)}function sl(n){Nv(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,Av(n.V),xv(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function Vg(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||$g(t.i,n)))if(!n.K&&$g(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Hv(t),aa(t)}rI(t),Qi(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=Og(Vn(t.ib,t),6e3));if(1>=Gw(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Eu(t,11)}else if((n.K||t.g==n)&&Hv(t),!Yf(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let w=i[e];if(t.V=w[0],w=w[1],2==t.H)if("c"==w[0]){t.K=w[1],t.pa=w[2];const T=w[3];null!=T&&(t.ra=T,t.l.info("VER="+t.ra));const R=w[4];null!=R&&(t.Ga=R,t.l.info("SVER="+t.Ga));const B=w[5];null!=B&&"number"==typeof B&&0<B&&(t.L=r=1.5*B,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const q=n.g;if(q){const Q=q.g?q.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Q){var a=r.i;a.g||-1==Q.indexOf("spdy")&&-1==Q.indexOf("quic")&&-1==Q.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(qw(a,a.h),a.h=null))}if(r.F){const ce=q.g?q.g.getResponseHeader("X-HTTP-Session-Id"):null;ce&&(r.Da=ce,Bn(r.I,r.F,ce))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var l=n;if((r=t).wa=aI(r,r.J?r.pa:null,r.Y),l.K){Vv(r.i,l);var p=l,y=r.L;y&&p.setTimeout(y),p.B&&(Nv(p),up(p)),r.g=l}else gp(r);0<t.j.length&&nh(t)}else"stop"!=w[0]&&"close"!=w[0]||Eu(t,7);else 3==t.H&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?Eu(t,7):zg(t):"noop"!=w[0]&&t.h&&t.h.Aa(w),t.A=0)}Pg()}catch{}}function Bw(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Eg(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Do(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Eg(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function d1(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Eg(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,a=0;a<i;a++)e.call(void 0,r[a],t&&t[a],n)}(nt=Lg.prototype).setTimeout=function(n){this.P=n},nt.nb=function(n){n=n.target;const e=this.M;e&&3==tc(n)?e.l():this.Pa(n)},nt.Pa=function(n){try{if(n==this.g)e:{const T=tc(this.g);var e=this.g.Ia();if(this.g.da(),!(3>T)&&(3!=T||Xf||this.g&&(this.h.h||this.g.ja()||kA(this.g)))){this.J||4!=T||7==e||Pg(),Nv(this);var t=this.g.da();this.ca=t;t:if(wA(this)){var r=kA(this.g);n="";var i=r.length,a=4==tc(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){sl(this),dp(this);var l="";break t}this.h.i=new Ht.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=200==t,function Nw(n,e,t,r,i,a,l){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+a+" "+l})}(this.j,this.u,this.A,this.m,this.W,T,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var p,y=this.g;if((p=y.g?y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Yf(p)){var w=p;break t}}w=null}if(!(t=w)){this.i=!1,this.o=3,Qi(12),sl(this),dp(this);break e}qd(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Vg(this,t)}this.S?(IA(this,T,l),Xf&&this.i&&3==T&&(Ow(this.U,this.V,"tick",this.mb),this.V.start())):(qd(this.j,this.m,l,null),Vg(this,l)),4==T&&sl(this),this.i&&!this.J&&(4==T?zv(this.l,this):(this.i=!1,up(this)))}else(function g1(n){const e={};n=(n.g&&2<=tc(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(Yf(n[r]))continue;var t=l1(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const a=e[i]||[];e[i]=a,a.push(t)}!function Pi(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<l.indexOf("Unknown SID")?(this.o=3,Qi(12)):(this.o=0,Qi(13)),sl(this),dp(this)}}}catch{}},nt.mb=function(){if(this.g){var n=tc(this.g),e=this.g.ja();this.C<e.length&&(Nv(this),IA(this,n,e),this.i&&4!=n&&up(this))}},nt.cancel=function(){this.J=!0,sl(this)},nt.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function pA(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Pg(),Qi(17)),sl(this),this.o=2,dp(this)):Vw(this,this.Y-n)};var Bg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zd(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Zd){this.h=n.h,Ug(this,n.j),this.s=n.s,this.g=n.g,Kd(this,n.m),this.l=n.l;var e=n.i,t=new yu;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Uw(this,t),this.o=n.o}else n&&(e=String(n).match(Bg))?(this.h=!1,Ug(this,e[1]||"",!0),this.s=Qd(e[2]||""),this.g=Qd(e[3]||"",!0),Kd(this,e[4]),this.l=Qd(e[5]||"",!0),Uw(this,e[6]||"",!0),this.o=Qd(e[7]||"")):(this.h=!1,this.i=new yu(null,this.h))}function Ir(n){return new Zd(n)}function Ug(n,e,t){n.j=t?Qd(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Kd(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Uw(n,e,t){e instanceof yu?(n.i=e,function MA(n,e){e&&!n.j&&(vi(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(ec(this,r),jg(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Jd(e,$w)),n.i=new yu(e,n.h))}function Bn(n,e,t){n.i.set(e,t)}function Yd(n){return Bn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Qd(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Jd(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,TA),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function TA(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Zd.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Jd(e,Fv,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Jd(e,Fv,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Jd(t,"/"==t.charAt(0)?AA:jw,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Jd(t,SA)),n.join("")};var Fv=/[#\/\?@]/g,jw=/[#\?:]/g,AA=/[#\?]/g,$w=/[#\?@]/g,SA=/#/g;function yu(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function vi(n){n.g||(n.g=new Map,n.h=0,n.i&&function CA(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var a=n[t].substring(0,r);i=n[t].substring(r+1)}else a=n[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function ec(n,e){vi(n),e=vu(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function Lv(n,e){return vi(n),e=vu(n,e),n.g.has(e)}function jg(n,e,t){ec(n,e),0<t.length&&(n.i=null,n.g.set(vu(n,e),fv(t)),n.h+=t.length)}function vu(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Hw(n){this.l=n||xA,n=Ht.PerformanceNavigationTiming?0<(n=Ht.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ht.g&&Ht.g.Ka&&Ht.g.Ka()&&Ht.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(nt=yu.prototype).add=function(n,e){vi(this),this.i=null,n=vu(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},nt.forEach=function(n,e){vi(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},nt.ta=function(){vi(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let a=0;a<i.length;a++)t.push(e[r])}return t},nt.Z=function(n){vi(this);let e=[];if("string"==typeof n)Lv(this,n)&&(e=e.concat(this.g.get(vu(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},nt.set=function(n,e){return vi(this),this.i=null,Lv(this,n=vu(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},nt.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},nt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const a=encodeURIComponent(String(r)),l=this.Z(r);for(r=0;r<l.length;r++){var i=a;""!==l[r]&&(i+="="+encodeURIComponent(String(l[r]))),n.push(i)}}return this.i=n.join("&")};var xA=10;function zw(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Gw(n){return n.h?1:n.g?n.g.size:0}function $g(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function qw(n,e){n.g?n.g.add(e):n.h=e}function Vv(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Ww(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return fv(n.i)}Hw.prototype.cancel=function(){if(this.i=Ww(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var Zw=class{stringify(n){return Ht.JSON.stringify(n,void 0)}parse(n){return Ht.JSON.parse(n,void 0)}};function f1(){this.g=new Zw}function Bv(n,e,t){const r=t||"";try{Bw(n,function(i,a){let l=i;Wf(i)&&(l=Iv(i)),e.push(r+a+"="+encodeURIComponent(l))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function hp(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Xd(n){this.l=n.fc||null,this.j=n.ob||!1}function fp(n,e){wr.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=Hg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Er(Xd,kg),Xd.prototype.g=function(){return new fp(this.l,this.j)},Xd.prototype.i=function(n){return function(){return n}}({}),Er(fp,wr);var Hg=0;function pp(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function ol(n){n.readyState=4,n.l=null,n.j=null,n.A=null,eh(n)}function eh(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(nt=fp.prototype).open=function(n,e){if(this.readyState!=Hg)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,eh(this)},nt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Ht).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},nt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ol(this)),this.readyState=Hg},nt.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,eh(this)),this.g&&(this.readyState=3,eh(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ht.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;pp(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},nt.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?ol(this):eh(this),3==this.readyState&&pp(this)}},nt.Za=function(n){this.g&&(this.response=this.responseText=n,ol(this))},nt.Ya=function(n){this.g&&(this.response=n,ol(this))},nt.ka=function(){this.g&&ol(this)},nt.setRequestHeader=function(n,e){this.v.append(n,e)},nt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},nt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(fp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var RA=Ht.JSON.parse;function ar(n){wr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=PA,this.L=this.M=!1}Er(ar,wr);var PA="",p1=/^https?$/i,m1=["POST","PUT"];function Qw(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Jw(n),Uv(n)}function Jw(n){n.F||(n.F=!0,yi(n,"complete"),yi(n,"error"))}function Xw(n){if(n.h&&typeof _w<"u"&&(!n.C[1]||4!=tc(n)||2!=n.da()))if(n.v&&4==tc(n))Rg(n.La,0,n);else if(yi(n,"readystatechange"),4==tc(n)){n.h=!1;try{const l=n.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===l){var i=String(n.I).match(Bg)[1]||null;!i&&Ht.self&&Ht.self.location&&(i=Ht.self.location.protocol.slice(0,-1)),r=!p1.test(i?i.toLowerCase():"")}t=r}if(t)yi(n,"complete"),yi(n,"success");else{n.m=6;try{var a=2<tc(n)?n.g.statusText:""}catch{a=""}n.j=a+" ["+n.da()+"]",Jw(n)}}finally{Uv(n)}}}function Uv(n,e){if(n.g){OA(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||yi(n,"ready");try{t.onreadystatechange=r}catch{}}}function OA(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Ht.clearTimeout(n.A),n.A=null)}function tc(n){return n.g?n.g.readyState:0}function kA(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case PA:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function eI(n){let e="";return yv(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function th(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=eI(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Bn(n,e,t))}function mp(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function tI(n){this.Ga=0,this.j=[],this.l=new ap,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=mp("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=mp("baseRetryDelayMs",5e3,n),this.hb=mp("retryDelaySeedMs",1e4,n),this.eb=mp("forwardChannelMaxRetries",2,n),this.xa=mp("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new Hw(n&&n.concurrentRequestLimit),this.Ja=new f1,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function zg(n){if(jv(n),3==n.H){var e=n.W++,t=Ir(n.I);if(Bn(t,"SID",n.K),Bn(t,"RID",e),Bn(t,"TYPE","terminate"),bu(n,t),(e=new Lg(n,n.l,e)).L=2,e.v=Yd(Ir(t)),t=!1,Ht.navigator&&Ht.navigator.sendBeacon)try{t=Ht.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Ht.Image&&((new Image).src=e.v,t=!0),t||(e.g=Gv(e.l,null),e.g.ha(e.v)),e.G=Date.now(),up(e)}oI(n)}function aa(n){n.g&&(iI(n),n.g.cancel(),n.g=null)}function jv(n){aa(n),n.u&&(Ht.clearTimeout(n.u),n.u=null),Hv(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Ht.clearTimeout(n.m),n.m=null)}function nh(n){if(!zw(n.i)&&!n.m){n.m=!0;var e=n.Na;xg||Rw(),ip||(xg(),ip=!0),Tv.add(e,n),n.C=0}}function nI(n,e){var t;t=e?e.m:n.W++;const r=Ir(n.I);Bn(r,"SID",n.K),Bn(r,"RID",t),Bn(r,"AID",n.V),bu(n,r),n.o&&n.s&&th(r,n.o,n.s),t=new Lg(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=Gg(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),qw(n.i,t),kv(t,r,e)}function bu(n,e){n.na&&yv(n.na,function(t,r){Bn(e,r,t)}),n.h&&Bw({},function(t,r){Bn(e,r,t)})}function Gg(n,e,t){t=Math.min(n.j.length,t);var r=n.h?Vn(n.h.Va,n.h,n):null;e:{var i=n.j;let a=-1;for(;;){const l=["count="+t];-1==a?0<t?(a=i[0].g,l.push("ofs="+a)):a=0:l.push("ofs="+a);let p=!0;for(let y=0;y<t;y++){let w=i[y].g;const T=i[y].map;if(w-=a,0>w)a=Math.max(0,i[y].g-100),p=!1;else try{Bv(T,l,"req"+w+"_")}catch{r&&r(T)}}if(p){r=l.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function gp(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;xg||Rw(),ip||(xg(),ip=!0),Tv.add(e,n),n.A=0}}function rI(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Og(Vn(n.Ma,n),sI(n,n.A)),n.A++,0))}function iI(n){null!=n.B&&(Ht.clearTimeout(n.B),n.B=null)}function NA(n){n.g=new Lg(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Ir(n.wa);Bn(e,"RID","rpc"),Bn(e,"SID",n.K),Bn(e,"AID",n.V),Bn(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Bn(e,"TO",n.qa),Bn(e,"TYPE","xmlhttp"),bu(n,e),n.o&&n.s&&th(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=Yd(Ir(e)),t.s=null,t.S=!0,EA(t,n)}function Hv(n){null!=n.v&&(Ht.clearTimeout(n.v),n.v=null)}function zv(n,e){var t=null;if(n.g==e){Hv(n),iI(n),n.g=null;var r=2}else{if(!$g(n.i,e))return;t=e.F,Vv(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;yi(r=Rv(),new yA(r,t)),nh(n)}else gp(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function $v(n,e){return!(Gw(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Og(Vn(n.Na,n,e),sI(n,n.C)),n.C++,0)))}(n,e)||2==r&&rI(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Eu(n,5);break;case 4:Eu(n,10);break;case 3:Eu(n,6);break;default:Eu(n,2)}}function sI(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Eu(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=Vn(n.pb,n);t||(t=new Zd("//www.google.com/images/cleardot.gif"),Ht.location&&"http"==Ht.location.protocol||Ug(t,"https"),Yd(t)),function Kw(n,e){const t=new ap;if(Ht.Image){const r=new Image;r.onload=wg(hp,t,r,"TestLoadImage: loaded",!0,e),r.onerror=wg(hp,t,r,"TestLoadImage: error",!1,e),r.onabort=wg(hp,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=wg(hp,t,r,"TestLoadImage: timeout",!1,e),Ht.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Qi(2);n.H=0,n.h&&n.h.za(e),oI(n),jv(n)}function oI(n){if(n.H=0,n.ma=[],n.h){const e=Ww(n.i);(0!=e.length||0!=n.j.length)&&(Kf(n.ma,e),Kf(n.ma,n.j),n.i.i.length=0,fv(n.j),n.j.length=0),n.h.ya()}}function aI(n,e,t){var r=t instanceof Zd?Ir(t):new Zd(t);if(""!=r.g)e&&(r.g=e+"."+r.g),Kd(r,r.m);else{var i=Ht.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var a=new Zd(null);r&&Ug(a,r),e&&(a.g=e),i&&Kd(a,i),t&&(a.l=t),r=a}return e=n.Da,(t=n.F)&&e&&Bn(r,t,e),Bn(r,"VER",n.ra),bu(n,r),r}function Gv(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ar(t&&n.Ha&&!n.va?new Xd({ob:!0}):n.va)).Oa(n.J),e}function qv(){}function _p(){if(rl&&!(10<=Number(ww)))throw Error("Environmental error: no available transport.")}function ys(n,e){wr.call(this),this.g=new tI(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Yf(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Yf(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new al(this)}function cI(n){Fw.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Wv(){lp.call(this),this.status=1}function al(n){this.g=n}function Bs(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function yp(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var a=n.g[3],l=(e=n.g[0])+(a^(t=n.g[1])&((i=n.g[2])^a))+r[0]+3614090360&4294967295;l=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=t+(l<<7&4294967295|l>>>25))+((l=a+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^a&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(a^e))+r[3]+3250441966&4294967295)<<22&4294967295|l>>>10))+((l=e+(a^t&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|l>>>25))+((l=a+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^a&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(a^e))+r[7]+4249261313&4294967295)<<22&4294967295|l>>>10))+((l=e+(a^t&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|l>>>25))+((l=a+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^a&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(a^e))+r[11]+2304563134&4294967295)<<22&4294967295|l>>>10))+((l=e+(a^t&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|l>>>25))+((l=a+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^a&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(a^e))+r[15]+1236535329&4294967295)<<22&4294967295|l>>>10))+((l=e+(i^a&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|l>>>27))+((l=a+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(a^e))+r[11]+643717713&4294967295)<<14&4294967295|l>>>18))+((l=t+(a^e&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^a&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|l>>>27))+((l=a+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(a^e))+r[15]+3634488961&4294967295)<<14&4294967295|l>>>18))+((l=t+(a^e&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^a&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|l>>>27))+((l=a+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(a^e))+r[3]+4107603335&4294967295)<<14&4294967295|l>>>18))+((l=t+(a^e&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^a&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|l>>>27))+((l=a+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(a^e))+r[7]+1735328473&4294967295)<<14&4294967295|l>>>18))+((l=t+(a^e&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|l>>>12))+((l=e+(t^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|l>>>28))+((l=a+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|l>>>21))+((l=i+(a^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^a^e)+r[14]+4259657740&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|l>>>28))+((l=a+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|l>>>21))+((l=i+(a^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^a^e)+r[10]+3200236656&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^a)+r[13]+681279174&4294967295)<<4&4294967295|l>>>28))+((l=a+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|l>>>21))+((l=i+(a^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^a^e)+r[6]+76029189&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|l>>>28))+((l=a+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|l>>>21))+((l=i+(a^e^t)+r[15]+530742520&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^a^e)+r[2]+3299628645&4294967295)<<23&4294967295|l>>>9))+((l=e+(i^(t|~a))+r[0]+4096336452&4294967295)<<6&4294967295|l>>>26))+((l=a+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(a|~t))+r[14]+2878612391&4294967295)<<15&4294967295|l>>>17))+((l=t+(a^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|l>>>11))+((l=e+(i^(t|~a))+r[12]+1700485571&4294967295)<<6&4294967295|l>>>26))+((l=a+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(a|~t))+r[10]+4293915773&4294967295)<<15&4294967295|l>>>17))+((l=t+(a^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|l>>>11))+((l=e+(i^(t|~a))+r[8]+1873313359&4294967295)<<6&4294967295|l>>>26))+((l=a+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(a|~t))+r[6]+2734768916&4294967295)<<15&4294967295|l>>>17))+((l=t+(a^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|l>>>11))+((a=(e=t+((l=e+(i^(t|~a))+r[4]+4149444226&4294967295)<<6&4294967295|l>>>26))+((l=a+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|l>>>22))^((i=a+((l=i+(e^(a|~t))+r[2]+718787259&4294967295)<<15&4294967295|l>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(l<<21&4294967295|l>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+a&4294967295}function Cn(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var a=0|n[i];r&&a==e||(t[i]=a,r=!1)}this.g=t}(nt=ar.prototype).Oa=function(n){this.M=n},nt.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Ng.g(),this.C=function cp(n){return n.h||(n.h=n.i())}(this.u?this.u:Ng),this.g.onreadystatechange=Vn(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(a){return void Qw(this,a)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const a of r.keys())t.set(a,r.get(a))}r=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),i=Ht.FormData&&n instanceof Ht.FormData,!(0<=yw(m1,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,l]of t)this.g.setRequestHeader(a,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{OA(this),0<this.B&&((this.L=function Yw(n){return rl&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Vn(this.ua,this)):this.A=Rg(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){Qw(this,a)}},nt.ua=function(){typeof _w<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,yi(this,"timeout"),this.abort(8))},nt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,yi(this,"complete"),yi(this,"abort"),Uv(this))},nt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Uv(this,!0)),ar.$.N.call(this)},nt.La=function(){this.s||(this.G||this.v||this.l?Xw(this):this.kb())},nt.kb=function(){Xw(this)},nt.isActive=function(){return!!this.g},nt.da=function(){try{return 2<tc(this)?this.g.status:-1}catch{return-1}},nt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},nt.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),RA(e)}},nt.Ia=function(){return this.m},nt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(nt=tI.prototype).ra=8,nt.H=1,nt.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new Lg(this,this.l,n);let a=this.s;if(this.U&&(a?(a=pu(a),Cw(a,this.U)):a=this.U),null!==this.o||this.O||(i.I=a,a=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Gg(this,i,e),Bn(t=Ir(this.I),"RID",n),Bn(t,"CVER",22),this.F&&Bn(t,"X-HTTP-Session-Id",this.F),bu(this,t),a&&(this.O?e="headers="+encodeURIComponent(String(eI(a)))+"&"+e:this.o&&th(t,this.o,a)),qw(this.i,i),this.bb&&Bn(t,"TYPE","init"),this.P?(Bn(t,"$req",e),Bn(t,"SID","null"),i.aa=!0,kv(i,t,null)):kv(i,t,e),this.H=2}}else 3==this.H&&(n?nI(this,n):0==this.j.length||zw(this.i)||nI(this))},nt.Ma=function(){if(this.u=null,NA(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Og(Vn(this.jb,this),n)}},nt.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Qi(10),aa(this),NA(this))},nt.ib=function(){null!=this.v&&(this.v=null,aa(this),rI(this),Qi(19))},nt.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Qi(2)):(this.l.info("Failed to ping google.com"),Qi(1))},nt.isActive=function(){return!!this.h&&this.h.isActive(this)},(nt=qv.prototype).Ba=function(){},nt.Aa=function(){},nt.za=function(){},nt.ya=function(){},nt.isActive=function(){return!0},nt.Va=function(){},_p.prototype.g=function(n,e){return new ys(n,e)},Er(ys,wr),ys.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Qi(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=aI(n,null,n.Y),nh(n)},ys.prototype.close=function(){zg(this.g)},ys.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Iv(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&nh(e)},ys.prototype.N=function(){this.g.h=null,delete this.j,zg(this.g),delete this.g,ys.$.N.call(this)},Er(cI,Fw),Er(Wv,lp),Er(al,qv),al.prototype.Ba=function(){yi(this.g,"a")},al.prototype.Aa=function(n){yi(this.g,new cI(n))},al.prototype.za=function(n){yi(this.g,new Wv)},al.prototype.ya=function(){yi(this.g,"b")},Er(Bs,function _1(){this.blockSize=-1}),Bs.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Bs.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,a=0;a<e;){if(0==i)for(;a<=t;)yp(this,n,a),a+=this.blockSize;if("string"==typeof n){for(;a<e;)if(r[i++]=n.charCodeAt(a++),i==this.blockSize){yp(this,r),i=0;break}}else for(;a<e;)if(r[i++]=n[a++],i==this.blockSize){yp(this,r),i=0;break}}this.h=i,this.i+=e},Bs.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var FA={};function lI(n){return-128<=n&&128>n?function vw(n,e){var t=FA;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Cn([0|e],0>e?-1:0)}):new Cn([0|n],0>n?-1:0)}function nc(n){if(isNaN(n)||!isFinite(n))return rh;if(0>n)return si(nc(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=Zv;return new Cn(e,0)}var Zv=4294967296,rh=lI(0),dI=lI(1),LA=lI(16777216);function cl(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Co(n){return-1==n.h}function si(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new Cn(t,~n.h).add(dI)}function Kv(n,e){return n.add(si(e))}function Yv(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function qg(n,e){this.g=n,this.h=e}function Qv(n,e){if(cl(e))throw Error("division by zero");if(cl(n))return new qg(rh,rh);if(Co(n))return e=Qv(si(n),e),new qg(si(e.g),si(e.h));if(Co(e))return e=Qv(n,si(e)),new qg(si(e.g),e.h);if(30<n.g.length){if(Co(n)||Co(e))throw Error("slowDivide_ only works with positive integers.");for(var t=dI,r=e;0>=r.X(n);)t=VA(t),r=VA(r);var i=vp(t,1),a=vp(r,1);for(r=vp(r,2),t=vp(t,2);!cl(r);){var l=a.add(r);0>=l.X(n)&&(i=i.add(t),a=l),r=vp(r,1),t=vp(t,1)}return e=Kv(n,i.R(e)),new qg(i,e)}for(i=rh;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),l=(a=nc(t)).R(e);Co(l)||0<l.X(n);)l=(a=nc(t-=r)).R(e);cl(a)&&(a=dI),i=i.add(a),n=Kv(n,l)}return new qg(i,n)}function VA(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new Cn(t,n.h)}function vp(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],a=0;a<r;a++)i[a]=0<e?n.D(a+t)>>>e|n.D(a+t+1)<<32-e:n.D(a+t);return new Cn(i,n.h)}(nt=Cn.prototype).ea=function(){if(Co(this))return-si(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:Zv+r)*e,e*=Zv}return n},nt.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(cl(this))return"0";if(Co(this))return"-"+si(this).toString(n);for(var e=nc(Math.pow(n,6)),t=this,r="";;){var i=Qv(t,e).g,a=((0<(t=Kv(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(cl(t=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},nt.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},nt.X=function(n){return Co(n=Kv(this,n))?-1:cl(n)?0:1},nt.abs=function(){return Co(this)?si(this):this},nt.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var a=r+(65535&this.D(i))+(65535&n.D(i)),l=(a>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=l>>>16,t[i]=(l&=65535)<<16|(a&=65535)}return new Cn(t,-2147483648&t[t.length-1]?-1:0)},nt.R=function(n){if(cl(this)||cl(n))return rh;if(Co(this))return Co(n)?si(this).R(si(n)):si(si(this).R(n));if(Co(n))return si(this.R(si(n)));if(0>this.X(LA)&&0>n.X(LA))return nc(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var a=this.D(r)>>>16,l=65535&this.D(r),p=n.D(i)>>>16,y=65535&n.D(i);t[2*r+2*i]+=l*y,Yv(t,2*r+2*i),t[2*r+2*i+1]+=a*y,Yv(t,2*r+2*i+1),t[2*r+2*i+1]+=l*p,Yv(t,2*r+2*i+1),t[2*r+2*i+2]+=a*p,Yv(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new Cn(t,0)},nt.gb=function(n){return Qv(this,n).h},nt.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new Cn(t,this.h&n.h)},nt.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new Cn(t,this.h|n.h)},nt.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new Cn(t,this.h^n.h)},_p.prototype.createWebChannel=_p.prototype.g,ys.prototype.send=ys.prototype.u,ys.prototype.open=ys.prototype.m,ys.prototype.close=ys.prototype.close,gu.NO_ERROR=0,gu.TIMEOUT=8,gu.HTTP_ERROR=6,vA.COMPLETE="complete",Pv.EventType=Wd,Wd.OPEN="a",Wd.CLOSE="b",Wd.ERROR="c",Wd.MESSAGE="d",wr.prototype.listen=wr.prototype.O,ar.prototype.listenOnce=ar.prototype.P,ar.prototype.getLastError=ar.prototype.Sa,ar.prototype.getLastErrorCode=ar.prototype.Ia,ar.prototype.getStatus=ar.prototype.da,ar.prototype.getResponseJson=ar.prototype.Wa,ar.prototype.getResponseText=ar.prototype.ja,ar.prototype.send=ar.prototype.ha,ar.prototype.setWithCredentials=ar.prototype.Oa,Bs.prototype.digest=Bs.prototype.l,Bs.prototype.reset=Bs.prototype.reset,Bs.prototype.update=Bs.prototype.j,Cn.prototype.add=Cn.prototype.add,Cn.prototype.multiply=Cn.prototype.R,Cn.prototype.modulo=Cn.prototype.gb,Cn.prototype.compare=Cn.prototype.X,Cn.prototype.toNumber=Cn.prototype.ea,Cn.prototype.toString=Cn.prototype.toString,Cn.prototype.getBits=Cn.prototype.D,Cn.fromNumber=nc,Cn.fromString=function uI(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return si(uI(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=nc(Math.pow(e,8)),r=rh,i=0;i<n.length;i+=8){var a=Math.min(8,n.length-i),l=parseInt(n.substring(i,i+a),e);8>a?(a=nc(Math.pow(e,a)),r=r.R(a).add(nc(l))):r=(r=r.R(t)).add(nc(l))}return r};var s=Ls.createWebChannelTransport=function(){return new _p},o=Ls.getStatEventTarget=function(){return Rv()},c=Ls.ErrorCode=gu,u=Ls.EventType=vA,h=Ls.Event=il,g=Ls.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},v=Ls.FetchXmlHttpFactory=Xd,I=Ls.WebChannel=Pv,C=Ls.XhrIo=ar,M=Ls.Md5=Bs,O=Ls.Integer=Cn;const L="@firebase/firestore";class ${constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$.UNAUTHENTICATED=new $(null),$.GOOGLE_CREDENTIALS=new $("google-credentials-uid"),$.FIRST_PARTY=new $("first-party-uid"),$.MOCK_USER=new $("mock-user");let X="9.23.0";const ye=new Xa.Yd("@firebase/firestore");function Ue(){return ye.logLevel}function ne(n,...e){if(ye.logLevel<=Xa.in.DEBUG){const t=e.map(Ut);ye.debug(`Firestore (${X}): ${n}`,...t)}}function ut(n,...e){if(ye.logLevel<=Xa.in.ERROR){const t=e.map(Ut);ye.error(`Firestore (${X}): ${n}`,...t)}}function Ae(n,...e){if(ye.logLevel<=Xa.in.WARN){const t=e.map(Ut);ye.warn(`Firestore (${X}): ${n}`,...t)}}function Ut(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function je(n="Unexpected state"){const e=`FIRESTORE (${X}) INTERNAL ASSERTION FAILED: `+n;throw ut(e),new Error(e)}function Xe(n,e){n||je()}function rt(n,e){return n}const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends hn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class oi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class v1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class U2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t($.UNAUTHENTICATED))}shutdown(){}}class j2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class $2{constructor(e){this.t=e,this.currentUser=$.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const a=w=>this.i!==i?(i=this.i,t(w)):Promise.resolve();let l=new oi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new oi,e.enqueueRetryable(()=>a(this.currentUser))};const p=()=>{const w=l;e.enqueueRetryable((0,ve.Z)(function*(){yield w.promise,yield a(r.currentUser)}))},y=w=>{ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),p()};this.t.onInit(w=>y(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?y(w):(ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new oi)}},0),p()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Xe("string"==typeof r.accessToken),new v1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Xe(null===e||"string"==typeof e),new $(e)}}class H2{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=$.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class z2{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new H2(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t($.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class b1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class G2{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=a=>{null!=a.error&&ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.T;return this.T=a.token,ne("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.I.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.I.getImmediate({optional:!0});a?i(a):ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Xe("string"==typeof t.token),this.T=t.token,new b1(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function q2(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class E1{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=q2(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}function qt(n,e){return n<e?-1:n>e?1:0}function Wg(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function w1(n){return n+"\0"}class cr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new xe(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new xe(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new xe(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return cr.fromMillis(Date.now())}static fromDate(e){return cr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new cr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?qt(this.nanoseconds,e.nanoseconds):qt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Tt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Tt(e)}static min(){return new Tt(new cr(0,0))}static max(){return new Tt(new cr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Jv{constructor(e,t,r){void 0===t?t=0:t>e.length&&je(),void 0===r?r=e.length-t:r>e.length-t&&je(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Jv.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Jv?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),l=t.get(i);if(a<l)return-1;if(a>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class gn extends Jv{construct(e,t,r){return new gn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new xe(de.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new gn(t)}static emptyPath(){return new gn([])}}const W2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Dr extends Jv{construct(e,t,r){return new Dr(e,t,r)}static isValidIdentifier(e){return W2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Dr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Dr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(0===r.length)throw new xe(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const p=e[i];if("\\"===p){if(i+1===e.length)throw new xe(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[i+1];if("\\"!==y&&"."!==y&&"`"!==y)throw new xe(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,i+=2}else"`"===p?(l=!l,i++):"."!==p||l?(r+=p,i++):(a(),i++)}if(a(),l)throw new xe(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Dr(t)}static emptyPath(){return new Dr([])}}class tt{constructor(e){this.path=e}static fromPath(e){return new tt(gn.fromString(e))}static fromName(e){return new tt(gn.fromString(e).popFirst(5))}static empty(){return new tt(gn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===gn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return gn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new tt(new gn(e.slice()))}}class hI{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function BA(n){return n.fields.find(e=>2===e.kind)}function bp(n){return n.fields.filter(e=>2!==e.kind)}hI.UNKNOWN_ID=-1;class fI{constructor(e,t){this.fieldPath=e,this.kind=t}}class Xv{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Xv(0,To.min())}}function I1(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Tt.fromTimestamp(1e9===r?new cr(t+1,0):new cr(t,r));return new To(i,tt.empty(),e)}function D1(n){return new To(n.readTime,n.key,-1)}class To{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new To(Tt.min(),tt.empty(),-1)}static max(){return new To(Tt.max(),tt.empty(),-1)}}function UA(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=tt.comparator(n.documentKey,e.documentKey),0!==t?t:qt(n.largestBatchId,e.largestBatchId))}const C1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class T1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function ih(n){return jA.apply(this,arguments)}function jA(){return jA=(0,ve.Z)(function*(n){if(n.code!==de.FAILED_PRECONDITION||n.message!==C1)throw n;ne("LocalStore","Unexpectedly lost primary lease")}),jA.apply(this,arguments)}class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&je(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new se((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof se?t:se.resolve(t)}catch(t){return se.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):se.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):se.reject(t)}static resolve(e){return new se((t,r)=>{t(e)})}static reject(e){return new se((t,r)=>{r(e)})}static waitFor(e){return new se((t,r)=>{let i=0,a=0,l=!1;e.forEach(p=>{++i,p.next(()=>{++a,l&&a===i&&t()},y=>r(y))}),l=!0,a===i&&t()})}static or(e){let t=se.resolve(!1);for(const r of e)t=t.next(i=>i?se.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new se((r,i)=>{const a=e.length,l=new Array(a);let p=0;for(let y=0;y<a;y++){const w=y;t(e[w]).next(T=>{l[w]=T,++p,p===a&&r(l)},T=>i(T))}})}static doWhile(e,t){return new se((r,i)=>{const a=()=>{!0===e()?t().next(()=>{a()},i):r()};a()})}}class pI{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new oi,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new eb(e,t.error)):this.v.resolve()},this.transaction.onerror=r=>{const i=$A(r.target.error);this.v.reject(new eb(e,i))}}static open(e,t,r,i){try{return new pI(t,e.transaction(i,r))}catch(a){throw new eb(t,a)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(ne("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Q2(t)}}class rc{constructor(e,t,r){this.name=e,this.version=t,this.V=r,12.2===rc.S((0,hn.z$)())&&ut("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ne("SimpleDb","Removing database:",e),Ep(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,hn.hl)())return!1;if(rc.C())return!0;const e=(0,hn.z$)(),t=rc.S(e),r=0<t&&t<10,i=rc.N(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}$(e){var t=this;return(0,ve.Z)(function*(){return t.db||(ne("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=l=>{r(l.target.result)},a.onblocked=()=>{i(new eb(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=l=>{const p=l.target.error;i("VersionError"===p.name?new xe(de.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===p.name?new xe(de.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+p):new eb(e,p))},a.onupgradeneeded=l=>{ne("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',l.oldVersion),t.V.O(l.target.result,a.transaction,l.oldVersion,t.version).next(()=>{ne("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=r=>t.F(r)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var a=this;return(0,ve.Z)(function*(){const l="readonly"===t;let p=0;for(;;){++p;try{a.db=yield a.$(e);const y=pI.open(a.db,e,l?"readonly":"readwrite",r),w=i(y).next(T=>(y.P(),T)).catch(T=>(y.abort(T),se.reject(T))).toPromise();return w.catch(()=>{}),yield y.R,w}catch(y){const w=y,T="FirebaseError"!==w.name&&p<3;if(ne("SimpleDb","Transaction failed with error:",w.message,"Retrying:",T),a.close(),!T)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Y2{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Ep(this.L.delete())}}class eb extends xe{constructor(e,t){super(de.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function sh(n){return"IndexedDbTransactionError"===n.name}class Q2{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(ne("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(ne("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ep(r)}add(e){return ne("SimpleDb","ADD",this.store.name,e,e),Ep(this.store.add(e))}get(e){return Ep(this.store.get(e)).next(t=>(void 0===t&&(t=null),ne("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return ne("SimpleDb","DELETE",this.store.name,e),Ep(this.store.delete(e))}count(){return ne("SimpleDb","COUNT",this.store.name),Ep(this.store.count())}j(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),a=[];return this.W(i,(l,p)=>{a.push(p)}).next(()=>a)}{const i=this.store.getAll(r.range);return new se((a,l)=>{i.onerror=p=>{l(p.target.error)},i.onsuccess=p=>{a(p.target.result)}})}}H(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new se((i,a)=>{r.onerror=l=>{a(l.target.error)},r.onsuccess=l=>{i(l.target.result)}})}J(e,t){ne("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const i=this.cursor(r);return this.W(i,(a,l,p)=>p.delete())}X(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.W(i,t)}Z(e){const t=this.cursor({});return new se((r,i)=>{t.onerror=a=>{const l=$A(a.target.error);i(l)},t.onsuccess=a=>{const l=a.target.result;l?e(l.primaryKey,l.value).next(p=>{p?l.continue():r()}):r()}})}W(e,t){const r=[];return new se((i,a)=>{e.onerror=l=>{a(l.target.error)},e.onsuccess=l=>{const p=l.target.result;if(!p)return void i();const y=new Y2(p),w=t(p.primaryKey,p.value,y);if(w instanceof se){const T=w.catch(R=>(y.done(),se.reject(R)));r.push(T)}y.isDone?i():null===y.K?p.continue():p.continue(y.K)}}).next(()=>se.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Ep(n){return new se((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=$A(r.target.error);t(i)}})}let A1=!1;function $A(n){const e=rc.S((0,hn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new xe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return A1||(A1=!0,setTimeout(()=>{throw r},0)),r}}return n}class J2{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;ne("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ve.Z)(function*(){t.task=null;try{ne("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(r){sh(r)?ne("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield ih(r)}yield t.et(6e4)}))}}class X2{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,ve.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.st(r,e))})()}st(e,t){const r=new Set;let i=t,a=!0;return se.doWhile(()=>!0===a&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(l=>{if(null!==l&&!r.has(l))return ne("IndexBackiller",`Processing collection: ${l}`),this.it(e,l,i).next(p=>{i-=p,r.add(l)});a=!1})).next(()=>t-i)}it(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(a=>{const l=a.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next(()=>this.rt(i,a)).next(p=>(ne("IndexBackiller",`Updating offset: ${p}`),this.localStore.indexManager.updateCollectionGroup(e,t,p))).next(()=>l.size)}))}rt(e,t){let r=e;return t.changes.forEach((i,a)=>{const l=D1(a);UA(l,r)>0&&(r=l)}),new To(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Ao=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function tb(n){return null==n}function nb(n){return 0===n&&1/n==-1/0}function S1(n){return"number"==typeof n&&Number.isInteger(n)&&!nb(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Ji(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=M1(e)),e=eV(n.get(t),e);return M1(e)}function eV(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function M1(n){return n+"\x01\x01"}function ll(n){const e=n.length;if(Xe(e>=2),2===e)return Xe("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),gn.emptyPath();const t=e-2,r=[];let i="";for(let a=0;a<e;){const l=n.indexOf("\x01",a);switch((l<0||l>t)&&je(),n.charAt(l+1)){case"\x01":const p=n.substring(a,l);let y;0===i.length?y=p:(i+=p,y=i,i=""),r.push(y);break;case"\x10":i+=n.substring(a,l),i+="\0";break;case"\x11":i+=n.substring(a,l+1);break;default:je()}a=l+2}return new gn(r)}const x1=["userId","batchId"];function mI(n,e){return[n,Ji(e)]}function R1(n,e,t){return[n,Ji(e),t]}const tV={},nV=["prefixPath","collectionGroup","readTime","documentId"],rV=["prefixPath","collectionGroup","documentId"],iV=["collectionGroup","readTime","prefixPath","documentId"],sV=["canonicalId","targetId"],oV=["targetId","path"],aV=["path","targetId"],cV=["collectionId","parent"],lV=["indexId","uid"],uV=["uid","sequenceNumber"],dV=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],hV=["indexId","uid","orderedDocumentKey"],fV=["userId","collectionPath","documentId"],pV=["userId","collectionPath","largestBatchId"],mV=["userId","collectionGroup","largestBatchId"],P1=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],gV=[...P1,"documentOverlays"],O1=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],k1=O1,_V=[...k1,"indexConfiguration","indexState","indexEntries"];class HA extends T1{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function bi(n,e){const t=rt(n);return rc.M(t.ht,e)}function N1(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function oh(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function F1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class zn{constructor(e,t){this.comparator=e,this.root=t||Oi.EMPTY}insert(e,t){return new zn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Oi.BLACK,null,null))}remove(e){return new zn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Oi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gI(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gI(this.root,e,this.comparator,!1)}getReverseIterator(){return new gI(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gI(this.root,e,this.comparator,!0)}}class gI{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Oi{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??Oi.RED,this.left=i??Oi.EMPTY,this.right=a??Oi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new Oi(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Oi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Oi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Oi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Oi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw je();const e=this.left.check();if(e!==this.right.check())throw je();return e+(this.isRed()?0:1)}}Oi.EMPTY=null,Oi.RED=!0,Oi.BLACK=!1,Oi.EMPTY=new class{constructor(){this.size=0}get key(){throw je()}get value(){throw je()}get color(){throw je()}get left(){throw je()}get right(){throw je()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Oi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Jn{constructor(e){this.comparator=e,this.data=new zn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new L1(this.data.getIterator())}getIteratorFrom(e){return new L1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Jn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Jn(this.comparator);return t.data=e,t}}class L1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Zg(n){return n.hasNext()?n.getNext():void 0}class Us{constructor(e){this.fields=e,e.sort(Dr.comparator)}static empty(){return new Us([])}unionWith(e){let t=new Jn(Dr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Us(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Wg(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class V1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ai{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new V1("Invalid base64 string: "+i):i}}(e);return new ai(t)}static fromUint8Array(e){const t=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new ai(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ai.EMPTY_BYTE_STRING=new ai("");const vV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ah(n){if(Xe(!!n),"string"==typeof n){let e=0;const t=vV.exec(n);if(Xe(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Cr(n.seconds),nanos:Cr(n.nanos)}}function Cr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function wu(n){return"string"==typeof n?ai.fromBase64String(n):ai.fromUint8Array(n)}function _I(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function yI(n){const e=n.mapValue.fields.__previous_value__;return _I(e)?yI(e):e}function rb(n){const e=ah(n.mapValue.fields.__local_write_time__.timestampValue);return new cr(e.seconds,e.nanos)}class bV{constructor(e,t,r,i,a,l,p,y,w){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=w}}class ch{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ch("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ch&&e.projectId===this.projectId&&e.database===this.database}}const lh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},vI={nullValue:"NULL_VALUE"};function uh(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?_I(n)?4:$1(n)?9007199254740991:10:je()}function ul(n,e){if(n===e)return!0;const t=uh(n);if(t!==uh(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return rb(n).isEqual(rb(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=ah(r.timestampValue),l=ah(i.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,wu(n.bytesValue).isEqual(wu(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Cr(r.geoPointValue.latitude)===Cr(i.geoPointValue.latitude)&&Cr(r.geoPointValue.longitude)===Cr(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Cr(r.integerValue)===Cr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=Cr(r.doubleValue),l=Cr(i.doubleValue);return a===l?nb(a)===nb(l):isNaN(a)&&isNaN(l)}return!1}(n,e);case 9:return Wg(n.arrayValue.values||[],e.arrayValue.values||[],ul);case 10:return function(r,i){const a=r.mapValue.fields||{},l=i.mapValue.fields||{};if(N1(a)!==N1(l))return!1;for(const p in a)if(a.hasOwnProperty(p)&&(void 0===l[p]||!ul(a[p],l[p])))return!1;return!0}(n,e);default:return je()}var i}function ib(n,e){return void 0!==(n.values||[]).find(t=>ul(t,e))}function dh(n,e){if(n===e)return 0;const t=uh(n),r=uh(e);if(t!==r)return qt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return qt(n.booleanValue,e.booleanValue);case 2:return function(i,a){const l=Cr(i.integerValue||i.doubleValue),p=Cr(a.integerValue||a.doubleValue);return l<p?-1:l>p?1:l===p?0:isNaN(l)?isNaN(p)?0:-1:1}(n,e);case 3:return B1(n.timestampValue,e.timestampValue);case 4:return B1(rb(n),rb(e));case 5:return qt(n.stringValue,e.stringValue);case 6:return function(i,a){const l=wu(i),p=wu(a);return l.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(i,a){const l=i.split("/"),p=a.split("/");for(let y=0;y<l.length&&y<p.length;y++){const w=qt(l[y],p[y]);if(0!==w)return w}return qt(l.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,a){const l=qt(Cr(i.latitude),Cr(a.latitude));return 0!==l?l:qt(Cr(i.longitude),Cr(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,a){const l=i.values||[],p=a.values||[];for(let y=0;y<l.length&&y<p.length;++y){const w=dh(l[y],p[y]);if(w)return w}return qt(l.length,p.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,a){if(i===lh.mapValue&&a===lh.mapValue)return 0;if(i===lh.mapValue)return 1;if(a===lh.mapValue)return-1;const l=i.fields||{},p=Object.keys(l),y=a.fields||{},w=Object.keys(y);p.sort(),w.sort();for(let T=0;T<p.length&&T<w.length;++T){const R=qt(p[T],w[T]);if(0!==R)return R;const B=dh(l[p[T]],y[w[T]]);if(0!==B)return B}return qt(p.length,w.length)}(n.mapValue,e.mapValue);default:throw je()}}function B1(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return qt(n,e);const t=ah(n),r=ah(e),i=qt(t.seconds,r.seconds);return 0!==i?i:qt(t.nanos,r.nanos)}function Kg(n){return zA(n)}function zA(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=ah(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?wu(n.bytesValue).toBase64():"referenceValue"in n?tt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",a=!0;for(const l of r.values||[])a?a=!1:i+=",",i+=zA(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",l=!0;for(const p of i)l?l=!1:a+=",",a+=`${p}:${zA(r.fields[p])}`;return a+"}"}(n.mapValue):je();var e}function wp(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function GA(n){return!!n&&"integerValue"in n}function sb(n){return!!n&&"arrayValue"in n}function U1(n){return!!n&&"nullValue"in n}function j1(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function EI(n){return!!n&&"mapValue"in n}function ob(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return oh(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=ob(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ob(n.arrayValue.values[t]);return e}return Object.assign({},n)}function $1(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function EV(n){return"nullValue"in n?vI:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?wp(ch.empty(),tt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:je()}function wV(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?wp(ch.empty(),tt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?lh:je()}function H1(n,e){const t=dh(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function z1(n,e){const t=dh(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class ki{constructor(e){this.value=e}static empty(){return new ki({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!EI(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ob(t)}setAll(e){let t=Dr.emptyPath(),r={},i=[];e.forEach((l,p)=>{if(!t.isImmediateParentOf(p)){const y=this.getFieldsMap(t);this.applyChanges(y,r,i),r={},i=[],t=p.popLast()}l?r[p.lastSegment()]=ob(l):i.push(p.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());EI(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ul(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];EI(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){oh(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new ki(ob(this.value))}}function G1(n){const e=[];return oh(n.fields,(t,r)=>{const i=new Dr([t]);if(EI(r)){const a=G1(r.mapValue).fields;if(0===a.length)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)}),new Us(e)}class Xn{constructor(e,t,r,i,a,l,p){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=p}static newInvalidDocument(e){return new Xn(e,0,Tt.min(),Tt.min(),Tt.min(),ki.empty(),0)}static newFoundDocument(e,t,r,i){return new Xn(e,1,t,Tt.min(),r,i,0)}static newNoDocument(e,t){return new Xn(e,2,t,Tt.min(),Tt.min(),ki.empty(),0)}static newUnknownDocument(e,t){return new Xn(e,3,t,Tt.min(),Tt.min(),ki.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Tt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ki.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ki.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Xn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class hh{constructor(e,t){this.position=e,this.inclusive=t}}function q1(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],l=n.position[i];if(r=a.field.isKeyField()?tt.comparator(tt.fromName(l.referenceValue),t.key):dh(l,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function W1(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ul(n.position[t],e.position[t]))return!1;return!0}class Yg{constructor(e,t="asc"){this.field=e,this.dir=t}}function IV(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Z1{}class ln extends Z1{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new DV(e,t,r):"array-contains"===t?new AV(e,r):"in"===t?new eO(e,r):"not-in"===t?new SV(e,r):"array-contains-any"===t?new MV(e,r):new ln(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new CV(e,r):new TV(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(dh(t,this.value)):null!==t&&uh(this.value)===uh(t)&&this.matchesComparison(dh(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return je()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Pn extends Z1{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Pn(e,t)}matches(e){return Qg(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Qg(n){return"and"===n.op}function qA(n){return"or"===n.op}function WA(n){return K1(n)&&Qg(n)}function K1(n){for(const e of n.filters)if(e instanceof Pn)return!1;return!0}function ZA(n){if(n instanceof ln)return n.field.canonicalString()+n.op.toString()+Kg(n.value);if(WA(n))return n.filters.map(e=>ZA(e)).join(",");{const e=n.filters.map(t=>ZA(t)).join(",");return`${n.op}(${e})`}}function Y1(n,e){return n instanceof ln?(t=n,(r=e)instanceof ln&&t.op===r.op&&t.field.isEqual(r.field)&&ul(t.value,r.value)):n instanceof Pn?function(t,r){return r instanceof Pn&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,a,l)=>i&&Y1(a,r.filters[l]),!0)}(n,e):void je();var t,r}function Q1(n,e){const t=n.filters.concat(e);return Pn.create(t,n.op)}function J1(n){return n instanceof ln?`${(e=n).field.canonicalString()} ${e.op} ${Kg(e.value)}`:n instanceof Pn?function(e){return e.op.toString()+" {"+e.getFilters().map(J1).join(" ,")+"}"}(n):"Filter";var e}class DV extends ln{constructor(e,t,r){super(e,t,r),this.key=tt.fromName(r.referenceValue)}matches(e){const t=tt.comparator(e.key,this.key);return this.matchesComparison(t)}}class CV extends ln{constructor(e,t){super(e,"in",t),this.keys=X1(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class TV extends ln{constructor(e,t){super(e,"not-in",t),this.keys=X1(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function X1(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>tt.fromName(r.referenceValue))}class AV extends ln{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return sb(t)&&ib(t.arrayValue,this.value)}}class eO extends ln{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ib(this.value.arrayValue,t)}}class SV extends ln{constructor(e,t){super(e,"not-in",t)}matches(e){if(ib(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!ib(this.value.arrayValue,t)}}class MV extends ln{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!sb(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>ib(this.value.arrayValue,r))}}class xV{constructor(e,t=null,r=[],i=[],a=null,l=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=p,this.dt=null}}function KA(n,e=null,t=[],r=[],i=null,a=null,l=null){return new xV(n,e,t,r,i,a,l)}function Ip(n){const e=rt(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>ZA(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),tb(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Kg(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Kg(r)).join(",")),e.dt=t}return e.dt}function ab(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!IV(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Y1(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!W1(n.startAt,e.startAt)&&W1(n.endAt,e.endAt)}function wI(n){return tt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function II(n,e){return n.filters.filter(t=>t instanceof ln&&t.field.isEqual(e))}function tO(n,e,t){let r=vI,i=!0;for(const a of II(n,e)){let l=vI,p=!0;switch(a.op){case"<":case"<=":l=EV(a.value);break;case"==":case"in":case">=":l=a.value;break;case">":l=a.value,p=!1;break;case"!=":case"not-in":l=vI}H1({value:r,inclusive:i},{value:l,inclusive:p})<0&&(r=l,i=p)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const l=t.position[a];H1({value:r,inclusive:i},{value:l,inclusive:t.inclusive})<0&&(r=l,i=t.inclusive);break}return{value:r,inclusive:i}}function nO(n,e,t){let r=lh,i=!0;for(const a of II(n,e)){let l=lh,p=!0;switch(a.op){case">=":case">":l=wV(a.value),p=!1;break;case"==":case"in":case"<=":l=a.value;break;case"<":l=a.value,p=!1;break;case"!=":case"not-in":l=lh}z1({value:r,inclusive:i},{value:l,inclusive:p})>0&&(r=l,i=p)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const l=t.position[a];z1({value:r,inclusive:i},{value:l,inclusive:t.inclusive})>0&&(r=l,i=t.inclusive);break}return{value:r,inclusive:i}}class Iu{constructor(e,t=null,r=[],i=[],a=null,l="F",p=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=p,this.endAt=y,this.wt=null,this._t=null}}function rO(n,e,t,r,i,a,l,p){return new Iu(n,e,t,r,i,a,l,p)}function Jg(n){return new Iu(n)}function iO(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function YA(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function DI(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function QA(n){return null!==n.collectionGroup}function Dp(n){const e=rt(n);if(null===e.wt){e.wt=[];const t=DI(e),r=YA(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new Yg(t)),e.wt.push(new Yg(Dr.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e.wt.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Yg(Dr.keyField(),a))}}}return e.wt}function vs(n){const e=rt(n);if(!e._t)if("F"===e.limitType)e._t=KA(e.path,e.collectionGroup,Dp(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of Dp(e))t.push(new Yg(a.field,"desc"===a.dir?"asc":"desc"));const r=e.endAt?new hh(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new hh(e.startAt.position,e.startAt.inclusive):null;e._t=KA(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function JA(n,e){e.getFirstInequalityField(),DI(n);const t=n.filters.concat([e]);return new Iu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function CI(n,e,t){return new Iu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function cb(n,e){return ab(vs(n),vs(e))&&n.limitType===e.limitType}function sO(n){return`${Ip(vs(n))}|lt:${n.limitType}`}function XA(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>J1(r)).join(", ")}]`),tb(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Kg(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Kg(r)).join(",")),`Target(${t})`}(vs(n))}; limitType=${n.limitType})`}function lb(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):tt.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of Dp(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,a,l){const p=q1(i,a,l);return i.inclusive?p<=0:p<0}(t.startAt,Dp(t),r)||t.endAt&&!function(i,a,l){const p=q1(i,a,l);return i.inclusive?p>=0:p>0}(t.endAt,Dp(t),r)));var t,r}function oO(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function aO(n){return(e,t)=>{let r=!1;for(const i of Dp(n)){const a=RV(i,e,t);if(0!==a)return a;r=r||i.field.isKeyField()}return 0}}function RV(n,e,t){const r=n.field.isKeyField()?tt.comparator(e.key,t.key):function(i,a,l){const p=a.data.field(i),y=l.data.field(i);return null!==p&&null!==y?dh(p,y):je()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return je()}}class Du{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,a]of r)if(this.equalsFn(i,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){oh(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return F1(this.inner)}size(){return this.innerSize}}const PV=new zn(tt.comparator);function js(){return PV}const cO=new zn(tt.comparator);function ub(...n){let e=cO;for(const t of n)e=e.insert(t.key,t);return e}function lO(n){let e=cO;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function dl(){return db()}function uO(){return db()}function db(){return new Du(n=>n.toString(),(n,e)=>n.isEqual(e))}const OV=new zn(tt.comparator),kV=new Jn(tt.comparator);function Qt(...n){let e=kV;for(const t of n)e=e.add(t);return e}const NV=new Jn(qt);function eS(){return NV}function dO(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nb(e)?"-0":e}}function hO(n){return{integerValue:""+n}}function fO(n,e){return S1(e)?hO(e):dO(n,e)}class TI{constructor(){this._=void 0}}function FV(n,e,t){return n instanceof Xg?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&_I(i)&&(i=yI(i)),i&&(a.fields.__previous_value__=i),{mapValue:a}}(t,e):n instanceof Cp?mO(n,e):n instanceof Tp?gO(n,e):function(r,i){const a=pO(r,i),l=_O(a)+_O(r.gt);return GA(a)&&GA(r.gt)?hO(l):dO(r.serializer,l)}(n,e)}function LV(n,e,t){return n instanceof Cp?mO(n,e):n instanceof Tp?gO(n,e):t}function pO(n,e){return n instanceof e_?GA(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Xg extends TI{}class Cp extends TI{constructor(e){super(),this.elements=e}}function mO(n,e){const t=yO(e);for(const r of n.elements)t.some(i=>ul(i,r))||t.push(r);return{arrayValue:{values:t}}}class Tp extends TI{constructor(e){super(),this.elements=e}}function gO(n,e){let t=yO(e);for(const r of n.elements)t=t.filter(i=>!ul(i,r));return{arrayValue:{values:t}}}class e_ extends TI{constructor(e,t){super(),this.serializer=e,this.gt=t}}function _O(n){return Cr(n.integerValue||n.doubleValue)}function yO(n){return sb(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class hb{constructor(e,t){this.field=e,this.transform=t}}class BV{constructor(e,t){this.version=e,this.transformResults=t}}class lr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new lr}static exists(e){return new lr(void 0,e)}static updateTime(e){return new lr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function AI(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class SI{}function vO(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new n_(n.key,lr.none()):new t_(n.key,n.data,lr.none());{const t=n.data,r=ki.empty();let i=new Jn(Dr.comparator);for(let a of e.fields)if(!i.has(a)){let l=t.field(a);null===l&&a.length>1&&(a=a.popLast(),l=t.field(a)),null===l?r.delete(a):r.set(a,l),i=i.add(a)}return new Cu(n.key,r,new Us(i.toArray()),lr.none())}}function UV(n,e,t){n instanceof t_?function(r,i,a){const l=r.value.clone(),p=wO(r.fieldTransforms,i,a.transformResults);l.setAll(p),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(n,e,t):n instanceof Cu?function(r,i,a){if(!AI(r.precondition,i))return void i.convertToUnknownDocument(a.version);const l=wO(r.fieldTransforms,i,a.transformResults),p=i.data;p.setAll(EO(r)),p.setAll(l),i.convertToFoundDocument(a.version,p).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function fb(n,e,t,r){return n instanceof t_?function(i,a,l,p){if(!AI(i.precondition,a))return l;const y=i.value.clone(),w=IO(i.fieldTransforms,p,a);return y.setAll(w),a.convertToFoundDocument(a.version,y).setHasLocalMutations(),null}(n,e,t,r):n instanceof Cu?function(i,a,l,p){if(!AI(i.precondition,a))return l;const y=IO(i.fieldTransforms,p,a),w=a.data;return w.setAll(EO(i)),w.setAll(y),a.convertToFoundDocument(a.version,w).setHasLocalMutations(),null===l?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(T=>T.field))}(n,e,t,r):(l=t,AI(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l);var a,l}function jV(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=pO(r.transform,i||null);null!=a&&(null===t&&(t=ki.empty()),t.set(r.field,a))}return t||null}function bO(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Wg(t,r,(i,a)=>function VV(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Cp&&r instanceof Cp||t instanceof Tp&&r instanceof Tp?Wg(t.elements,r.elements,ul):t instanceof e_&&r instanceof e_?ul(t.gt,r.gt):t instanceof Xg&&r instanceof Xg);var t,r}(i,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class t_ extends SI{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Cu extends SI{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function EO(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function wO(n,e,t){const r=new Map;Xe(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],l=a.transform,p=e.data.field(a.field);r.set(a.field,LV(l,p,t[i]))}return r}function IO(n,e,t){const r=new Map;for(const i of n){const a=i.transform,l=t.data.field(i.field);r.set(i.field,FV(a,l,e))}return r}class n_ extends SI{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tS extends SI{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class nS{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&UV(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=fb(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=fb(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=uO();return this.mutations.forEach(i=>{const a=e.get(i.key),l=a.overlayedDocument;let p=this.applyToLocalView(l,a.mutatedFields);p=t.has(i.key)?null:p;const y=vO(l,p);null!==y&&r.set(i.key,y),l.isValidDocument()||l.convertToNoDocument(Tt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Qt())}isEqual(e){return this.batchId===e.batchId&&Wg(this.mutations,e.mutations,(t,r)=>bO(t,r))&&Wg(this.baseMutations,e.baseMutations,(t,r)=>bO(t,r))}}class rS{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Xe(e.mutations.length===r.length);let i=OV;const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new rS(e,t,r,i)}}class iS{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class HV{constructor(e,t){this.count=e,this.unchangedNames=t}}var qr,_n;function DO(n){switch(n){default:return je();case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0}}function CO(n){if(void 0===n)return ut("GRPC error has no .code"),de.UNKNOWN;switch(n){case qr.OK:return de.OK;case qr.CANCELLED:return de.CANCELLED;case qr.UNKNOWN:return de.UNKNOWN;case qr.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case qr.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case qr.INTERNAL:return de.INTERNAL;case qr.UNAVAILABLE:return de.UNAVAILABLE;case qr.UNAUTHENTICATED:return de.UNAUTHENTICATED;case qr.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case qr.NOT_FOUND:return de.NOT_FOUND;case qr.ALREADY_EXISTS:return de.ALREADY_EXISTS;case qr.PERMISSION_DENIED:return de.PERMISSION_DENIED;case qr.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case qr.ABORTED:return de.ABORTED;case qr.OUT_OF_RANGE:return de.OUT_OF_RANGE;case qr.UNIMPLEMENTED:return de.UNIMPLEMENTED;case qr.DATA_LOSS:return de.DATA_LOSS;default:return je()}}(_n=qr||(qr={}))[_n.OK=0]="OK",_n[_n.CANCELLED=1]="CANCELLED",_n[_n.UNKNOWN=2]="UNKNOWN",_n[_n.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_n[_n.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_n[_n.NOT_FOUND=5]="NOT_FOUND",_n[_n.ALREADY_EXISTS=6]="ALREADY_EXISTS",_n[_n.PERMISSION_DENIED=7]="PERMISSION_DENIED",_n[_n.UNAUTHENTICATED=16]="UNAUTHENTICATED",_n[_n.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_n[_n.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_n[_n.ABORTED=10]="ABORTED",_n[_n.OUT_OF_RANGE=11]="OUT_OF_RANGE",_n[_n.UNIMPLEMENTED=12]="UNIMPLEMENTED",_n[_n.INTERNAL=13]="INTERNAL",_n[_n.UNAVAILABLE=14]="UNAVAILABLE",_n[_n.DATA_LOSS=15]="DATA_LOSS";class sS{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return MI}static getOrCreateInstance(){return null===MI&&(MI=new sS),MI}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let MI=null;function TO(){return new TextEncoder}const zV=new O([4294967295,4294967295],0);function AO(n){const e=TO().encode(n),t=new M;return t.update(e),new Uint8Array(t.digest())}function SO(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new O([t,r],0),new O([i,a],0)]}class oS{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new pb(`Invalid padding: ${t}`);if(r<0)throw new pb(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new pb(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new pb(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=O.fromNumber(this.It)}Et(e,t,r){let i=e.add(t.multiply(O.fromNumber(r)));return 1===i.compare(zV)&&(i=new O([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=AO(e),[r,i]=SO(t);for(let a=0;a<this.hashCount;a++){const l=this.Et(r,i,a);if(!this.At(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new oS(a,i,t);return r.forEach(p=>l.insert(p)),l}insert(e){if(0===this.It)return;const t=AO(e),[r,i]=SO(t);for(let a=0;a<this.hashCount;a++){const l=this.Et(r,i,a);this.Rt(l)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class pb extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class mb{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,gb.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new mb(Tt.min(),i,new zn(qt),js(),Qt())}}class gb{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new gb(r,t,Qt(),Qt(),Qt())}}class xI{constructor(e,t,r,i){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=i}}class MO{constructor(e,t){this.targetId=e,this.Vt=t}}class xO{constructor(e,t,r=ai.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class RO{constructor(){this.St=0,this.Dt=OO(),this.Ct=ai.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Qt(),t=Qt(),r=Qt();return this.Dt.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:je()}}),new gb(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=OO()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class GV{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=js(),this.zt=PO(),this.Wt=new zn(qt)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:je()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,i)=>{this.te(i)&&t(i)})}ne(e){var t;const r=e.targetId,i=e.Vt.count,a=this.se(r);if(a){const l=a.target;if(wI(l))if(0===i){const p=new tt(l.path);this.Yt(r,p,Xn.newNoDocument(p,Tt.min()))}else Xe(1===i);else{const p=this.ie(r);if(p!==i){const y=this.re(e,p);0!==y&&(this.ee(r),this.Wt=this.Wt.insert(r,2===y?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=sS.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(w,T,R){var B,q,Q,ce,_e,Ze;const it={localCacheCount:T,existenceFilterCount:R.count},at=R.unchangedNames;return at&&(it.bloomFilter={applied:0===w,hashCount:null!==(B=at?.hashCount)&&void 0!==B?B:0,bitmapLength:null!==(ce=null===(Q=null===(q=at?.bits)||void 0===q?void 0:q.bitmap)||void 0===Q?void 0:Q.length)&&void 0!==ce?ce:0,padding:null!==(Ze=null===(_e=at?.bits)||void 0===_e?void 0:_e.padding)&&void 0!==Ze?Ze:0}),it}(y,p,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:a="",padding:l=0},hashCount:p=0}=r;let y,w;try{y=wu(a).toUint8Array()}catch(T){if(T instanceof V1)return Ae("Decoding the base64 bloom filter in existence filter failed ("+T.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw T}try{w=new oS(y,l,p)}catch(T){return Ae(T instanceof pb?"BloomFilter error: ":"Applying bloom filter failed: ",T),1}return 0===w.It?1:i!==t-this.oe(e.targetId,w)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(a=>{const l=this.Gt.ue(),p=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;t.vt(p)||(this.Yt(e,a,null),i++)}),i}ce(e){const t=new Map;this.Qt.forEach((a,l)=>{const p=this.se(l);if(p){if(a.current&&wI(p.target)){const y=new tt(p.target.path);null!==this.jt.get(y)||this.ae(l,y)||this.Yt(l,y,Xn.newNoDocument(y,e))}a.Mt&&(t.set(l,a.Ot()),a.Ft())}});let r=Qt();this.zt.forEach((a,l)=>{let p=!0;l.forEachWhile(y=>{const w=this.se(y);return!w||"TargetPurposeLimboResolution"===w.purpose||(p=!1,!1)}),p&&(r=r.add(a))}),this.jt.forEach((a,l)=>l.setReadTime(e));const i=new mb(e,t,this.Wt,this.jt,r);return this.jt=js(),this.zt=PO(),this.Wt=new zn(qt),i}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,t)?i.Bt(t,1):i.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new RO,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Jn(qt),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||ne("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new RO),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function PO(){return new zn(tt.comparator)}function OO(){return new zn(tt.comparator)}const qV={asc:"ASCENDING",desc:"DESCENDING"},WV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ZV={and:"AND",or:"OR"};class KV{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function aS(n,e){return n.useProto3Json||tb(e)?e:{value:e}}function r_(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kO(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function YV(n,e){return r_(n,e.toTimestamp())}function kr(n){return Xe(!!n),Tt.fromTimestamp(function(e){const t=ah(e);return new cr(t.seconds,t.nanos)}(n))}function cS(n,e){return(t=n,new gn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function NO(n){const e=gn.fromString(n);return Xe(zO(e)),e}function _b(n,e){return cS(n.databaseId,e.path)}function hl(n,e){const t=NO(e);if(t.get(1)!==n.databaseId.projectId)throw new xe(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new xe(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new tt(LO(t))}function lS(n,e){return cS(n.databaseId,e)}function FO(n){const e=NO(n);return 4===e.length?gn.emptyPath():LO(e)}function yb(n){return new gn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function LO(n){return Xe(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function VO(n,e,t){return{name:_b(n,e),fields:t.value.mapValue.fields}}function BO(n,e,t){const r=hl(n,e.name),i=kr(e.updateTime),a=e.createTime?kr(e.createTime):Tt.min(),l=new ki({mapValue:{fields:e.fields}}),p=Xn.newFoundDocument(r,i,a,l);return t&&p.setHasCommittedMutations(),t?p.setHasCommittedMutations():p}function vb(n,e){let t;if(e instanceof t_)t={update:VO(n,e.key,e.value)};else if(e instanceof n_)t={delete:_b(n,e.key)};else if(e instanceof Cu)t={update:VO(n,e.key,e.data),updateMask:iB(e.fieldMask)};else{if(!(e instanceof tS))return je();t={verify:_b(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const l=a.transform;if(l instanceof Xg)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Cp)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Tp)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof e_)return{fieldPath:a.field.canonicalString(),increment:l.gt};throw je()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:YV(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:je()),t;var i}function uS(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?lr.updateTime(kr(i.updateTime)):void 0!==i.exists?lr.exists(i.exists):lr.none():lr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(a,l){let p=null;"setToServerValue"in l?(Xe("REQUEST_TIME"===l.setToServerValue),p=new Xg):"appendMissingElements"in l?p=new Cp(l.appendMissingElements.values||[]):"removeAllFromArray"in l?p=new Tp(l.removeAllFromArray.values||[]):"increment"in l?p=new e_(a,l.increment):je();const y=Dr.fromServerFormat(l.fieldPath);return new hb(y,p)}(n,i)):[];var i;if(e.update){const i=hl(n,e.update.name),a=new ki({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=new Us((e.updateMask.fieldPaths||[]).map(w=>Dr.fromServerFormat(w)));return new Cu(i,a,l,t,r)}return new t_(i,a,t,r)}if(e.delete){const i=hl(n,e.delete);return new n_(i,t)}if(e.verify){const i=hl(n,e.verify);return new tS(i,t)}return je()}function UO(n,e){return{documents:[lS(n,e.path)]}}function dS(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=lS(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=lS(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(y){if(0!==y.length)return HO(Pn.create(y,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const a=function(y){if(0!==y.length)return y.map(w=>{return{field:fh((T=w).field),direction:tB(T.dir)};var T})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const l=aS(n,e.limit);var p,y;return null!==l&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt={before:(p=e.startAt).inclusive,values:p.position}),e.endAt&&(t.structuredQuery.endAt={before:!(y=e.endAt).inclusive,values:y.position}),t}function jO(n){let e=FO(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Xe(1===r);const T=t.from[0];T.allDescendants?i=T.collectionId:e=e.child(T.collectionId)}let a=[];t.where&&(a=function(T){const R=$O(T);return R instanceof Pn&&WA(R)?R.getFilters():[R]}(t.where));let l=[];t.orderBy&&(l=t.orderBy.map(T=>{return new Yg(i_((R=T).field),function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction));var R}));let p=null;t.limit&&(p=function(T){let R;return R="object"==typeof T?T.value:T,tb(R)?null:R}(t.limit));let y=null;var T;t.startAt&&(y=new hh((T=t.startAt).values||[],!!T.before));let w=null;return t.endAt&&(w=function(T){return new hh(T.values||[],!T.before)}(t.endAt)),rO(e,i,l,a,p,"F",y,w)}function $O(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=i_(e.unaryFilter.field);return ln.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=i_(e.unaryFilter.field);return ln.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=i_(e.unaryFilter.field);return ln.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=i_(e.unaryFilter.field);return ln.create(a,"!=",{nullValue:"NULL_VALUE"});default:return je()}}(n):void 0!==n.fieldFilter?ln.create(i_((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return je()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Pn.create(e.compositeFilter.filters.map(t=>$O(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return je()}}(e.compositeFilter.op))}(n):je();var e}function tB(n){return qV[n]}function nB(n){return WV[n]}function rB(n){return ZV[n]}function fh(n){return{fieldPath:n.canonicalString()}}function i_(n){return Dr.fromServerFormat(n.fieldPath)}function HO(n){return n instanceof ln?function(e){if("=="===e.op){if(j1(e.value))return{unaryFilter:{field:fh(e.field),op:"IS_NAN"}};if(U1(e.value))return{unaryFilter:{field:fh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(j1(e.value))return{unaryFilter:{field:fh(e.field),op:"IS_NOT_NAN"}};if(U1(e.value))return{unaryFilter:{field:fh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fh(e.field),op:nB(e.op),value:e.value}}}(n):n instanceof Pn?function(e){const t=e.getFilters().map(r=>HO(r));return 1===t.length?t[0]:{compositeFilter:{op:rB(e.op),filters:t}}}(n):je()}function iB(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function zO(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Tu{constructor(e,t,r,i,a=Tt.min(),l=Tt.min(),p=ai.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(e){return new Tu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Tu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Tu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Tu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class GO{constructor(e){this.fe=e}}function qO(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:RI(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:_b(i=n.fe,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:r_(i,a.version.toTimestamp()),createTime:r_(i,a.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Ap(e.version)};else{if(!e.isUnknownDocument())return je();r.unknownDocument={path:t.path.toArray(),version:Ap(e.version)}}var i,a;return r}function RI(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Ap(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Sp(n){const e=new cr(n.seconds,n.nanoseconds);return Tt.fromTimestamp(e)}function Mp(n,e){const t=(e.baseMutations||[]).map(a=>uS(n.fe,a));for(let a=0;a<e.mutations.length-1;++a)a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(e.mutations[a].updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a);const r=e.mutations.map(a=>uS(n.fe,a)),i=cr.fromMillis(e.localWriteTimeMs);return new nS(e.batchId,i,t,r)}function bb(n){const e=Sp(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Sp(n.lastLimboFreeSnapshotVersion):Tt.min();let r;var i;return void 0!==n.query.documents?(Xe(1===(i=n.query).documents.length),r=vs(Jg(FO(i.documents[0])))):r=vs(jO(n.query)),new Tu(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,ai.fromBase64String(n.resumeToken))}function WO(n,e){const t=Ap(e.snapshotVersion),r=Ap(e.lastLimboFreeSnapshotVersion);let i;i=wI(e.target)?UO(n.fe,e.target):dS(n.fe,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ip(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function hS(n){const e=jO({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?CI(e,e.limit,"L"):e}function fS(n,e){return new iS(e.largestBatchId,uS(n.fe,e.overlayMutation))}function ZO(n,e){const t=e.path.lastSegment();return[n,Ji(e.path.popLast()),t]}function KO(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Ap(r.readTime),documentKey:Ji(r.documentKey.path),largestBatchId:r.largestBatchId}}class oB{getBundleMetadata(e,t){return YO(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Sp(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return YO(e).put({bundleId:(r=t).id,createTime:Ap(kr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return QO(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:hS(i.bundledQuery),readTime:Sp(i.readTime)};var i})}saveNamedQuery(e,t){return QO(e).put({name:(r=t).name,readTime:Ap(kr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function YO(n){return bi(n,"bundles")}function QO(n){return bi(n,"namedQueries")}class PI{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new PI(e,t.uid||"")}getOverlay(e,t){return Eb(e).get(ZO(this.userId,t)).next(r=>r?fS(this.serializer,r):null)}getOverlays(e,t){const r=dl();return se.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((a,l)=>{const p=new iS(t,l);i.push(this.we(e,p))}),se.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(l=>i.add(Ji(l.getCollectionPath())));const a=[];return i.forEach(l=>{const p=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);a.push(Eb(e).J("collectionPathOverlayIndex",p))}),se.waitFor(a)}getOverlaysForCollection(e,t,r){const i=dl(),a=Ji(t),l=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Eb(e).j("collectionPathOverlayIndex",l).next(p=>{for(const y of p){const w=fS(this.serializer,y);i.set(w.getKey(),w)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const a=dl();let l;const p=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Eb(e).X({index:"collectionGroupOverlayIndex",range:p},(y,w,T)=>{const R=fS(this.serializer,w);a.size()<i||R.largestBatchId===l?(a.set(R.getKey(),R),l=R.largestBatchId):T.done()}).next(()=>a)}we(e,t){return Eb(e).put(function(r,i,a){const[l,p,y]=ZO(i,a.mutation.key);return{userId:i,collectionPath:p,documentId:y,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:vb(r.fe,a.mutation)}}(this.serializer,this.userId,t))}}function Eb(n){return bi(n,"documentOverlays")}class xp{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Cr(e.integerValue));else if("doubleValue"in e){const r=Cr(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),nb(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(wu(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?$1(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):je()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const i of Object.keys(r))this.Te(i,t),this.me(r[i],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const i of r)this.me(i,t)}ve(e,t){this.ye(t,37),tt.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function aB(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function JO(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const a=aB(255&t[i]);if(r+=a,8!==a)break}return r}(n);return Math.ceil(e/8)}xp.Ve=new xp;class cB{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.De(r.value),r=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ne(r.value),r=t.next();this.ke()}Me(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.De(r);else if(r<2048)this.De(960|r>>>6),this.De(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.De(480|r>>>12),this.De(128|63&r>>>6),this.De(128|63&r);else{const i=t.codePointAt(0);this.De(240|i>>>18),this.De(128|63&i>>>12),this.De(128|63&i>>>6),this.De(128|63&i)}}this.Ce()}$e(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ne(r);else if(r<2048)this.Ne(960|r>>>6),this.Ne(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r);else{const i=t.codePointAt(0);this.Ne(240|i>>>18),this.Ne(128|63&i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i)}}this.ke()}Oe(e){const t=this.Fe(e),r=JO(t);this.Be(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Le(e){const t=this.Fe(e),r=JO(t);this.Be(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(i){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,i,!1),new Uint8Array(a.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class lB{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class uB{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class wb{constructor(){this.je=new cB,this.ze=new lB(this.je),this.We=new uB(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Rp{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Rp(this.indexId,this.documentKey,this.arrayValue,r)}}function ph(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=XO(n.arrayValue,e.arrayValue),0!==t?t:(t=XO(n.directionalValue,e.directionalValue),0!==t?t:tt.comparator(n.documentKey,e.documentKey)))}function XO(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class dB{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const r=t;r.isInequality()?this.Ze=r:this.Xe.push(r)}}tn(e){Xe(e.collectionGroup===this.collectionId);const t=BA(e);if(void 0!==t&&!this.en(t))return!1;const r=bp(e);let i=new Set,a=0,l=0;for(;a<r.length&&this.en(r[a]);++a)i=i.add(r[a].fieldPath.canonicalString());if(a===r.length)return!0;if(void 0!==this.Ze){if(!i.has(this.Ze.field.canonicalString())){const p=r[a];if(!this.nn(this.Ze,p)||!this.sn(this.Ye[l++],p))return!1}++a}for(;a<r.length;++a)if(l>=this.Ye.length||!this.sn(this.Ye[l++],r[a]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function ek(n){var e,t;if(Xe(n instanceof ln||n instanceof Pn),n instanceof ln){if(n instanceof eO){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(a=>ln.create(n.field,"==",a)))||[];return Pn.create(i,"or")}return n}const r=n.filters.map(i=>ek(i));return Pn.create(r,n.op)}function hB(n){if(0===n.getFilters().length)return[];const e=gS(ek(n));return Xe(tk(e)),pS(e)||mS(e)?[e]:e.getFilters()}function pS(n){return n instanceof ln}function mS(n){return n instanceof Pn&&WA(n)}function tk(n){return pS(n)||mS(n)||function(e){if(e instanceof Pn&&qA(e)){for(const t of e.getFilters())if(!pS(t)&&!mS(t))return!1;return!0}return!1}(n)}function gS(n){if(Xe(n instanceof ln||n instanceof Pn),n instanceof ln)return n;if(1===n.filters.length)return gS(n.filters[0]);const e=n.filters.map(r=>gS(r));let t=Pn.create(e,n.op);return t=OI(t),tk(t)?t:(Xe(t instanceof Pn),Xe(Qg(t)),Xe(t.filters.length>1),t.filters.reduce((r,i)=>_S(r,i)))}function _S(n,e){let t;return Xe(n instanceof ln||n instanceof Pn),Xe(e instanceof ln||e instanceof Pn),t=n instanceof ln?e instanceof ln?Pn.create([n,e],"and"):nk(n,e):e instanceof ln?nk(e,n):function(r,i){if(Xe(r.filters.length>0&&i.filters.length>0),Qg(r)&&Qg(i))return Q1(r,i.getFilters());const a=qA(r)?r:i,l=qA(r)?i:r,p=a.filters.map(y=>_S(y,l));return Pn.create(p,"or")}(n,e),OI(t)}function nk(n,e){if(Qg(e))return Q1(e,n.getFilters());{const t=e.filters.map(r=>_S(n,r));return Pn.create(t,"or")}}function OI(n){if(Xe(n instanceof ln||n instanceof Pn),n instanceof ln)return n;const e=n.getFilters();if(1===e.length)return OI(e[0]);if(K1(n))return n;const t=e.map(i=>OI(i)),r=[];return t.forEach(i=>{i instanceof ln?r.push(i):i instanceof Pn&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:Pn.create(r,n.op)}class fB{constructor(){this.rn=new yS}addToCollectionParentIndex(e,t){return this.rn.add(t),se.resolve()}getCollectionParents(e,t){return se.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return se.resolve()}deleteFieldIndex(e,t){return se.resolve()}getDocumentsMatchingTarget(e,t){return se.resolve(null)}getIndexType(e,t){return se.resolve(0)}getFieldIndexes(e,t){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,t){return se.resolve(To.min())}getMinOffsetFromCollectionGroup(e,t){return se.resolve(To.min())}updateCollectionGroup(e,t,r){return se.resolve()}updateIndexEntries(e,t){return se.resolve()}}class yS{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Jn(gn.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Jn(gn.comparator)).toArray()}}const kI=new Uint8Array(0);class pB{constructor(e,t){this.user=e,this.databaseId=t,this.on=new yS,this.un=new Du(r=>Ip(r),(r,i)=>ab(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const a={collectionId:r,parent:Ji(i)};return rk(e).put(a)}return se.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[w1(t),""],!1,!0);return rk(e).j(i).next(a=>{for(const l of a){if(l.collectionId!==t)break;r.push(ll(l.parent))}return r})}addFieldIndex(e,t){const r=NI(e),i={indexId:(l=t).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(p=>[p.fieldPath.canonicalString(),p.kind])};var l;delete i.indexId;const a=r.add(i);if(t.indexState){const l=Db(e);return a.next(p=>{l.put(KO(p,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(e,t){const r=NI(e),i=Db(e),a=Ib(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Ib(e);let i=!0;const a=new Map;return se.forEach(this.cn(t),l=>this.an(e,l).next(p=>{i&&(i=!!p),a.set(l,p)})).next(()=>{if(i){let l=Qt();const p=[];return se.forEach(a,(y,w)=>{var T;ne("IndexedDbIndexManager",`Using index ${T=y,`id=${T.indexId}|cg=${T.collectionGroup}|f=${T.fields.map(at=>`${at.fieldPath}:${at.kind}`).join(",")}`} to execute ${Ip(t)}`);const R=function(at,gt){const Vt=BA(gt);if(void 0===Vt)return null;for(const Wt of II(at,Vt.fieldPath))switch(Wt.op){case"array-contains-any":return Wt.value.arrayValue.values||[];case"array-contains":return[Wt.value]}return null}(w,y),B=function(at,gt){const Vt=new Map;for(const Wt of bp(gt))for(const wn of II(at,Wt.fieldPath))switch(wn.op){case"==":case"in":Vt.set(Wt.fieldPath.canonicalString(),wn.value);break;case"not-in":case"!=":return Vt.set(Wt.fieldPath.canonicalString(),wn.value),Array.from(Vt.values())}return null}(w,y),q=function(at,gt){const Vt=[];let Wt=!0;for(const wn of bp(gt)){const Li=0===wn.kind?tO(at,wn.fieldPath,at.startAt):nO(at,wn.fieldPath,at.startAt);Vt.push(Li.value),Wt&&(Wt=Li.inclusive)}return new hh(Vt,Wt)}(w,y),Q=function(at,gt){const Vt=[];let Wt=!0;for(const wn of bp(gt)){const Li=0===wn.kind?nO(at,wn.fieldPath,at.endAt):tO(at,wn.fieldPath,at.endAt);Vt.push(Li.value),Wt&&(Wt=Li.inclusive)}return new hh(Vt,Wt)}(w,y),ce=this.hn(y,w,q),_e=this.hn(y,w,Q),Ze=this.ln(y,w,B),it=this.fn(y.indexId,R,ce,q.inclusive,_e,Q.inclusive,Ze);return se.forEach(it,at=>r.H(at,t.limit).next(gt=>{gt.forEach(Vt=>{const Wt=tt.fromSegments(Vt.documentKey);l.has(Wt)||(l=l.add(Wt),p.push(Wt))})}))}).next(()=>p)}return se.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:hB(Pn.create(e.filters,"and")).map(r=>KA(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,r,i,a,l,p){const y=(null!=t?t.length:1)*Math.max(r.length,a.length),w=y/(null!=t?t.length:1),T=[];for(let R=0;R<y;++R){const B=t?this.dn(t[R/w]):kI,q=this.wn(e,B,r[R%w],i),Q=this._n(e,B,a[R%w],l),ce=p.map(_e=>this.wn(e,B,_e,!0));T.push(...this.createRange(q,Q,ce))}return T}wn(e,t,r,i){const a=new Rp(e,tt.empty(),t,r);return i?a:a.Je()}_n(e,t,r,i){const a=new Rp(e,tt.empty(),t,r);return i?a.Je():a}an(e,t){const r=new dB(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(a=>{let l=null;for(const p of a)r.tn(p)&&(!l||p.fields.length>l.fields.length)&&(l=p);return l})}getIndexType(e,t){let r=2;const i=this.cn(t);return se.forEach(i,a=>this.an(e,a).next(l=>{l?0!==r&&l.fields.length<function(p){let y=new Jn(Dr.comparator),w=!1;for(const T of p.filters)for(const R of T.getFlattenedFilters())R.field.isKeyField()||("array-contains"===R.op||"array-contains-any"===R.op?w=!0:y=y.add(R.field));for(const T of p.orderBy)T.field.isKeyField()||(y=y.add(T.field));return y.size+(w?1:0)}(a)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}mn(e,t){const r=new wb;for(const i of bp(e)){const a=t.data.field(i.fieldPath);if(null==a)return null;const l=r.He(i.kind);xp.Ve._e(a,l)}return r.Qe()}dn(e){const t=new wb;return xp.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const r=new wb;return xp.Ve._e(wp(this.databaseId,t),r.He(function(i){const a=bp(i);return 0===a.length?0:a[a.length-1].kind}(e))),r.Qe()}ln(e,t,r){if(null===r)return[];let i=[];i.push(new wb);let a=0;for(const l of bp(e)){const p=r[a++];for(const y of i)if(this.yn(t,l.fieldPath)&&sb(p))i=this.pn(i,l,p);else{const w=y.He(l.kind);xp.Ve._e(p,w)}}return this.In(i)}hn(e,t,r){return this.ln(e,t,r.position)}In(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Qe();return t}pn(e,t,r){const i=[...e],a=[];for(const l of r.arrayValue.values||[])for(const p of i){const y=new wb;y.seed(p.Qe()),xp.Ve._e(l,y.He(t.kind)),a.push(y)}return a}yn(e,t){return!!e.filters.find(r=>r instanceof ln&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=NI(e),i=Db(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next(a=>{const l=[];return se.forEach(a,p=>i.get([p.indexId,this.uid]).next(y=>{l.push(function(w,T){const R=T?new Xv(T.sequenceNumber,new To(Sp(T.readTime),new tt(ll(T.documentKey)),T.largestBatchId)):Xv.empty(),B=w.fields.map(([q,Q])=>new fI(Dr.fromServerFormat(q),Q));return new hI(w.indexId,w.collectionGroup,B,R)}(p,y))})).next(()=>l)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==a?a:qt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=NI(e),a=Db(e);return this.Tn(e).next(l=>i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(p=>se.forEach(p,y=>a.put(KO(y.indexId,this.user,l,r)))))}updateIndexEntries(e,t){const r=new Map;return se.forEach(t,(i,a)=>{const l=r.get(i.collectionGroup);return(l?se.resolve(l):this.getFieldIndexes(e,i.collectionGroup)).next(p=>(r.set(i.collectionGroup,p),se.forEach(p,y=>this.En(e,i,y).next(w=>{const T=this.An(a,y);return w.isEqual(T)?se.resolve():this.vn(e,a,y,w,T)}))))})}Rn(e,t,r,i){return Ib(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.gn(r,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,r,i){return Ib(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.gn(r,t.key),t.key.path.toArray()])}En(e,t,r){const i=Ib(e);let a=new Jn(ph);return i.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,t)])},(l,p)=>{a=a.add(new Rp(r.indexId,t,p.arrayValue,p.directionalValue))}).next(()=>a)}An(e,t){let r=new Jn(ph);const i=this.mn(t,e);if(null==i)return r;const a=BA(t);if(null!=a){const l=e.data.field(a.fieldPath);if(sb(l))for(const p of l.arrayValue.values||[])r=r.add(new Rp(t.indexId,e.key,this.dn(p),i))}else r=r.add(new Rp(t.indexId,e.key,kI,i));return r}vn(e,t,r,i,a){ne("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const l=[];return function(p,y,w,T,R){const B=p.getIterator(),q=y.getIterator();let Q=Zg(B),ce=Zg(q);for(;Q||ce;){let _e=!1,Ze=!1;if(Q&&ce){const it=w(Q,ce);it<0?Ze=!0:it>0&&(_e=!0)}else null!=Q?Ze=!0:_e=!0;_e?(T(ce),ce=Zg(q)):Ze?(R(Q),Q=Zg(B)):(Q=Zg(B),ce=Zg(q))}}(i,a,ph,p=>{l.push(this.Rn(e,t,r,p))},p=>{l.push(this.Pn(e,t,r,p))}),se.waitFor(l)}Tn(e){let t=1;return Db(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,a)=>{a.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((l,p)=>ph(l,p)).filter((l,p,y)=>!p||0!==ph(l,y[p-1]));const i=[];i.push(e);for(const l of r){const p=ph(l,e),y=ph(l,t);if(0===p)i[0]=e.Je();else if(p>0&&y<0)i.push(l),i.push(l.Je());else if(y>0)break}i.push(t);const a=[];for(let l=0;l<i.length;l+=2){if(this.bn(i[l],i[l+1]))return[];a.push(IDBKeyRange.bound([i[l].indexId,this.uid,i[l].arrayValue,i[l].directionalValue,kI,[]],[i[l+1].indexId,this.uid,i[l+1].arrayValue,i[l+1].directionalValue,kI,[]]))}return a}bn(e,t){return ph(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(ik)}getMinOffset(e,t){return se.mapArray(this.cn(t),r=>this.an(e,r).next(i=>i||je())).next(ik)}}function rk(n){return bi(n,"collectionParents")}function Ib(n){return bi(n,"indexEntries")}function NI(n){return bi(n,"indexConfiguration")}function Db(n){return bi(n,"indexState")}function ik(n){Xe(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;UA(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new To(e.readTime,e.documentKey,t)}const sk={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Xi{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Xi(e,Xi.DEFAULT_COLLECTION_PERCENTILE,Xi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function ok(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),a=[],l=IDBKeyRange.only(t.batchId);let p=0;const y=r.X({range:l},(T,R,B)=>(p++,B.delete()));a.push(y.next(()=>{Xe(1===p)}));const w=[];for(const T of t.mutations){const R=R1(e,T.key.path,t.batchId);a.push(i.delete(R)),w.push(T.key)}return se.waitFor(a).next(()=>w)}function FI(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw je();e=n.noDocument}return JSON.stringify(e).length}Xi.DEFAULT_COLLECTION_PERCENTILE=10,Xi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xi.DEFAULT=new Xi(41943040,Xi.DEFAULT_COLLECTION_PERCENTILE,Xi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xi.DISABLED=new Xi(-1,0,0);class LI{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Vn={}}static de(e,t,r,i){Xe(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new LI(a,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return mh(e).X({index:"userMutationsIndex",range:r},(i,a,l)=>{t=!1,l.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const a=s_(e),l=mh(e);return l.add({}).next(p=>{Xe("number"==typeof p);const y=new nS(p,t,r,i),w=function(B,q,Q){const ce=Q.baseMutations.map(Ze=>vb(B.fe,Ze)),_e=Q.mutations.map(Ze=>vb(B.fe,Ze));return{userId:q,batchId:Q.batchId,localWriteTimeMs:Q.localWriteTime.toMillis(),baseMutations:ce,mutations:_e}}(this.serializer,this.userId,y),T=[];let R=new Jn((B,q)=>qt(B.canonicalString(),q.canonicalString()));for(const B of i){const q=R1(this.userId,B.key.path,p);R=R.add(B.key.path.popLast()),T.push(l.put(w)),T.push(a.put(q,tV))}return R.forEach(B=>{T.push(this.indexManager.addToCollectionParentIndex(e,B))}),e.addOnCommittedListener(()=>{this.Vn[p]=y.keys()}),se.waitFor(T).next(()=>y)})}lookupMutationBatch(e,t){return mh(e).get(t).next(r=>r?(Xe(r.userId===this.userId),Mp(this.serializer,r)):null)}Sn(e,t){return this.Vn[t]?se.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Vn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return mh(e).X({index:"userMutationsIndex",range:i},(l,p,y)=>{p.userId===this.userId&&(Xe(p.batchId>=r),a=Mp(this.serializer,p)),y.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return mh(e).X({index:"userMutationsIndex",range:t,reverse:!0},(i,a,l)=>{r=a.batchId,l.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return mh(e).j("userMutationsIndex",t).next(r=>r.map(i=>Mp(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=mI(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return s_(e).X({range:i},(l,p,y)=>{const[w,T,R]=l,B=ll(T);if(w===this.userId&&t.path.isEqual(B))return mh(e).get(R).next(q=>{if(!q)throw je();Xe(q.userId===this.userId),a.push(Mp(this.serializer,q))});y.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Jn(qt);const i=[];return t.forEach(a=>{const l=mI(this.userId,a.path),p=IDBKeyRange.lowerBound(l),y=s_(e).X({range:p},(w,T,R)=>{const[B,q,Q]=w,ce=ll(q);B===this.userId&&a.path.isEqual(ce)?r=r.add(Q):R.done()});i.push(y)}),se.waitFor(i).next(()=>this.Dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,a=mI(this.userId,r),l=IDBKeyRange.lowerBound(a);let p=new Jn(qt);return s_(e).X({range:l},(y,w,T)=>{const[R,B,q]=y,Q=ll(B);R===this.userId&&r.isPrefixOf(Q)?Q.length===i&&(p=p.add(q)):T.done()}).next(()=>this.Dn(e,p))}Dn(e,t){const r=[],i=[];return t.forEach(a=>{i.push(mh(e).get(a).next(l=>{if(null===l)throw je();Xe(l.userId===this.userId),r.push(Mp(this.serializer,l))}))}),se.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return ok(e.ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),se.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return se.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return s_(e).X({range:r},(a,l,p)=>{if(a[0]===this.userId){const y=ll(a[1]);i.push(y)}else p.done()}).next(()=>{Xe(0===i.length)})})}containsKey(e,t){return ak(e,this.userId,t)}xn(e){return ck(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function ak(n,e,t){const r=mI(e,t.path),i=r[1],a=IDBKeyRange.lowerBound(r);let l=!1;return s_(n).X({range:a,Y:!0},(p,y,w)=>{const[T,R,B]=p;T===e&&R===i&&(l=!0),w.done()}).next(()=>l)}function mh(n){return bi(n,"mutations")}function s_(n){return bi(n,"documentMutations")}function ck(n){return bi(n,"mutationQueues")}class Pp{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Pp(0)}static Mn(){return new Pp(-1)}}class mB{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const r=new Pp(t.highestTargetId);return t.highestTargetId=r.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>Tt.fromTimestamp(new cr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.$n(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.On(e,i)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(r=>(r.targetCount+=1,this.Bn(t,r),this.On(e,r))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>o_(e).delete(t.targetId)).next(()=>this.$n(e)).next(r=>(Xe(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,t,r){let i=0;const a=[];return o_(e).X((l,p)=>{const y=bb(p);y.sequenceNumber<=t&&null===r.get(y.targetId)&&(i++,a.push(this.removeTargetData(e,y)))}).next(()=>se.waitFor(a)).next(()=>i)}forEachTarget(e,t){return o_(e).X((r,i)=>{const a=bb(i);t(a)})}$n(e){return lk(e).get("targetGlobalKey").next(t=>(Xe(null!==t),t))}On(e,t){return lk(e).put("targetGlobalKey",t)}Fn(e,t){return o_(e).put(WO(this.serializer,t))}Bn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Ip(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return o_(e).X({range:i,index:"queryTargetsIndex"},(l,p,y)=>{const w=bb(p);ab(t,w.target)&&(a=w,y.done())}).next(()=>a)}addMatchingKeys(e,t,r){const i=[],a=gh(e);return t.forEach(l=>{const p=Ji(l.path);i.push(a.put({targetId:r,path:p})),i.push(this.referenceDelegate.addReference(e,r,l))}),se.waitFor(i)}removeMatchingKeys(e,t,r){const i=gh(e);return se.forEach(t,a=>{const l=Ji(a.path);return se.waitFor([i.delete([r,l]),this.referenceDelegate.removeReference(e,r,a)])})}removeMatchingKeysForTargetId(e,t){const r=gh(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=gh(e);let a=Qt();return i.X({range:r,Y:!0},(l,p,y)=>{const w=ll(l[1]),T=new tt(w);a=a.add(T)}).next(()=>a)}containsKey(e,t){const r=Ji(t.path),i=IDBKeyRange.bound([r],[w1(r)],!1,!0);let a=0;return gh(e).X({index:"documentTargetsIndex",Y:!0,range:i},([l,p],y,w)=>{0!==l&&(a++,w.done())}).next(()=>a>0)}le(e,t){return o_(e).get(t).next(r=>r?bb(r):null)}}function o_(n){return bi(n,"targets")}function lk(n){return bi(n,"targetGlobal")}function gh(n){return bi(n,"targetDocuments")}function uk([n,e],[t,r]){const i=qt(n,t);return 0===i?qt(e,r):i}class gB{constructor(e){this.Ln=e,this.buffer=new Jn(uk),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();uk(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class dk{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;ne("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ve.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){sh(r)?ne("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield ih(r)}yield t.Qn(3e5)}))}}class _B{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return se.resolve(Ao.ct);const r=new gB(t);return this.jn.forEachTarget(e,i=>r.Kn(i.sequenceNumber)).next(()=>this.jn.Wn(e,i=>r.Kn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.jn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(ne("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(sk)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),sk):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let r,i,a,l,p,y,w;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),i=this.params.maximumSequenceNumbersToCollect):i=R,l=Date.now(),this.nthSequenceNumber(e,i))).next(R=>(r=R,p=Date.now(),this.removeTargets(e,r,t))).next(R=>(a=R,y=Date.now(),this.removeOrphanedDocuments(e,r))).next(R=>(w=Date.now(),Ue()<=Xa.in.DEBUG&&ne("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${l-T}ms\n\tDetermined least recently used ${i} in `+(p-l)+`ms\n\tRemoved ${a} targets in `+(y-p)+`ms\n\tRemoved ${R} documents in `+(w-y)+`ms\nTotal Duration: ${w-T}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:R})))}}class yB{constructor(e,t){this.db=e,this.garbageCollector=function hk(n,e){return new _B(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Jn(e){let t=0;return this.Wn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(r,i)=>t(i))}addReference(e,t,r){return VI(e,r)}removeReference(e,t,r){return VI(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return VI(e,t)}Xn(e,t){return function(r,i){let a=!1;return ck(r).Z(l=>ak(r,l,i).next(p=>(p&&(a=!0),se.resolve(!p)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Yn(e,(l,p)=>{if(p<=t){const y=this.Xn(e,l).next(w=>{if(!w)return a++,r.getEntry(e,l).next(()=>(r.removeEntry(l,Tt.min()),gh(e).delete([0,Ji(l.path)])))});i.push(y)}}).next(()=>se.waitFor(i)).next(()=>r.apply(e)).next(()=>a)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return VI(e,t)}Yn(e,t){const r=gh(e);let i,a=Ao.ct;return r.X({index:"documentTargetsIndex"},([l,p],{path:y,sequenceNumber:w})=>{0===l?(a!==Ao.ct&&t(new tt(ll(i)),a),a=w,i=y):a=Ao.ct}).next(()=>{a!==Ao.ct&&t(new tt(ll(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function VI(n,e){return gh(n).put((r=n.currentSequenceNumber,{targetId:0,path:Ji(e.path),sequenceNumber:r}));var r}class fk{constructor(){this.changes=new Du(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Xn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?se.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class vB{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Op(e).put(r)}removeEntry(e,t,r){return Op(e).delete(function(i,a){const l=i.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],RI(a),l[l.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Zn(e,r)))}getEntry(e,t){let r=Xn.newInvalidDocument(t);return Op(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Cb(t))},(i,a)=>{r=this.ts(t,a)}).next(()=>r)}es(e,t){let r={size:0,document:Xn.newInvalidDocument(t)};return Op(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Cb(t))},(i,a)=>{r={document:this.ts(t,a),size:FI(a)}}).next(()=>r)}getEntries(e,t){let r=js();return this.ns(e,t,(i,a)=>{const l=this.ts(i,a);r=r.insert(i,l)}).next(()=>r)}ss(e,t){let r=js(),i=new zn(tt.comparator);return this.ns(e,t,(a,l)=>{const p=this.ts(a,l);r=r.insert(a,p),i=i.insert(a,FI(l))}).next(()=>({documents:r,rs:i}))}ns(e,t,r){if(t.isEmpty())return se.resolve();let i=new Jn(_k);t.forEach(y=>i=i.add(y));const a=IDBKeyRange.bound(Cb(i.first()),Cb(i.last())),l=i.getIterator();let p=l.getNext();return Op(e).X({index:"documentKeyIndex",range:a},(y,w,T)=>{const R=tt.fromSegments([...w.prefixPath,w.collectionGroup,w.documentId]);for(;p&&_k(p,R)<0;)r(p,null),p=l.getNext();p&&p.isEqual(R)&&(r(p,w),p=l.hasNext()?l.getNext():null),p?T.G(Cb(p)):T.done()}).next(()=>{for(;p;)r(p,null),p=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,t,r,i){const a=t.path,l=[a.popLast().toArray(),a.lastSegment(),RI(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],p=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Op(e).j(IDBKeyRange.bound(l,p,!0)).next(y=>{let w=js();for(const T of y){const R=this.ts(tt.fromSegments(T.prefixPath.concat(T.collectionGroup,T.documentId)),T);R.isFoundDocument()&&(lb(t,R)||i.has(R.key))&&(w=w.insert(R.key,R))}return w})}getAllFromCollectionGroup(e,t,r,i){let a=js();const l=gk(t,r),p=gk(t,To.max());return Op(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(l,p,!0)},(y,w,T)=>{const R=this.ts(tt.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);a=a.insert(R.key,R),a.size===i&&T.done()}).next(()=>a)}newChangeBuffer(e){return new bB(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return mk(e).get("remoteDocumentGlobalKey").next(t=>(Xe(!!t),t))}Zn(e,t){return mk(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const r=function sB(n,e){let t;if(e.document)t=BO(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=tt.fromSegments(e.noDocument.path),i=Sp(e.noDocument.readTime);t=Xn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return je();{const r=tt.fromSegments(e.unknownDocument.path),i=Sp(e.unknownDocument.version);t=Xn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new cr(r[0],r[1]);return Tt.fromTimestamp(i)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(Tt.min()))return r}return Xn.newInvalidDocument(e)}}function pk(n){return new vB(n)}class bB extends fk{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new Du(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Jn((a,l)=>qt(a.canonicalString(),l.canonicalString()));return this.changes.forEach((a,l)=>{const p=this.us.get(a);if(t.push(this.os.removeEntry(e,a,p.readTime)),l.isValidDocument()){const y=qO(this.os.serializer,l);i=i.add(a.path.popLast());const w=FI(y);r+=w-p.size,t.push(this.os.addEntry(e,a,y))}else if(r-=p.size,this.trackRemovals){const y=qO(this.os.serializer,l.convertToNoDocument(Tt.min()));t.push(this.os.addEntry(e,a,y))}}),i.forEach(a=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.os.updateMetadata(e,r)),se.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(r=>(this.us.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:r,rs:i})=>(i.forEach((a,l)=>{this.us.set(a,{size:l,readTime:r.get(a).readTime})}),r))}}function mk(n){return bi(n,"remoteDocumentGlobal")}function Op(n){return bi(n,"remoteDocumentsV14")}function Cb(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function gk(n,e){const t=e.documentKey.path.toArray();return[n,RI(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function _k(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<t.length-2&&a<r.length-2;++a)if(i=qt(t[a],r[a]),i)return i;return i=qt(t.length,r.length),i||(i=qt(t[t.length-2],r[r.length-2]),i||qt(t[t.length-1],r[r.length-1]))}class EB{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class yk{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&fb(r.mutation,i,Us.empty(),cr.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Qt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Qt()){const i=dl();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let l=ub();return a.forEach((p,y)=>{l=l.insert(p,y.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=dl();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Qt()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((l,p)=>{t.set(l,p)})})}computeViews(e,t,r,i){let a=js();const l=db(),p=db();return t.forEach((y,w)=>{const T=r.get(w.key);i.has(w.key)&&(void 0===T||T.mutation instanceof Cu)?a=a.insert(w.key,w):void 0!==T?(l.set(w.key,T.mutation.getFieldMask()),fb(T.mutation,w,T.mutation.getFieldMask(),cr.now())):l.set(w.key,Us.empty())}),this.recalculateAndSaveOverlays(e,a).next(y=>(y.forEach((w,T)=>l.set(w,T)),t.forEach((w,T)=>{var R;return p.set(w,new EB(T,null!==(R=l.get(w))&&void 0!==R?R:null))}),p))}recalculateAndSaveOverlays(e,t){const r=db();let i=new zn((l,p)=>l-p),a=Qt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const p of l)p.keys().forEach(y=>{const w=t.get(y);if(null===w)return;let T=r.get(y)||Us.empty();T=p.applyToLocalView(w,T),r.set(y,T);const R=(i.get(p.batchId)||Qt()).add(y);i=i.insert(p.batchId,R)})}).next(()=>{const l=[],p=i.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),w=y.key,T=y.value,R=uO();T.forEach(B=>{if(!a.has(B)){const q=vO(t.get(B),r.get(B));null!==q&&R.set(B,q),a=a.add(B)}}),l.push(this.documentOverlayCache.saveOverlays(e,w,R))}return se.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return tt.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):QA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):se.resolve(dl());let p=-1,y=a;return l.next(w=>se.forEach(w,(T,R)=>(p<R.largestBatchId&&(p=R.largestBatchId),a.get(T)?se.resolve():this.remoteDocumentCache.getEntry(e,T).next(B=>{y=y.insert(T,B)}))).next(()=>this.populateOverlays(e,w,a)).next(()=>this.computeViews(e,y,w,Qt())).next(T=>({batchId:p,changes:lO(T)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new tt(t)).next(r=>{let i=ub();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let a=ub();return this.indexManager.getCollectionParents(e,i).next(l=>se.forEach(l,p=>{const y=(w=t,T=p.child(i),new Iu(T,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt));var w,T;return this.getDocumentsMatchingCollectionQuery(e,y,r).next(w=>{w.forEach((T,R)=>{a=a.insert(T,R)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(a=>{i.forEach((p,y)=>{const w=y.getKey();null===a.get(w)&&(a=a.insert(w,Xn.newInvalidDocument(w)))});let l=ub();return a.forEach((p,y)=>{const w=i.get(p);void 0!==w&&fb(w.mutation,y,Us.empty(),cr.now()),lb(t,y)&&(l=l.insert(p,y))}),l})}}class wB{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return se.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:kr(r.createTime)}),se.resolve()}getNamedQuery(e,t){return se.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:hS(r.bundledQuery),readTime:kr(r.readTime)}),se.resolve();var r}}class IB{constructor(){this.overlays=new zn(tt.comparator),this.ls=new Map}getOverlay(e,t){return se.resolve(this.overlays.get(t))}getOverlays(e,t){const r=dl();return se.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.we(e,t,a)}),se.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.ls.delete(r)),se.resolve()}getOverlaysForCollection(e,t,r){const i=dl(),a=t.length+1,l=new tt(t.child("")),p=this.overlays.getIteratorFrom(l);for(;p.hasNext();){const y=p.getNext().value,w=y.getKey();if(!t.isPrefixOf(w.path))break;w.path.length===a&&y.largestBatchId>r&&i.set(y.getKey(),y)}return se.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new zn((w,T)=>w-T);const l=this.overlays.getIterator();for(;l.hasNext();){const w=l.getNext().value;if(w.getKey().getCollectionGroup()===t&&w.largestBatchId>r){let T=a.get(w.largestBatchId);null===T&&(T=dl(),a=a.insert(w.largestBatchId,T)),T.set(w.getKey(),w)}}const p=dl(),y=a.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((w,T)=>p.set(w,T)),!(p.size()>=i)););return se.resolve(p)}we(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const l=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new iS(t,r));let a=this.ls.get(t);void 0===a&&(a=Qt(),this.ls.set(t,a)),this.ls.set(t,a.add(r.key))}}class vS{constructor(){this.fs=new Jn(Ei.ds),this.ws=new Jn(Ei._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new Ei(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new Ei(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new tt(new gn([])),r=new Ei(t,e),i=new Ei(t,e+1),a=[];return this.ws.forEachInRange([r,i],l=>{this.ys(l),a.push(l.key)}),a}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new tt(new gn([])),r=new Ei(t,e),i=new Ei(t,e+1);let a=Qt();return this.ws.forEachInRange([r,i],l=>{a=a.add(l.key)}),a}containsKey(e){const t=new Ei(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Ei{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return tt.comparator(e.key,t.key)||qt(e.As,t.As)}static _s(e,t){return qt(e.As,t.As)||tt.comparator(e.key,t.key)}}class DB{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Jn(Ei.ds)}checkEmpty(e){return se.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const a=this.vs;this.vs++;const l=new nS(a,t,r,i);this.mutationQueue.push(l);for(const p of i)this.Rs=this.Rs.add(new Ei(p.key,a)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return se.resolve(l)}lookupMutationBatch(e,t){return se.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.bs(t+1),a=i<0?0:i;return se.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ei(t,0),i=new Ei(t,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([r,i],l=>{const p=this.Ps(l.As);a.push(p)}),se.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Jn(qt);return t.forEach(i=>{const a=new Ei(i,0),l=new Ei(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([a,l],p=>{r=r.add(p.As)})}),se.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;tt.isDocumentKey(a)||(a=a.child(""));const l=new Ei(new tt(a),0);let p=new Jn(qt);return this.Rs.forEachWhile(y=>{const w=y.key.path;return!!r.isPrefixOf(w)&&(w.length===i&&(p=p.add(y.As)),!0)},l),se.resolve(this.Vs(p))}Vs(e){const t=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Xe(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return se.forEach(t.mutations,i=>{const a=new Ei(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new Ei(t,0),i=this.Rs.firstAfterOrEqual(r);return se.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return se.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class CB{constructor(e){this.Ds=e,this.docs=new zn(tt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,l=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return se.resolve(r?r.document.mutableCopy():Xn.newInvalidDocument(t))}getEntries(e,t){let r=js();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Xn.newInvalidDocument(i))}),se.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=js();const l=t.path,p=new tt(l.child("")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:w,value:{document:T}}=y.getNext();if(!l.isPrefixOf(w.path))break;w.path.length>l.length+1||UA(D1(T),r)<=0||(i.has(T.key)||lb(t,T))&&(a=a.insert(T.key,T.mutableCopy()))}return se.resolve(a)}getAllFromCollectionGroup(e,t,r,i){je()}Cs(e,t){return se.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new TB(this)}getSize(e){return se.resolve(this.size)}}class TB extends fk{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),se.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class AB{constructor(e){this.persistence=e,this.xs=new Du(t=>Ip(t),ab),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new vS,this.targetCount=0,this.Ms=Pp.kn()}forEachTarget(e,t){return this.xs.forEach((r,i)=>t(i)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),se.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Pp(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,se.resolve()}updateTargetData(e,t){return this.Fn(t),se.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.xs.forEach((l,p)=>{p.sequenceNumber<=t&&null===r.get(p.targetId)&&(this.xs.delete(l),a.push(this.removeMatchingKeysForTargetId(e,p.targetId)),i++)}),se.waitFor(a).next(()=>i)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return se.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),se.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(l=>{a.push(i.markPotentiallyOrphaned(e,l))}),se.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),se.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return se.resolve(r)}containsKey(e,t){return se.resolve(this.ks.containsKey(t))}}class bS{constructor(e,t){this.$s={},this.overlays={},this.Os=new Ao(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new AB(this),this.indexManager=new fB,this.remoteDocumentCache=new CB(r=>this.referenceDelegate.Ls(r)),this.serializer=new GO(t),this.qs=new wB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new IB,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new DB(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){ne("MemoryPersistence","Starting transaction:",e);const i=new SB(this.Os.next());return this.referenceDelegate.Us(),r(i).next(a=>this.referenceDelegate.Ks(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Gs(e,t){return se.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class SB extends T1{constructor(e){super(),this.currentSequenceNumber=e}}class BI{constructor(e){this.persistence=e,this.Qs=new vS,this.js=null}static zs(e){return new BI(e)}get Ws(){if(this.js)return this.js;throw je()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),se.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),se.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),se.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.Ws.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.Ws,r=>{const i=tt.fromPath(r);return this.Hs(e,i).next(a=>{a||t.removeEntry(i,Tt.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return se.or([()=>se.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class MB{constructor(e){this.serializer=e}O(e,t,r,i){const a=new pI("createOrUpgrade",t);var p;r<1&&i>=1&&(e.createObjectStore("owner"),(p=e).createObjectStore("mutationQueues",{keyPath:"userId"}),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",x1,{unique:!0}),p.createObjectStore("documentMutations"),vk(e),function(p){p.createObjectStore("remoteDocuments")}(e));let l=se.resolve();return r<3&&i>=3&&(0!==r&&(function(p){p.deleteObjectStore("targetDocuments"),p.deleteObjectStore("targets"),p.deleteObjectStore("targetGlobal")}(e),vk(e)),l=l.next(()=>function(p){const y=p.store("targetGlobal"),w={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Tt.min().toTimestamp(),targetCount:0};return y.put("targetGlobalKey",w)}(a))),r<4&&i>=4&&(0!==r&&(l=l.next(()=>function(p,y){return y.store("mutations").j().next(w=>{p.deleteObjectStore("mutations"),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",x1,{unique:!0});const T=y.store("mutations"),R=w.map(B=>T.put(B));return se.waitFor(R)})}(e,a))),l=l.next(()=>{!function(p){p.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(l=l.next(()=>this.Ys(a))),r<6&&i>=6&&(l=l.next(()=>(function(p){p.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(a)))),r<7&&i>=7&&(l=l.next(()=>this.Zs(a))),r<8&&i>=8&&(l=l.next(()=>this.ti(e,a))),r<9&&i>=9&&(l=l.next(()=>{!function(p){p.objectStoreNames.contains("remoteDocumentChanges")&&p.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(l=l.next(()=>this.ei(a))),r<11&&i>=11&&(l=l.next(()=>{(function(p){p.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(p){p.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(l=l.next(()=>{!function(p){const y=p.createObjectStore("documentOverlays",{keyPath:fV});y.createIndex("collectionPathOverlayIndex",pV,{unique:!1}),y.createIndex("collectionGroupOverlayIndex",mV,{unique:!1})}(e)})),r<13&&i>=13&&(l=l.next(()=>function(p){const y=p.createObjectStore("remoteDocumentsV14",{keyPath:nV});y.createIndex("documentKeyIndex",rV),y.createIndex("collectionGroupIndex",iV)}(e)).next(()=>this.ni(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(l=l.next(()=>this.si(e,a))),r<15&&i>=15&&(l=l.next(()=>function(p){p.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),p.createObjectStore("indexState",{keyPath:lV}).createIndex("sequenceNumberIndex",uV,{unique:!1}),p.createObjectStore("indexEntries",{keyPath:dV}).createIndex("documentKeyIndex",hV,{unique:!1})}(e))),l}Xs(e){let t=0;return e.store("remoteDocuments").X((r,i)=>{t+=FI(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Ys(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.j().next(i=>se.forEach(i,a=>{const l=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",l).next(p=>se.forEach(p,y=>{Xe(y.userId===a.userId);const w=Mp(this.serializer,y);return ok(e,a.userId,w).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const a=[];return r.X((l,p)=>{const y=new gn(l),w=[0,Ji(y)];a.push(t.get(w).next(T=>T?se.resolve():t.put({targetId:0,path:Ji(y),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>se.waitFor(a))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:cV});const r=t.store("collectionParents"),i=new yS,a=l=>{if(i.add(l)){const p=l.lastSegment(),y=l.popLast();return r.put({collectionId:p,parent:Ji(y)})}};return t.store("remoteDocuments").X({Y:!0},(l,p)=>{const y=new gn(l);return a(y.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([l,p,y],w)=>{const T=ll(p);return a(T.popLast())}))}ei(e){const t=e.store("targets");return t.X((r,i)=>{const a=bb(i),l=WO(this.serializer,a);return t.put(l)})}ni(e,t){const r=t.store("remoteDocuments"),i=[];return r.X((a,l)=>{const p=t.store("remoteDocumentsV14"),y=(w=l,w.document?new tt(gn.fromString(w.document.name).popFirst(5)):w.noDocument?tt.fromSegments(w.noDocument.path):w.unknownDocument?tt.fromSegments(w.unknownDocument.path):je()).path.toArray();var w;const T={prefixPath:y.slice(0,y.length-2),collectionGroup:y[y.length-2],documentId:y[y.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};i.push(p.put(T))}).next(()=>se.waitFor(i))}si(e,t){const r=t.store("mutations"),i=pk(this.serializer),a=new bS(BI.zs,this.serializer.fe);return r.j().next(l=>{const p=new Map;return l.forEach(y=>{var w;let T=null!==(w=p.get(y.userId))&&void 0!==w?w:Qt();Mp(this.serializer,y).keys().forEach(R=>T=T.add(R)),p.set(y.userId,T)}),se.forEach(p,(y,w)=>{const T=new $(w),R=PI.de(this.serializer,T),B=a.getIndexManager(T),q=LI.de(T,this.serializer,B,a.referenceDelegate);return new yk(i,q,R,B).recalculateAndSaveOverlaysForDocumentKeys(new HA(t,Ao.ct),y).next()})})}}function vk(n){n.createObjectStore("targetDocuments",{keyPath:oV}).createIndex("documentTargetsIndex",aV,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",sV,{unique:!0}),n.createObjectStore("targetGlobal")}const ES="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class wS{constructor(e,t,r,i,a,l,p,y,w,T,R=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.ii=a,this.window=l,this.document=p,this.ri=w,this.oi=T,this.ui=R,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=B=>Promise.resolve(),!wS.D())throw new xe(de.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new yB(this,i),this.di=t+"main",this.serializer=new GO(y),this.wi=new rc(this.di,this.ui,new MB(this.serializer)),this.Bs=new mB(this.referenceDelegate,this.serializer),this.remoteDocumentCache=pk(this.serializer),this.qs=new oB,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===T&&ut("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new xe(de.FAILED_PRECONDITION,ES);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Ao(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var r=(0,ve.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,ve.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,ve.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>jI(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(sh(e))return ne("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ne("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return Tb(e).get("owner").next(t=>se.resolve(this.Ri(t)))}Pi(e){return jI(e).delete(this.clientId)}bi(){var e=this;return(0,ve.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=bi(r,"clientMetadata");return i.j().next(a=>{const l=e.Si(a,18e5),p=a.filter(y=>-1===l.indexOf(y));return se.forEach(p,y=>i.delete(y.clientId)).next(()=>p)})}).catch(()=>[]);if(e._i)for(const r of t)e._i.removeItem(e.Di(r.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?se.resolve(!0):Tb(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new xe(de.FAILED_PRECONDITION,ES);return!1}}return!(!this.networkEnabled||!this.inForeground)||jI(e).j().next(r=>void 0===this.Si(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(t=>(this.isPrimary!==t&&ne("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ve.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new HA(t,Ao.ct);return e.Ai(r).next(()=>e.Pi(r))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(r=>this.Vi(r.updateTimeMs,t)&&!this.Ci(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>jI(e).j().next(t=>this.Si(t,18e5).map(r=>r.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return LI.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new pB(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return PI.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,r){ne("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",a=15===(l=this.ui)?_V:14===l?k1:13===l?O1:12===l?gV:11===l?P1:void je();var l;let p;return this.wi.runTransaction(e,i,a,y=>(p=new HA(y,this.Os?this.Os.next():Ao.ct),"readwrite-primary"===t?this.Ti(p).next(w=>!!w||this.Ei(p)).next(w=>{if(!w)throw ut(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new xe(de.FAILED_PRECONDITION,C1);return r(p)}).next(w=>this.vi(p).next(()=>w)):this.Oi(p).next(()=>r(p)))).then(y=>(p.raiseOnCommittedEvent(),y))}Oi(e){return Tb(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new xe(de.FAILED_PRECONDITION,ES)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Tb(e).put("owner",t)}static D(){return rc.D()}Ai(e){const t=Tb(e);return t.get("owner").next(r=>this.Ri(r)?(ne("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):se.resolve())}Vi(e,t){const r=Date.now();return!(e<r-t||e>r&&(ut(`Detected an update time that is in the future: ${e} > ${r}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,hn.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const r=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return ne("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return ut("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){ut("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Tb(n){return bi(n,"owner")}function jI(n){return bi(n,"clientMetadata")}function IS(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class DS{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=i}static Li(e,t){let r=Qt(),i=Qt();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new DS(e,t.fromCache,r,i)}}class bk{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ki(e,t).next(a=>a||this.Gi(e,t,i,r)).next(a=>a||this.Qi(e,t))}Ki(e,t){if(iO(t))return se.resolve(null);let r=vs(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=CI(t,null,"F"),r=vs(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=Qt(...a);return this.Ui.getDocuments(e,l).next(p=>this.indexManager.getMinOffset(e,r).next(y=>{const w=this.ji(t,p);return this.zi(t,w,l,y.readTime)?this.Ki(e,CI(t,null,"F")):this.Wi(e,w,t,y)}))})))}Gi(e,t,r,i){return iO(t)||i.isEqual(Tt.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(a=>{const l=this.ji(t,a);return this.zi(t,l,r,i)?this.Qi(e,t):(Ue()<=Xa.in.DEBUG&&ne("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),XA(t)),this.Wi(e,l,t,I1(i,-1)))})}ji(e,t){let r=new Jn(aO(e));return t.forEach((i,a)=>{lb(e,a)&&(r=r.add(a))}),r}zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Qi(e,t){return Ue()<=Xa.in.DEBUG&&ne("QueryEngine","Using full collection scan to execute query:",XA(t)),this.Ui.getDocumentsMatchingQuery(e,t,To.min())}Wi(e,t,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(l=>{a=a.insert(l.key,l)}),a))}}class xB{constructor(e,t,r,i){this.persistence=e,this.Hi=t,this.serializer=i,this.Ji=new zn(qt),this.Yi=new Du(a=>Ip(a),ab),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yk(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function Ek(n,e,t,r){return new xB(n,e,t,r)}function wk(n,e){return CS.apply(this,arguments)}function CS(){return CS=(0,ve.Z)(function*(n,e){const t=rt(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],p=[];let y=Qt();for(const w of i){l.push(w.batchId);for(const T of w.mutations)y=y.add(T.key)}for(const w of a){p.push(w.batchId);for(const T of w.mutations)y=y.add(T.key)}return t.localDocuments.getDocuments(r,y).next(w=>({er:w,removedBatchIds:l,addedBatchIds:p}))})})}),CS.apply(this,arguments)}function Ik(n){const e=rt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function Dk(n,e,t){let r=Qt(),i=Qt();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let l=js();return t.forEach((p,y)=>{const w=a.get(p);y.isFoundDocument()!==w.isFoundDocument()&&(i=i.add(p)),y.isNoDocument()&&y.version.isEqual(Tt.min())?(e.removeEntry(p,y.readTime),l=l.insert(p,y)):!w.isValidDocument()||y.version.compareTo(w.version)>0||0===y.version.compareTo(w.version)&&w.hasPendingWrites?(e.addEntry(y),l=l.insert(p,y)):ne("LocalStore","Ignoring outdated watch update for ",p,". Current version:",w.version," Watch version:",y.version)}),{nr:l,sr:i}})}function OB(n,e){const t=rt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function a_(n,e){const t=rt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Bs.getTargetData(r,e).next(a=>a?(i=a,se.resolve(i)):t.Bs.allocateTargetId(r).next(l=>(i=new Tu(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}function c_(n,e,t){return TS.apply(this,arguments)}function TS(){return TS=(0,ve.Z)(function*(n,e,t){const r=rt(n),i=r.Ji.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!sh(l))throw l;ne("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),TS.apply(this,arguments)}function $I(n,e,t){const r=rt(n);let i=Tt.min(),a=Qt();return r.persistence.runTransaction("Execute query","readonly",l=>function(p,y,w){const T=rt(p),R=T.Yi.get(w);return void 0!==R?se.resolve(T.Ji.get(R)):T.Bs.getTargetData(y,w)}(r,l,vs(e)).next(p=>{if(p)return i=p.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(l,p.targetId).next(y=>{a=y})}).next(()=>r.Hi.getDocumentsMatchingQuery(l,e,t?i:Tt.min(),t?a:Qt())).next(p=>(Ak(r,oO(e),p),{documents:p,ir:a})))}function Ck(n,e){const t=rt(n),r=rt(t.Bs),i=t.Ji.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",a=>r.le(a,e).next(l=>l?l.target:null))}function Tk(n,e){const t=rt(n),r=t.Xi.get(e)||Tt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Zi.getAllFromCollectionGroup(i,e,I1(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(Ak(t,e,i),i))}function Ak(n,e,t){let r=n.Xi.get(e)||Tt.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Xi.set(e,r)}function AS(){return AS=(0,ve.Z)(function*(n,e,t,r){const i=rt(n);let a=Qt(),l=js();for(const w of t){const T=e.rr(w.metadata.name);w.document&&(a=a.add(T));const R=e.ur(w);R.setReadTime(e.cr(w.metadata.readTime)),l=l.insert(T,R)}const p=i.Zi.newChangeBuffer({trackRemovals:!0}),y=yield a_(i,(w=r,vs(Jg(gn.fromString(`__bundle__/docs/${w}`)))));var w;return i.persistence.runTransaction("Apply bundle documents","readwrite",w=>Dk(w,p,l).next(T=>(p.apply(w),T)).next(T=>i.Bs.removeMatchingKeysForTargetId(w,y.targetId).next(()=>i.Bs.addMatchingKeys(w,a,y.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(w,T.nr,T.sr)).next(()=>T.nr)))}),AS.apply(this,arguments)}function NB(n,e){return SS.apply(this,arguments)}function SS(){return SS=(0,ve.Z)(function*(n,e,t=Qt()){const r=yield a_(n,vs(hS(e.bundledQuery))),i=rt(n);return i.persistence.runTransaction("Save named query","readwrite",a=>{const l=kr(e.readTime);if(r.snapshotVersion.compareTo(l)>=0)return i.qs.saveNamedQuery(a,e);const p=r.withResumeToken(ai.EMPTY_BYTE_STRING,l);return i.Ji=i.Ji.insert(p.targetId,p),i.Bs.updateTargetData(a,p).next(()=>i.Bs.removeMatchingKeysForTargetId(a,r.targetId)).next(()=>i.Bs.addMatchingKeys(a,t,r.targetId)).next(()=>i.qs.saveNamedQuery(a,e))})}),SS.apply(this,arguments)}function Sk(n,e){return`firestore_clients_${n}_${e}`}function Mk(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function MS(n,e){return`firestore_targets_${n}_${e}`}class HI{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static ar(e,t,r){const i=JSON.parse(r);let a,l="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return l&&i.error&&(l="string"==typeof i.error.message&&"string"==typeof i.error.code,l&&(a=new xe(i.error.code,i.error.message))),l?new HI(e,t,i.state,a):(ut("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ab{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static ar(e,t){const r=JSON.parse(t);let i,a="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(i=new xe(r.error.code,r.error.message))),a?new Ab(e,r.state,i):(ut("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class zI{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,a=eS();for(let l=0;i&&l<r.activeTargetIds.length;++l)i=S1(r.activeTargetIds[l]),a=a.add(r.activeTargetIds[l]);return i?new zI(e,a):(ut("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class xS{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new xS(t.clientId,t.onlineState):(ut("SharedClientState",`Failed to parse online state: ${e}`),null)}}class RS{constructor(){this.activeTargetIds=eS()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class PS{constructor(e,t,r,i,a){this.window=e,this.ii=t,this.persistenceKey=r,this.wr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new zn(qt),this.started=!1,this.yr=[];const l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.pr=Sk(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new RS),this.Tr=new RegExp(`^firestore_clients_${l}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${l}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${l}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(p){return`firestore_bundle_loaded_v2_${p}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ve.Z)(function*(){const t=yield e.syncEngine.$i();for(const i of t){if(i===e.wr)continue;const a=e.getItem(Sk(e.persistenceKey,i));if(a){const l=zI.ar(i,a);l&&(e.gr=e.gr.insert(l.clientId,l))}}e.Pr();const r=e.storage.getItem(e.vr);if(r){const i=e.br(r);i&&e.Vr(i)}for(const i of e.yr)e.mr(i);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,r){this.Dr(e,t,r),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(MS(this.persistenceKey,e));if(r){const i=Ab.ar(e,r);i&&(t=i.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(MS(this.persistenceKey,e))}updateQueryState(e,t,r){this.kr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Cr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ne("SharedClientState","READ",e,t),t}setItem(e,t){ne("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){ne("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(ne("SharedClientState","EVENT",r.key,r.newValue),r.key===this.pr)return void ut("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,ve.Z)(function*(){if(t.started){if(null!==r.key)if(t.Tr.test(r.key)){if(null==r.newValue){const i=t.Or(r.key);return t.Fr(i,null)}{const i=t.Br(r.key,r.newValue);if(i)return t.Fr(i.clientId,i)}}else if(t.Er.test(r.key)){if(null!==r.newValue){const i=t.Lr(r.key,r.newValue);if(i)return t.qr(i)}}else if(t.Ar.test(r.key)){if(null!==r.newValue){const i=t.Ur(r.key,r.newValue);if(i)return t.Kr(i)}}else if(r.key===t.vr){if(null!==r.newValue){const i=t.br(r.newValue);if(i)return t.Vr(i)}}else if(r.key===t.Ir){const i=function(a){let l=Ao.ct;if(null!=a)try{const p=JSON.parse(a);Xe("number"==typeof p),l=p}catch(p){ut("SharedClientState","Failed to read sequence number from WebStorage",p)}return l}(r.newValue);i!==Ao.ct&&t.sequenceNumberHandler(i)}else if(r.key===t.Rr){const i=t.Gr(r.newValue);yield Promise.all(i.map(a=>t.syncEngine.Qr(a)))}}else t.yr.push(r)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,r){const i=new HI(this.currentUser,e,t,r),a=Mk(this.persistenceKey,this.currentUser,e);this.setItem(a,i.hr())}Cr(e){const t=Mk(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,r){const i=MS(this.persistenceKey,e),a=new Ab(e,t,r);this.setItem(i,a.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const r=this.Or(e);return zI.ar(r,t)}Lr(e,t){const r=this.Er.exec(e),i=Number(r[1]);return HI.ar(new $(void 0!==r[2]?r[2]:null),i,t)}Ur(e,t){const r=this.Ar.exec(e),i=Number(r[1]);return Ab.ar(i,t)}br(e){return xS.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,ve.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);ne("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const r=t?this.gr.insert(e,t):this.gr.remove(e),i=this.Sr(this.gr),a=this.Sr(r),l=[],p=[];return a.forEach(y=>{i.has(y)||l.push(y)}),i.forEach(y=>{a.has(y)||p.push(y)}),this.syncEngine.Wr(l,p).then(()=>{this.gr=r})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=eS();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class xk{constructor(){this.Hr=new RS,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new RS,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class FB{Yr(e){}shutdown(){}}class Rk{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){ne("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){ne("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let GI=null;function OS(){return null===GI?GI=268435456+Math.round(2147483648*Math.random()):GI++,"0x"+GI.toString(16)}const LB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class VB{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const es="WebChannelConnection";class BB extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,i,a){const l=OS(),p=this.To(e,t);ne("RestConnection",`Sending RPC '${e}' ${l}:`,p,r);const y={};return this.Eo(y,i,a),this.Ao(e,p,y,r).then(w=>(ne("RestConnection",`Received RPC '${e}' ${l}: `,w),w),w=>{throw Ae("RestConnection",`RPC '${e}' ${l} failed with error: `,w,"url: ",p,"request:",r),w})}vo(e,t,r,i,a,l){return this.Io(e,t,r,i,a)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+X,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}To(e,t){return`${this.mo}/v1/${t}:${LB[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,i){const a=OS();return new Promise((l,p)=>{const y=new C;y.setWithCredentials(!0),y.listenOnce(u.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case c.NO_ERROR:const T=y.getResponseJson();ne(es,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(T)),l(T);break;case c.TIMEOUT:ne(es,`RPC '${e}' ${a} timed out`),p(new xe(de.DEADLINE_EXCEEDED,"Request time out"));break;case c.HTTP_ERROR:const R=y.getStatus();if(ne(es,`RPC '${e}' ${a} failed with status:`,R,"response text:",y.getResponseText()),R>0){let B=y.getResponseJson();Array.isArray(B)&&(B=B[0]);const q=B?.error;if(q&&q.status&&q.message){const Q=function(ce){const _e=ce.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(_e)>=0?_e:de.UNKNOWN}(q.status);p(new xe(Q,q.message))}else p(new xe(de.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new xe(de.UNAVAILABLE,"Connection failed."));break;default:je()}}finally{ne(es,`RPC '${e}' ${a} completed.`)}});const w=JSON.stringify(i);ne(es,`RPC '${e}' ${a} sending request:`,i),y.send(t,"POST",w,r,15)})}Ro(e,t,r){const i=OS(),a=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=s(),p=o(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},w=this.longPollingOptions.timeoutSeconds;void 0!==w&&(y.longPollingTimeout=Math.round(1e3*w)),this.useFetchStreams&&(y.xmlHttpFactory=new v({})),this.Eo(y.initMessageHeaders,t,r),y.encodeInitMessageHeaders=!0;const T=a.join("");ne(es,`Creating RPC '${e}' stream ${i}: ${T}`,y);const R=l.createWebChannel(T,y);let B=!1,q=!1;const Q=new VB({ro:_e=>{q?ne(es,`Not sending because RPC '${e}' stream ${i} is closed:`,_e):(B||(ne(es,`Opening RPC '${e}' stream ${i} transport.`),R.open(),B=!0),ne(es,`RPC '${e}' stream ${i} sending:`,_e),R.send(_e))},oo:()=>R.close()}),ce=(_e,Ze,it)=>{_e.listen(Ze,at=>{try{it(at)}catch(gt){setTimeout(()=>{throw gt},0)}})};return ce(R,I.EventType.OPEN,()=>{q||ne(es,`RPC '${e}' stream ${i} transport opened.`)}),ce(R,I.EventType.CLOSE,()=>{q||(q=!0,ne(es,`RPC '${e}' stream ${i} transport closed`),Q.wo())}),ce(R,I.EventType.ERROR,_e=>{q||(q=!0,Ae(es,`RPC '${e}' stream ${i} transport errored:`,_e),Q.wo(new xe(de.UNAVAILABLE,"The operation could not be completed")))}),ce(R,I.EventType.MESSAGE,_e=>{var Ze;if(!q){const it=_e.data[0];Xe(!!it);const gt=it.error||(null===(Ze=it[0])||void 0===Ze?void 0:Ze.error);if(gt){ne(es,`RPC '${e}' stream ${i} received error:`,gt);const Vt=gt.status;let Wt=function(Li){const da=qr[Li];if(void 0!==da)return CO(da)}(Vt),wn=gt.message;void 0===Wt&&(Wt=de.INTERNAL,wn="Unknown error status: "+Vt+" with message "+gt.message),q=!0,Q.wo(new xe(Wt,wn)),R.close()}else ne(es,`RPC '${e}' stream ${i} received:`,it),Q._o(it)}}),ce(p,h.STAT_EVENT,_e=>{_e.stat===g.PROXY?ne(es,`RPC '${e}' stream ${i} detected buffering proxy`):_e.stat===g.NOPROXY&&ne(es,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{Q.fo()},0),Q}}function Pk(){return typeof window<"u"?window:null}function qI(){return typeof document<"u"?document:null}function Sb(n){return new KV(n,!0)}class kS{constructor(e,t,r=1e3,i=1.5,a=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=i,this.Vo=a,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-r);i>0&&ne("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Ok{constructor(e,t,r,i,a,l,p,y){this.ii=e,this.$o=r,this.Oo=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new kS(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,ve.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,ve.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,ve.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===de.RESOURCE_EXHAUSTED?(ut(t.toString()),ut("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===de.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===t&&this.Zo(r,i)},r=>{e(()=>{const i=new xe(de.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No((0,ve.Z)(function*(){e.state=0,e.start()}))}tu(e){return ne("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(ne("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class UB extends Ok{constructor(e,t,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function JV(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===y?1:"REMOVE"===y?2:"CURRENT"===y?3:"RESET"===y?4:je(),i=e.targetChange.targetIds||[],a=function(y,w){return y.useProto3Json?(Xe(void 0===w||"string"==typeof w),ai.fromBase64String(w||"")):(Xe(void 0===w||w instanceof Uint8Array),ai.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,p=l&&function(y){const w=void 0===y.code?de.UNKNOWN:CO(y.code);return new xe(w,y.message||"")}(l);t=new xO(r,i,a,p||null)}else if("documentChange"in e){const r=e.documentChange,i=hl(n,r.document.name),a=kr(r.document.updateTime),l=r.document.createTime?kr(r.document.createTime):Tt.min(),p=new ki({mapValue:{fields:r.document.fields}}),y=Xn.newFoundDocument(i,a,l,p);t=new xI(r.targetIds||[],r.removedTargetIds||[],y.key,y)}else if("documentDelete"in e){const r=e.documentDelete,i=hl(n,r.document),a=r.readTime?kr(r.readTime):Tt.min(),l=Xn.newNoDocument(i,a);t=new xI([],r.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const r=e.documentRemove,i=hl(n,r.document);t=new xI([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return je();{const r=e.filter,{count:i=0,unchangedNames:a}=r,l=new HV(i,a);t=new MO(r.targetId,l)}}var y;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return Tt.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?Tt.min():a.readTime?kr(a.readTime):Tt.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=yb(this.serializer),t.addTarget=function(i,a){let l;const p=a.target;if(l=wI(p)?{documents:UO(i,p)}:{query:dS(i,p)},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=kO(i,a.resumeToken);const y=aS(i,a.expectedCount);null!==y&&(l.expectedCount=y)}else if(a.snapshotVersion.compareTo(Tt.min())>0){l.readTime=r_(i,a.snapshotVersion.toTimestamp());const y=aS(i,a.expectedCount);null!==y&&(l.expectedCount=y)}return l}(this.serializer,e);const r=function eB(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return je()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=yb(this.serializer),t.removeTarget=e,this.Wo(t)}}class jB extends Ok{constructor(e,t,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Xe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function XV(n,e){return n&&n.length>0?(Xe(void 0!==e),n.map(t=>function(r,i){let a=kr(r.updateTime?r.updateTime:i);return a.isEqual(Tt.min())&&(a=kr(i)),new BV(a,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=kr(e.commitTime);return this.listener.cu(r,t)}return Xe(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=yb(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>vb(this.serializer,r))};this.Wo(t)}}class $B extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new xe(de.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Io(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new xe(de.UNKNOWN,i.toString())})}vo(e,t,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.vo(e,t,r,a,l,i)).catch(a=>{throw"FirebaseError"===a.name?(a.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new xe(de.UNKNOWN,a.toString())})}terminate(){this.lu=!0}}class zB{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(ut(t),this.mu=!1):ne("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class GB{constructor(e,t,r,i,a){var l=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=a,this.Pu.Yr(p=>{r.enqueueAndForget((0,ve.Z)(function*(){var y;_h(l)&&(ne("RemoteStore","Restarting streams for network reachability change."),yield(y=(0,ve.Z)(function*(w){const T=rt(w);T.vu.add(4),yield l_(T),T.bu.set("Unknown"),T.vu.delete(4),yield Mb(T)}),function(w){return y.apply(this,arguments)})(l))}))}),this.bu=new zB(r,i)}}function Mb(n){return FS.apply(this,arguments)}function FS(){return FS=(0,ve.Z)(function*(n){if(_h(n))for(const e of n.Ru)yield e(!0)}),FS.apply(this,arguments)}function l_(n){return LS.apply(this,arguments)}function LS(){return LS=(0,ve.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),LS.apply(this,arguments)}function WI(n,e){const t=rt(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),US(t)?BS(t):d_(t).Ko()&&VS(t,e))}function xb(n,e){const t=rt(n),r=d_(t);t.Au.delete(e),r.Ko()&&kk(t,e),0===t.Au.size&&(r.Ko()?r.jo():_h(t)&&t.bu.set("Unknown"))}function VS(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Tt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}d_(n).su(e)}function kk(n,e){n.Vu.qt(e),d_(n).iu(e)}function BS(n){n.Vu=new GV({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),d_(n).start(),n.bu.gu()}function US(n){return _h(n)&&!d_(n).Uo()&&n.Au.size>0}function _h(n){return 0===rt(n).vu.size}function Nk(n){n.Vu=void 0}function qB(n){return jS.apply(this,arguments)}function jS(){return jS=(0,ve.Z)(function*(n){n.Au.forEach((e,t)=>{VS(n,e)})}),jS.apply(this,arguments)}function WB(n,e){return $S.apply(this,arguments)}function $S(){return $S=(0,ve.Z)(function*(n,e){Nk(n),US(n)?(n.bu.Iu(e),BS(n)):n.bu.set("Unknown")}),$S.apply(this,arguments)}function ZB(n,e,t){return HS.apply(this,arguments)}function HS(){return HS=(0,ve.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof xO&&2===e.state&&e.cause)try{yield(r=(0,ve.Z)(function*(i,a){const l=a.cause;for(const p of a.targetIds)i.Au.has(p)&&(yield i.remoteSyncer.rejectListen(p,l),i.Au.delete(p),i.Vu.removeTarget(p))}),function(i,a){return r.apply(this,arguments)})(n,e)}catch(r){ne("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield ZI(n,r)}else if(e instanceof xI?n.Vu.Ht(e):e instanceof MO?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(Tt.min()))try{const r=yield Ik(n.localStore);t.compareTo(r)>=0&&(yield function(i,a){const l=i.Vu.ce(a);return l.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const w=i.Au.get(y);w&&i.Au.set(y,w.withResumeToken(p.resumeToken,a))}}),l.targetMismatches.forEach((p,y)=>{const w=i.Au.get(p);if(!w)return;i.Au.set(p,w.withResumeToken(ai.EMPTY_BYTE_STRING,w.snapshotVersion)),kk(i,p);const T=new Tu(w.target,p,y,w.sequenceNumber);VS(i,T)}),i.remoteSyncer.applyRemoteEvent(l)}(n,t))}catch(r){ne("RemoteStore","Failed to raise snapshot:",r),yield ZI(n,r)}var r}),HS.apply(this,arguments)}function ZI(n,e,t){return zS.apply(this,arguments)}function zS(){return zS=(0,ve.Z)(function*(n,e,t){if(!sh(e))throw e;n.vu.add(1),yield l_(n),n.bu.set("Offline"),t||(t=()=>Ik(n.localStore)),n.asyncQueue.enqueueRetryable((0,ve.Z)(function*(){ne("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield Mb(n)}))}),zS.apply(this,arguments)}function Fk(n,e){return e().catch(t=>ZI(n,t,e))}function u_(n){return GS.apply(this,arguments)}function GS(){return GS=(0,ve.Z)(function*(n){const e=rt(n),t=yh(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;KB(e);)try{const i=yield OB(e.localStore,r);if(null===i){0===e.Eu.length&&t.jo();break}r=i.batchId,YB(e,i)}catch(i){yield ZI(e,i)}Lk(e)&&Vk(e)}),GS.apply(this,arguments)}function KB(n){return _h(n)&&n.Eu.length<10}function YB(n,e){n.Eu.push(e);const t=yh(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function Lk(n){return _h(n)&&!yh(n).Uo()&&n.Eu.length>0}function Vk(n){yh(n).start()}function QB(n){return qS.apply(this,arguments)}function qS(){return qS=(0,ve.Z)(function*(n){yh(n).hu()}),qS.apply(this,arguments)}function JB(n){return WS.apply(this,arguments)}function WS(){return WS=(0,ve.Z)(function*(n){const e=yh(n);for(const t of n.Eu)e.uu(t.mutations)}),WS.apply(this,arguments)}function XB(n,e,t){return ZS.apply(this,arguments)}function ZS(){return ZS=(0,ve.Z)(function*(n,e,t){const r=n.Eu.shift(),i=rS.from(r,e,t);yield Fk(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield u_(n)}),ZS.apply(this,arguments)}function eU(n,e){return KS.apply(this,arguments)}function KS(){return KS=(0,ve.Z)(function*(n,e){var t;e&&yh(n).ou&&(yield(t=(0,ve.Z)(function*(r,i){if(DO(a=i.code)&&a!==de.ABORTED){const l=r.Eu.shift();yh(r).Qo(),yield Fk(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,i)),yield u_(r)}var a}),function(r,i){return t.apply(this,arguments)})(n,e)),Lk(n)&&Vk(n)}),KS.apply(this,arguments)}function Bk(n,e){return YS.apply(this,arguments)}function YS(){return YS=(0,ve.Z)(function*(n,e){const t=rt(n);t.asyncQueue.verifyOperationInProgress(),ne("RemoteStore","RemoteStore received new credentials");const r=_h(t);t.vu.add(3),yield l_(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield Mb(t)}),YS.apply(this,arguments)}function QS(n,e){return JS.apply(this,arguments)}function JS(){return JS=(0,ve.Z)(function*(n,e){const t=rt(n);e?(t.vu.delete(2),yield Mb(t)):e||(t.vu.add(2),yield l_(t),t.bu.set("Unknown"))}),JS.apply(this,arguments)}function d_(n){return n.Su||(n.Su=function(e,t,r){const i=rt(e);return i.fu(),new UB(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:qB.bind(null,n),ao:WB.bind(null,n),nu:ZB.bind(null,n)}),n.Ru.push(function(){var e=(0,ve.Z)(function*(t){t?(n.Su.Qo(),US(n)?BS(n):n.bu.set("Unknown")):(yield n.Su.stop(),Nk(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function yh(n){return n.Du||(n.Du=function(e,t,r){const i=rt(e);return i.fu(),new jB(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:QB.bind(null,n),ao:eU.bind(null,n),au:JB.bind(null,n),cu:XB.bind(null,n)}),n.Ru.push(function(){var e=(0,ve.Z)(function*(t){t?(n.Du.Qo(),yield u_(n)):(yield n.Du.stop(),n.Eu.length>0&&(ne("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class XS{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new oi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,t,r,i,a){const l=Date.now()+r,p=new XS(e,t,l,i,a);return p.start(r),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new xe(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function h_(n,e){if(ut("AsyncQueue",`${e}: ${n}`),sh(n))return new xe(de.UNAVAILABLE,`${e}: ${n}`);throw n}class f_{constructor(e){this.comparator=e?(t,r)=>e(t,r)||tt.comparator(t.key,r.key):(t,r)=>tt.comparator(t.key,r.key),this.keyedMap=ub(),this.sortedSet=new zn(this.comparator)}static emptySet(e){return new f_(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof f_)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new f_;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class Uk{constructor(){this.Cu=new zn(tt.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):je():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class p_{constructor(e,t,r,i,a,l,p,y,w){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=w}static fromInitialDocuments(e,t,r,i,a){const l=[];return t.forEach(p=>{l.push({type:0,doc:p})}),new p_(e,t,f_.emptySet(t),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cb(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class tU{constructor(){this.Nu=void 0,this.listeners=[]}}class nU{constructor(){this.queries=new Du(e=>sO(e),cb),this.onlineState="Unknown",this.ku=new Set}}function eM(n,e){return tM.apply(this,arguments)}function tM(){return tM=(0,ve.Z)(function*(n,e){const t=rt(n),r=e.query;let i=!1,a=t.queries.get(r);if(a||(i=!0,a=new tU),i)try{a.Nu=yield t.onListen(r)}catch(l){const p=h_(l,`Initialization of query '${XA(e.query)}' failed`);return void e.onError(p)}t.queries.set(r,a),a.listeners.push(e),e.Mu(t.onlineState),a.Nu&&e.$u(a.Nu)&&iM(t)}),tM.apply(this,arguments)}function nM(n,e){return rM.apply(this,arguments)}function rM(){return rM=(0,ve.Z)(function*(n,e){const t=rt(n),r=e.query;let i=!1;const a=t.queries.get(r);if(a){const l=a.listeners.indexOf(e);l>=0&&(a.listeners.splice(l,1),i=0===a.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),rM.apply(this,arguments)}function rU(n,e){const t=rt(n);let r=!1;for(const i of e){const l=t.queries.get(i.query);if(l){for(const p of l.listeners)p.$u(i)&&(r=!0);l.Nu=i}}r&&iM(t)}function iU(n,e,t){const r=rt(n),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(t);r.queries.delete(e)}function iM(n){n.ku.forEach(e=>{e.next()})}class sM{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new p_(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=p_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class sU{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class jk{constructor(e){this.serializer=e}rr(e){return hl(this.serializer,e)}ur(e){return e.metadata.exists?BO(this.serializer,e.document,!1):Xn.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return kr(e)}}class oU{constructor(e,t,r){this.ju=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=$k(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const r=gn.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,r=new jk(this.serializer);for(const i of e)if(i.metadata.queries){const a=r.rr(i.metadata.name);for(const l of i.metadata.queries){const p=(t.get(l)||Qt()).add(a);t.set(l,p)}}return t}complete(){var e=this;return(0,ve.Z)(function*(){const t=yield function kB(n,e,t,r){return AS.apply(this,arguments)}(e.localStore,new jk(e.serializer),e.documents,e.ju.id),r=e.Wu(e.documents);for(const i of e.queries)yield NB(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function $k(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class Hk{constructor(e){this.key=e}}class zk{constructor(e){this.key=e}}class Gk{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Qt(),this.mutatedKeys=Qt(),this.tc=aO(e),this.ec=new f_(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new Uk,i=t?t.ec:this.ec;let a=t?t.mutatedKeys:this.mutatedKeys,l=i,p=!1;const y="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,w="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((T,R)=>{const B=i.get(T),q=lb(this.query,R)?R:null,Q=!!B&&this.mutatedKeys.has(B.key),ce=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let _e=!1;B&&q?B.data.isEqual(q.data)?Q!==ce&&(r.track({type:3,doc:q}),_e=!0):this.rc(B,q)||(r.track({type:2,doc:q}),_e=!0,(y&&this.tc(q,y)>0||w&&this.tc(q,w)<0)&&(p=!0)):!B&&q?(r.track({type:0,doc:q}),_e=!0):B&&!q&&(r.track({type:1,doc:B}),_e=!0,(y||w)&&(p=!0)),_e&&(q?(l=l.add(q),a=ce?a.add(T):a.delete(T)):(l=l.delete(T),a=a.delete(T)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const T="F"===this.query.limitType?l.last():l.first();l=l.delete(T.key),a=a.delete(T.key),r.track({type:1,doc:T})}return{ec:l,ic:r,zi:p,mutatedKeys:a}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const a=e.ic.xu();a.sort((w,T)=>function(R,B){const q=Q=>{switch(Q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return je()}};return q(R)-q(B)}(w.type,T.type)||this.tc(w.doc,T.doc)),this.oc(r);const l=t?this.uc():[],p=0===this.Zu.size&&this.current?1:0,y=p!==this.Xu;return this.Xu=p,0!==a.length||y?{snapshot:new p_(this.query,e.ec,i,a,e.mutatedKeys,0===p,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:l}:{cc:l}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Uk,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Qt(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new zk(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new Hk(r))}),t}hc(e){this.Yu=e.ir,this.Zu=Qt();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return p_.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class aU{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class cU{constructor(e){this.key=e,this.fc=!1}}class lU{constructor(e,t,r,i,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.dc={},this.wc=new Du(p=>sO(p),cb),this._c=new Map,this.mc=new Set,this.gc=new zn(tt.comparator),this.yc=new Map,this.Ic=new vS,this.Tc={},this.Ec=new Map,this.Ac=Pp.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function uU(n,e){return oM.apply(this,arguments)}function oM(){return oM=(0,ve.Z)(function*(n,e){const t=MM(n);let r,i;const a=t.wc.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),i=a.view.lc();else{const l=yield a_(t.localStore,vs(e)),p=t.sharedClientState.addLocalQueryTarget(l.targetId);r=l.targetId,i=yield aM(t,e,r,"current"===p,l.resumeToken),t.isPrimaryClient&&WI(t.remoteStore,l)}return i}),oM.apply(this,arguments)}function aM(n,e,t,r,i){return cM.apply(this,arguments)}function cM(){return cM=(0,ve.Z)(function*(n,e,t,r,i){n.Rc=(R,B,q)=>{return(Q=(0,ve.Z)(function*(ce,_e,Ze,it){let at=_e.view.sc(Ze);at.zi&&(at=yield $I(ce.localStore,_e.query,!1).then(({documents:Wt})=>_e.view.sc(Wt,at)));const gt=it&&it.targetChanges.get(_e.targetId),Vt=_e.view.applyChanges(at,ce.isPrimaryClient,gt);return yM(ce,_e.targetId,Vt.cc),Vt.snapshot}),function(ce,_e,Ze,it){return Q.apply(this,arguments)})(n,R,B,q);var Q};const a=yield $I(n.localStore,e,!0),l=new Gk(e,a.ir),p=l.sc(a.documents),y=gb.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),w=l.applyChanges(p,n.isPrimaryClient,y);yM(n,t,w.cc);const T=new aU(e,t,l);return n.wc.set(e,T),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),w.snapshot}),cM.apply(this,arguments)}function dU(n,e){return lM.apply(this,arguments)}function lM(){return lM=(0,ve.Z)(function*(n,e){const t=rt(n),r=t.wc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(a=>!cb(a,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield c_(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),xb(t.remoteStore,r.targetId),m_(t,r.targetId)}).catch(ih))):(m_(t,r.targetId),yield c_(t.localStore,r.targetId,!0))}),lM.apply(this,arguments)}function uM(){return uM=(0,ve.Z)(function*(n,e,t){const r=xM(n);try{const i=yield function(a,l){const p=rt(a),y=cr.now(),w=l.reduce((B,q)=>B.add(q.key),Qt());let T,R;return p.persistence.runTransaction("Locally write mutations","readwrite",B=>{let q=js(),Q=Qt();return p.Zi.getEntries(B,w).next(ce=>{q=ce,q.forEach((_e,Ze)=>{Ze.isValidDocument()||(Q=Q.add(_e))})}).next(()=>p.localDocuments.getOverlayedDocuments(B,q)).next(ce=>{T=ce;const _e=[];for(const Ze of l){const it=jV(Ze,T.get(Ze.key).overlayedDocument);null!=it&&_e.push(new Cu(Ze.key,it,G1(it.value.mapValue),lr.exists(!0)))}return p.mutationQueue.addMutationBatch(B,y,_e,l)}).next(ce=>{R=ce;const _e=ce.applyToLocalDocumentSet(T,Q);return p.documentOverlayCache.saveOverlays(B,ce.batchId,_e)})}).then(()=>({batchId:R.batchId,changes:lO(T)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,l,p){let y=a.Tc[a.currentUser.toKey()];y||(y=new zn(qt)),y=y.insert(l,p),a.Tc[a.currentUser.toKey()]=y}(r,i.batchId,t),yield Au(r,i.changes),yield u_(r.remoteStore)}catch(i){const a=h_(i,"Failed to persist write");t.reject(a)}}),uM.apply(this,arguments)}function qk(n,e){return dM.apply(this,arguments)}function dM(){return dM=(0,ve.Z)(function*(n,e){const t=rt(n);try{const r=yield function PB(n,e){const t=rt(n),r=e.snapshotVersion;let i=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=t.Zi.newChangeBuffer({trackRemovals:!0});i=t.Ji;const p=[];e.targetChanges.forEach((T,R)=>{const B=i.get(R);if(!B)return;p.push(t.Bs.removeMatchingKeys(a,T.removedDocuments,R).next(()=>t.Bs.addMatchingKeys(a,T.addedDocuments,R)));let q=B.withSequenceNumber(a.currentSequenceNumber);var Q,ce,_e;null!==e.targetMismatches.get(R)?q=q.withResumeToken(ai.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):T.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(T.resumeToken,r)),i=i.insert(R,q),ce=q,_e=T,(0===(Q=B).resumeToken.approximateByteSize()||ce.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=3e8||_e.addedDocuments.size+_e.modifiedDocuments.size+_e.removedDocuments.size>0)&&p.push(t.Bs.updateTargetData(a,q))});let y=js(),w=Qt();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(a,T))}),p.push(Dk(a,l,e.documentUpdates).next(T=>{y=T.nr,w=T.sr})),!r.isEqual(Tt.min())){const T=t.Bs.getLastRemoteSnapshotVersion(a).next(R=>t.Bs.setTargetsMetadata(a,a.currentSequenceNumber,r));p.push(T)}return se.waitFor(p).next(()=>l.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,y,w)).next(()=>y)}).then(a=>(t.Ji=i,a))}(t.localStore,e);e.targetChanges.forEach((i,a)=>{const l=t.yc.get(a);l&&(Xe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.fc=!0:i.modifiedDocuments.size>0?Xe(l.fc):i.removedDocuments.size>0&&(Xe(l.fc),l.fc=!1))}),yield Au(t,r,e)}catch(r){yield ih(r)}}),dM.apply(this,arguments)}function Wk(n,e,t){const r=rt(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.wc.forEach((a,l)=>{const p=l.view.Mu(e);p.snapshot&&i.push(p.snapshot)}),function(a,l){const p=rt(a);p.onlineState=l;let y=!1;p.queries.forEach((w,T)=>{for(const R of T.listeners)R.Mu(l)&&(y=!0)}),y&&iM(p)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function fU(n,e,t){return hM.apply(this,arguments)}function hM(){return hM=(0,ve.Z)(function*(n,e,t){const r=rt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.yc.get(e),a=i&&i.key;if(a){let l=new zn(tt.comparator);l=l.insert(a,Xn.newNoDocument(a,Tt.min()));const p=Qt().add(a),y=new mb(Tt.min(),new Map,new zn(qt),l,p);yield qk(r,y),r.gc=r.gc.remove(a),r.yc.delete(e),vM(r)}else yield c_(r.localStore,e,!1).then(()=>m_(r,e,t)).catch(ih)}),hM.apply(this,arguments)}function pU(n,e){return fM.apply(this,arguments)}function fM(){return fM=(0,ve.Z)(function*(n,e){const t=rt(n),r=e.batch.batchId;try{const i=yield function RB(n,e){const t=rt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.Zi.newChangeBuffer({trackRemovals:!0});return function(l,p,y,w){const T=y.batch,R=T.keys();let B=se.resolve();return R.forEach(q=>{B=B.next(()=>w.getEntry(p,q)).next(Q=>{const ce=y.docVersions.get(q);Xe(null!==ce),Q.version.compareTo(ce)<0&&(T.applyToRemoteDocument(Q,y),Q.isValidDocument()&&(Q.setReadTime(y.commitVersion),w.addEntry(Q)))})}),B.next(()=>l.mutationQueue.removeMutationBatch(p,T))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let p=Qt();for(let y=0;y<l.mutationResults.length;++y)l.mutationResults[y].transformResults.length>0&&(p=p.add(l.batch.mutations[y].key));return p}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);_M(t,r,null),gM(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Au(t,i)}catch(i){yield ih(i)}}),fM.apply(this,arguments)}function mU(n,e,t){return pM.apply(this,arguments)}function pM(){return pM=(0,ve.Z)(function*(n,e,t){const r=rt(n);try{const i=yield function(a,l){const p=rt(a);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let w;return p.mutationQueue.lookupMutationBatch(y,l).next(T=>(Xe(null!==T),w=T.keys(),p.mutationQueue.removeMutationBatch(y,T))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,w,l)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,w)).next(()=>p.localDocuments.getDocuments(y,w))})}(r.localStore,e);_M(r,e,t),gM(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Au(r,i)}catch(i){yield ih(i)}}),pM.apply(this,arguments)}function mM(){return mM=(0,ve.Z)(function*(n,e){const t=rt(n);_h(t.remoteStore)||ne("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(a){const l=rt(a);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",p=>l.mutationQueue.getHighestUnacknowledgedBatchId(p))}(t.localStore);if(-1===r)return void e.resolve();const i=t.Ec.get(r)||[];i.push(e),t.Ec.set(r,i)}catch(r){const i=h_(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),mM.apply(this,arguments)}function gM(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function _M(n,e,t){const r=rt(n);let i=r.Tc[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function m_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||Zk(n,r)})}function Zk(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(xb(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),vM(n))}function yM(n,e,t){for(const r of t)r instanceof Hk?(n.Ic.addReference(r.key,e),_U(n,r)):r instanceof zk?(ne("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||Zk(n,r.key)):je()}function _U(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(ne("SyncEngine","New document in limbo: "+t),n.mc.add(r),vM(n))}function vM(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new tt(gn.fromString(e)),r=n.Ac.next();n.yc.set(r,new cU(t)),n.gc=n.gc.insert(t,r),WI(n.remoteStore,new Tu(vs(Jg(t.path)),r,"TargetPurposeLimboResolution",Ao.ct))}}function Au(n,e,t){return bM.apply(this,arguments)}function bM(){return bM=(0,ve.Z)(function*(n,e,t){const r=rt(n),i=[],a=[],l=[];var p;r.wc.isEmpty()||(r.wc.forEach((p,y)=>{l.push(r.Rc(y,e,t).then(w=>{if((w||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(y.targetId,w?.fromCache?"not-current":"current"),w){i.push(w);const T=DS.Li(y.targetId,w);a.push(T)}}))}),yield Promise.all(l),r.dc.nu(i),yield(p=(0,ve.Z)(function*(y,w){const T=rt(y);try{yield T.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>se.forEach(w,B=>se.forEach(B.Fi,q=>T.persistence.referenceDelegate.addReference(R,B.targetId,q)).next(()=>se.forEach(B.Bi,q=>T.persistence.referenceDelegate.removeReference(R,B.targetId,q)))))}catch(R){if(!sh(R))throw R;ne("LocalStore","Failed to update sequence numbers: "+R)}for(const R of w){const B=R.targetId;if(!R.fromCache){const q=T.Ji.get(B),ce=q.withLastLimboFreeSnapshotVersion(q.snapshotVersion);T.Ji=T.Ji.insert(B,ce)}}}),function(y,w){return p.apply(this,arguments)})(r.localStore,a))}),bM.apply(this,arguments)}function yU(n,e){return EM.apply(this,arguments)}function EM(){return EM=(0,ve.Z)(function*(n,e){const t=rt(n);if(!t.currentUser.isEqual(e)){ne("SyncEngine","User change. New user:",e.toKey());const r=yield wk(t.localStore,e);t.currentUser=e,(i=t).Ec.forEach(l=>{l.forEach(p=>{p.reject(new xe(de.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Au(t,r.er)}var i}),EM.apply(this,arguments)}function vU(n,e){const t=rt(n),r=t.yc.get(e);if(r&&r.fc)return Qt().add(r.key);{let i=Qt();const a=t._c.get(e);if(!a)return i;for(const l of a){const p=t.wc.get(l);i=i.unionWith(p.view.nc)}return i}}function bU(n,e){return wM.apply(this,arguments)}function wM(){return wM=(0,ve.Z)(function*(n,e){const t=rt(n),r=yield $I(t.localStore,e.query,!0),i=e.view.hc(r);return t.isPrimaryClient&&yM(t,e.targetId,i.cc),i}),wM.apply(this,arguments)}function EU(n,e){return IM.apply(this,arguments)}function IM(){return IM=(0,ve.Z)(function*(n,e){const t=rt(n);return Tk(t.localStore,e).then(r=>Au(t,r))}),IM.apply(this,arguments)}function wU(n,e,t,r){return DM.apply(this,arguments)}function DM(){return DM=(0,ve.Z)(function*(n,e,t,r){const i=rt(n),a=yield function(l,p){const y=rt(l),w=rt(y.mutationQueue);return y.persistence.runTransaction("Lookup mutation documents","readonly",T=>w.Sn(T,p).next(R=>R?y.localDocuments.getDocuments(T,R):se.resolve(null)))}(i.localStore,e);var p;null!==a?("pending"===t?yield u_(i.remoteStore):"acknowledged"===t||"rejected"===t?(_M(i,e,r||null),gM(i,e),p=e,rt(rt(i.localStore).mutationQueue).Cn(p)):je(),yield Au(i,a)):ne("SyncEngine","Cannot apply mutation batch with id: "+e)}),DM.apply(this,arguments)}function CM(){return CM=(0,ve.Z)(function*(n,e){const t=rt(n);if(MM(t),xM(t),!0===e&&!0!==t.vc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield Kk(t,r.toArray());t.vc=!0,yield QS(t.remoteStore,!0);for(const a of i)WI(t.remoteStore,a)}else if(!1===e&&!1!==t.vc){const r=[];let i=Promise.resolve();t._c.forEach((a,l)=>{t.sharedClientState.isLocalQueryTarget(l)?r.push(l):i=i.then(()=>(m_(t,l),c_(t.localStore,l,!0))),xb(t.remoteStore,l)}),yield i,yield Kk(t,r),function(a){const l=rt(a);l.yc.forEach((p,y)=>{xb(l.remoteStore,y)}),l.Ic.Ts(),l.yc=new Map,l.gc=new zn(tt.comparator)}(t),t.vc=!1,yield QS(t.remoteStore,!1)}}),CM.apply(this,arguments)}function Kk(n,e,t){return TM.apply(this,arguments)}function TM(){return TM=(0,ve.Z)(function*(n,e,t){const r=rt(n),i=[],a=[];for(const l of e){let p;const y=r._c.get(l);if(y&&0!==y.length){p=yield a_(r.localStore,vs(y[0]));for(const w of y){const T=r.wc.get(w),R=yield bU(r,T);R.snapshot&&a.push(R.snapshot)}}else{const w=yield Ck(r.localStore,l);p=yield a_(r.localStore,w),yield aM(r,Yk(w),l,!1,p.resumeToken)}i.push(p)}return r.dc.nu(a),i}),TM.apply(this,arguments)}function Yk(n){return rO(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function DU(n){const e=rt(n);return rt(rt(e.localStore).persistence).$i()}function CU(n,e,t,r){return AM.apply(this,arguments)}function AM(){return AM=(0,ve.Z)(function*(n,e,t,r){const i=rt(n);if(i.vc)return void ne("SyncEngine","Ignoring unexpected query state notification.");const a=i._c.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const l=yield Tk(i.localStore,oO(a[0])),p=mb.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,ai.EMPTY_BYTE_STRING);yield Au(i,l,p);break}case"rejected":yield c_(i.localStore,e,!0),m_(i,e,r);break;default:je()}}),AM.apply(this,arguments)}function TU(n,e,t){return SM.apply(this,arguments)}function SM(){return SM=(0,ve.Z)(function*(n,e,t){const r=MM(n);if(r.vc){for(const i of e){if(r._c.has(i)){ne("SyncEngine","Adding an already active target "+i);continue}const a=yield Ck(r.localStore,i),l=yield a_(r.localStore,a);yield aM(r,Yk(a),l.targetId,!1,l.resumeToken),WI(r.remoteStore,l)}for(const i of t)r._c.has(i)&&(yield c_(r.localStore,i,!1).then(()=>{xb(r.remoteStore,i),m_(r,i)}).catch(ih))}}),SM.apply(this,arguments)}function MM(n){const e=rt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=qk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fU.bind(null,e),e.dc.nu=rU.bind(null,e.eventManager),e.dc.Pc=iU.bind(null,e.eventManager),e}function xM(n){const e=rt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mU.bind(null,e),e}class Rb{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ve.Z)(function*(){t.serializer=Sb(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Ek(this.persistence,new bk,e.initialUser,this.serializer)}createPersistence(e){return new bS(BI.zs,this.serializer)}createSharedClientState(e){return new xk}terminate(){var e=this;return(0,ve.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class RM extends Rb{constructor(e,t,r){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,ve.Z)(function*(){yield t().call(r,e),yield r.Vc.initialize(r,e),yield xM(r.Vc.syncEngine),yield u_(r.Vc.remoteStore),yield r.persistence.Ii(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return Ek(this.persistence,new bk,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new dk(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new X2(t,this.persistence);return new J2(e.asyncQueue,r)}createPersistence(e){const t=IS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Xi.withCacheSize(this.cacheSizeBytes):Xi.DEFAULT;return new wS(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,Pk(),qI(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new xk}}class Qk extends RM{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,ve.Z)(function*(){yield t().call(r,e);const i=r.Vc.syncEngine;r.sharedClientState instanceof PS&&(r.sharedClientState.syncEngine={jr:wU.bind(null,i),zr:CU.bind(null,i),Wr:TU.bind(null,i),$i:DU.bind(null,i),Qr:EU.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Ii(function(){var a=(0,ve.Z)(function*(l){yield function IU(n,e){return CM.apply(this,arguments)}(r.Vc.syncEngine,l),r.gcScheduler&&(l&&!r.gcScheduler.started?r.gcScheduler.start():l||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(l&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():l||r.indexBackfillerScheduler.stop())});return function(l){return a.apply(this,arguments)}}())})()}createSharedClientState(e){const t=Pk();if(!PS.D(t))throw new xe(de.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=IS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new PS(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class g_{initialize(e,t){var r=this;return(0,ve.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>Wk(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=yU.bind(null,r.syncEngine),yield QS(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new nU}createDatastore(e){const t=Sb(e.databaseInfo.databaseId),r=new BB(e.databaseInfo);return new $B(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,a=p=>Wk(this.syncEngine,p,0),l=Rk.D()?new Rk:new FB,new GB(t,r,i,a,l);var t,r,i,a,l}createSyncEngine(e,t){return function(r,i,a,l,p,y,w){const T=new lU(r,i,a,l,p,y);return w&&(T.vc=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ve.Z)(function*(t){const r=rt(t);ne("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield l_(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Jk(n,e=10240){let t=0;return{read:()=>(0,ve.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,ve.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class KI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):ut("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class MU{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new oi,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(r=>{r&&r.Qu()?this.metadata.resolve(r.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Gu)}`))},r=>this.metadata.reject(r))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,ve.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,ve.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,ve.Z)(function*(){const t=yield e.kc();if(null===t)return null;const r=e.xc.decode(t),i=Number(r);isNaN(i)&&e.Mc(`length string (${r}) is not valid number`);const a=yield e.$c(i);return new sU(JSON.parse(a),t.length+i)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,ve.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}$c(e){var t=this;return(0,ve.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const r=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,ve.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class xU{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ve.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new xe(de.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,ve.Z)(function*(a,l){const p=rt(a),y=yb(p.serializer)+"/documents",w={documents:l.map(q=>_b(p.serializer,q))},T=yield p.vo("BatchGetDocuments",y,w,l.length),R=new Map;T.forEach(q=>{const Q=function QV(n,e){return"found"in e?function(t,r){Xe(!!r.found);const i=hl(t,r.found.name),a=kr(r.found.updateTime),l=r.found.createTime?kr(r.found.createTime):Tt.min(),p=new ki({mapValue:{fields:r.found.fields}});return Xn.newFoundDocument(i,a,l,p)}(n,e):"missing"in e?function(t,r){Xe(!!r.missing),Xe(!!r.readTime);const i=hl(t,r.missing),a=kr(r.readTime);return Xn.newNoDocument(i,a)}(n,e):je()}(p.serializer,q);R.set(Q.key.toString(),Q)});const B=[];return l.forEach(q=>{const Q=R.get(q.toString());Xe(!!Q),B.push(Q)}),B}),function(a,l){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new n_(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ve.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const a=tt.fromPath(i);e.mutations.push(new tS(a,e.precondition(a)))}),yield(r=(0,ve.Z)(function*(i,a){const l=rt(i),p=yb(l.serializer)+"/documents",y={writes:a.map(w=>vb(l.serializer,w))};yield l.Io("Commit",p,y)}),function(i,a){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw je();t=Tt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new xe(de.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Tt.min())?lr.exists(!1):lr.updateTime(t):lr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Tt.min()))throw new xe(de.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return lr.updateTime(t)}return lr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class RU{constructor(e,t,r,i,a){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=a,this.Bc=r.maxAttempts,this.qo=new kS(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,ve.Z)(function*(){const t=new xU(e.datastore),r=e.qc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(a=>{e.Uc(a)}))}).catch(i=>{e.Uc(i)})}))}qc(e){try{const t=this.updateFunction(e);return!tb(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!DO(t)}return!1}}class PU{constructor(e,t,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=$.UNAUTHENTICATED,this.clientId=E1.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var l=(0,ve.Z)(function*(p){ne("FirestoreClient","Received user=",p.uid),yield a.authCredentialListener(p),a.user=p});return function(p){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(r,l=>(ne("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,ve.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new xe(de.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new oi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ve.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=h_(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function YI(n,e){return PM.apply(this,arguments)}function PM(){return PM=(0,ve.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),ne("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,ve.Z)(function*(a){r.isEqual(a)||(yield wk(e.localStore,a),r=a)});return function(a){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),PM.apply(this,arguments)}function OM(n,e){return kM.apply(this,arguments)}function kM(){return kM=(0,ve.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield NM(n);ne("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>Bk(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>Bk(e.remoteStore,a)),n._onlineComponents=e}),kM.apply(this,arguments)}function Xk(n){return"FirebaseError"===n.name?n.code===de.FAILED_PRECONDITION||n.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function NM(n){return FM.apply(this,arguments)}function FM(){return FM=(0,ve.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ne("FirestoreClient","Using user provided OfflineComponentProvider");try{yield YI(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!Xk(t))throw t;Ae("Error using user provided cache. Falling back to memory cache: "+t),yield YI(n,new Rb)}}else ne("FirestoreClient","Using default OfflineComponentProvider"),yield YI(n,new Rb);return n._offlineComponents}),FM.apply(this,arguments)}function QI(n){return LM.apply(this,arguments)}function LM(){return LM=(0,ve.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ne("FirestoreClient","Using user provided OnlineComponentProvider"),yield OM(n,n._uninitializedComponentsProvider._online)):(ne("FirestoreClient","Using default OnlineComponentProvider"),yield OM(n,new g_))),n._onlineComponents}),LM.apply(this,arguments)}function eN(n){return NM(n).then(e=>e.persistence)}function JI(n){return NM(n).then(e=>e.localStore)}function tN(n){return QI(n).then(e=>e.remoteStore)}function VM(n){return QI(n).then(e=>e.syncEngine)}function __(n){return BM.apply(this,arguments)}function BM(){return BM=(0,ve.Z)(function*(n){const e=yield QI(n),t=e.eventManager;return t.onListen=uU.bind(null,e.syncEngine),t.onUnlisten=dU.bind(null,e.syncEngine),t}),BM.apply(this,arguments)}function rN(n,e,t={}){const r=new oi;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(i,a,l,p,y){const w=new KI({next:R=>{a.enqueueAndForget(()=>nM(i,T));const B=R.docs.has(l);!B&&R.fromCache?y.reject(new xe(de.UNAVAILABLE,"Failed to get document because the client is offline.")):B&&R.fromCache&&p&&"server"===p.source?y.reject(new xe(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(R)},error:R=>y.reject(R)}),T=new sM(Jg(l.path),w,{includeMetadataChanges:!0,Ku:!0});return eM(i,T)}(yield __(n),n.asyncQueue,e,t,r)})),r.promise}function iN(n,e,t={}){const r=new oi;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(i,a,l,p,y){const w=new KI({next:R=>{a.enqueueAndForget(()=>nM(i,T)),R.fromCache&&"server"===p.source?y.reject(new xe(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(R)},error:R=>y.reject(R)}),T=new sM(l,w,{includeMetadataChanges:!0,Ku:!0});return eM(i,T)}(yield __(n),n.asyncQueue,e,t,r)})),r.promise}function sN(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const oN=new Map;function UM(n,e,t){if(!t)throw new xe(de.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function aN(n,e,t,r){if(!0===e&&!0===r)throw new xe(de.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function cN(n){if(!tt.isDocumentKey(n))throw new xe(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function lN(n){if(tt.isDocumentKey(n))throw new xe(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function XI(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":je()}function un(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new xe(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=XI(n);throw new xe(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function uN(n,e){if(e<=0)throw new xe(de.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class dN{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new xe(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new xe(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}aN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=sN(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new xe(de.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new xe(de.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new xe(de.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Pb{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dN({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new xe(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new xe(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dN(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new U2;switch(t.type){case"firstParty":return new z2(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new xe(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=oN.get(e);t&&(ne("ComponentProvider","Removing Datastore"),oN.delete(e),t.terminate())}(this),Promise.resolve()}}class er{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new er(this.firestore,e,this._key)}}class Ni{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ni(this.firestore,e,this._query)}}class fl extends Ni{constructor(e,t,r){super(e,t,Jg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new er(this.firestore,null,new tt(e))}withConverter(e){return new fl(this.firestore,e,this._path)}}function fN(n,e,...t){if(n=(0,hn.m9)(n),UM("collection","path",e),n instanceof Pb){const r=gn.fromString(e,...t);return lN(r),new fl(n,null,r)}{if(!(n instanceof er||n instanceof fl))throw new xe(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(gn.fromString(e,...t));return lN(r),new fl(n.firestore,null,r)}}function eD(n,e,...t){if(n=(0,hn.m9)(n),1===arguments.length&&(e=E1.A()),UM("doc","path",e),n instanceof Pb){const r=gn.fromString(e,...t);return cN(r),new er(n,null,new tt(r))}{if(!(n instanceof er||n instanceof fl))throw new xe(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(gn.fromString(e,...t));return cN(r),new er(n.firestore,n instanceof fl?n.converter:null,new tt(r))}}function pN(n,e){return n=(0,hn.m9)(n),e=(0,hn.m9)(e),(n instanceof er||n instanceof fl)&&(e instanceof er||e instanceof fl)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function jM(n,e){return n=(0,hn.m9)(n),e=(0,hn.m9)(e),n instanceof Ni&&e instanceof Ni&&n.firestore===e.firestore&&cb(n._query,e._query)&&n.converter===e.converter}class $U{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new kS(this,"async_queue_retry"),this.Xc=()=>{const t=qI();t&&ne("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=qI();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=qI();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new oi;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,ve.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!sh(t))throw t;ne("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,ut("INTERNAL UNHANDLED ERROR: ",function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),l}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=XS.createAndSchedule(this,e,t,r,a=>this.na(a));return this.zc.push(i),i}Zc(){this.Wc&&je()}verifyOperationInProgress(){}sa(){var e=this;return(0,ve.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function $M(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class HU{constructor(){this._progressObserver={},this._taskCompletionResolver=new oi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class tr extends Pb{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new $U,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||mN(this),this._firestoreClient.terminate()}}function Nr(n){return n._firestoreClient||mN(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function mN(n){var e,t,r;const i=n._freezeSettings(),a=(p=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new bV(n._databaseId,p,n._persistenceKey,(w=i).host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,sN(w.experimentalLongPollingOptions),w.useFetchStreams));var p,w;n._firestoreClient=new PU(n._authCredentials,n._appCheckCredentials,n._queue,a),null!==(t=i.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function gN(n,e,t){const r=new oi;return n.asyncQueue.enqueue((0,ve.Z)(function*(){try{yield YI(n,t),yield OM(n,e),r.resolve()}catch(i){const a=i;if(!Xk(a))throw a;Ae("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a)}})).then(()=>r.promise)}function _N(n){if(n._initialized||n._terminated)throw new xe(de.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class pl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pl(ai.fromBase64String(e))}catch(t){throw new xe(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new pl(ai.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Su{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new xe(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class kp{constructor(e){this._methodName=e}}class tD{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new xe(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new xe(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qt(this._lat,e._lat)||qt(this._long,e._long)}}const ej=/^__.*__$/;class tj{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Cu(e,this.data,this.fieldMask,t,this.fieldTransforms):new t_(e,this.data,t,this.fieldTransforms)}}class yN{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Cu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function vN(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw je()}}class nD{constructor(e,t,r,i,a,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ua(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new nD(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return sD(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(vN(this.ca)&&ej.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class nj{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Sb(e)}ya(e,t,r,i=!1){return new nD({ca:e,methodName:t,ga:r,path:Dr.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Np(n){const e=n._freezeSettings(),t=Sb(n._databaseId);return new nj(n._databaseId,!!e.ignoreUndefinedProperties,t)}function rD(n,e,t,r,i,a={}){const l=n.ya(a.merge||a.mergeFields?2:0,e,t,i);qM("Data must be an object, but it was:",l,r);const p=wN(r,l);let y,w;if(a.merge)y=new Us(l.fieldMask),w=l.fieldTransforms;else if(a.mergeFields){const T=[];for(const R of a.mergeFields){const B=Nb(e,R,t);if(!l.contains(B))throw new xe(de.INVALID_ARGUMENT,`Field '${B}' is specified in your field mask but missing from your input data.`);DN(T,B)||T.push(B)}y=new Us(T),w=l.fieldTransforms.filter(R=>y.covers(R.field))}else y=null,w=l.fieldTransforms;return new tj(new ki(p),y,w)}class kb extends kp{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof kb}}function bN(n,e,t){return new nD({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class HM extends kp{_toFieldTransform(e){return new hb(e.path,new Xg)}isEqual(e){return e instanceof HM}}class rj extends kp{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=bN(this,e,!0),r=this.pa.map(a=>Fp(a,t)),i=new Cp(r);return new hb(e.path,i)}isEqual(e){return this===e}}class ij extends kp{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=bN(this,e,!0),r=this.pa.map(a=>Fp(a,t)),i=new Tp(r);return new hb(e.path,i)}isEqual(e){return this===e}}class sj extends kp{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new e_(e.serializer,fO(e.serializer,this.Ia));return new hb(e.path,t)}isEqual(e){return this===e}}function zM(n,e,t,r){const i=n.ya(1,e,t);qM("Data must be an object, but it was:",i,r);const a=[],l=ki.empty();oh(r,(y,w)=>{const T=iD(e,y,t);w=(0,hn.m9)(w);const R=i.da(T);if(w instanceof kb)a.push(T);else{const B=Fp(w,R);null!=B&&(a.push(T),l.set(T,B))}});const p=new Us(a);return new yN(l,p,i.fieldTransforms)}function GM(n,e,t,r,i,a){const l=n.ya(1,e,t),p=[Nb(e,r,t)],y=[i];if(a.length%2!=0)throw new xe(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let B=0;B<a.length;B+=2)p.push(Nb(e,a[B])),y.push(a[B+1]);const w=[],T=ki.empty();for(let B=p.length-1;B>=0;--B)if(!DN(w,p[B])){const q=p[B];let Q=y[B];Q=(0,hn.m9)(Q);const ce=l.da(q);if(Q instanceof kb)w.push(q);else{const _e=Fp(Q,ce);null!=_e&&(w.push(q),T.set(q,_e))}}const R=new Us(w);return new yN(T,R,l.fieldTransforms)}function EN(n,e,t,r=!1){return Fp(t,n.ya(r?4:3,e))}function Fp(n,e){if(IN(n=(0,hn.m9)(n)))return qM("Unsupported field value:",e,n),wN(n,e);if(n instanceof kp)return function(t,r){if(!vN(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let a=0;for(const l of t){let p=Fp(l,r.wa(a));null==p&&(p={nullValue:"NULL_VALUE"}),i.push(p),a++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,hn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return fO(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=cr.fromDate(t);return{timestampValue:r_(r.serializer,i)}}if(t instanceof cr){const i=new cr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:r_(r.serializer,i)}}if(t instanceof tD)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof pl)return{bytesValue:kO(r.serializer,t._byteString)};if(t instanceof er){const i=r.databaseId,a=t.firestore._databaseId;if(!a.isEqual(i))throw r._a(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:cS(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${XI(t)}`)}(n,e)}function wN(n,e){const t={};return F1(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):oh(n,(r,i)=>{const a=Fp(i,e.ha(r));null!=a&&(t[r]=a)}),{mapValue:{fields:t}}}function IN(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof cr||n instanceof tD||n instanceof pl||n instanceof er||n instanceof kp)}function qM(n,e,t){if(!IN(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=XI(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function Nb(n,e,t){if((e=(0,hn.m9)(e))instanceof Su)return e._internalPath;if("string"==typeof e)return iD(n,e);throw sD("Field path arguments must be of type string or ",n,!1,void 0,t)}const oj=new RegExp("[~\\*/\\[\\]]");function iD(n,e,t){if(e.search(oj)>=0)throw sD(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Su(...e.split("."))._internalPath}catch{throw sD(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function sD(n,e,t,r,i){const a=r&&!r.isEmpty(),l=void 0!==i;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(a||l)&&(y+=" (found",a&&(y+=` in field ${r}`),l&&(y+=` in document ${i}`),y+=")"),new xe(de.INVALID_ARGUMENT,p+n+y)}function DN(n,e){return n.some(t=>t.isEqual(e))}class Fb{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new er(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new aj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(oD("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class aj extends Fb{data(){return super.data()}}function oD(n,e){return"string"==typeof e?iD(n,e):e instanceof Su?e._internalPath:e._delegate._internalPath}function CN(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new xe(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class WM{}class Lb extends WM{}function vh(n,e,...t){let r=[];e instanceof WM&&r.push(e),r=r.concat(t),function(i){const a=i.filter(p=>p instanceof y_).length,l=i.filter(p=>p instanceof Vb).length;if(a>1||a>0&&l>0)throw new xe(de.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class Vb extends Lb{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Vb(e,t,r)}_apply(e){const t=this._parse(e);return MN(e._query,t),new Ni(e.firestore,e.converter,JA(e._query,t))}_parse(e){const t=Np(e.firestore);return function(i,a,l,p,y,w,T){let R;if(y.isKeyField()){if("array-contains"===w||"array-contains-any"===w)throw new xe(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if("in"===w||"not-in"===w){SN(T,w);const B=[];for(const q of T)B.push(AN(p,i,q));R={arrayValue:{values:B}}}else R=AN(p,i,T)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||SN(T,w),R=EN(l,"where",T,"in"===w||"not-in"===w);return ln.create(y,w,R)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class y_ extends WM{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new y_(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:Pn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let a=r;const l=i.getFlattenedFilters();for(const p of l)MN(a,p),a=JA(a,p)}(e._query,t),new Ni(e.firestore,e.converter,JA(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class ZM extends Lb{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ZM(e,t)}_apply(e){const t=function(r,i,a){if(null!==r.startAt)throw new xe(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new xe(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const l=new Yg(i,a);return function(p,y){if(null===YA(p)){const w=DI(p);null!==w&&xN(0,w,y.field)}}(r,l),l}(e._query,this._field,this._direction);return new Ni(e.firestore,e.converter,function(r,i){const a=r.explicitOrderBy.concat([i]);return new Iu(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class aD extends Lb{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new aD(e,t,r)}_apply(e){return new Ni(e.firestore,e.converter,CI(e._query,this._limit,this._limitType))}}class cD extends Lb{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new cD(e,t,r)}_apply(e){const t=TN(e,this.type,this._docOrFields,this._inclusive);return new Ni(e.firestore,e.converter,(i=t,new Iu((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class lD extends Lb{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new lD(e,t,r)}_apply(e){const t=TN(e,this.type,this._docOrFields,this._inclusive);return new Ni(e.firestore,e.converter,(i=t,new Iu((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function TN(n,e,t,r){if(t[0]=(0,hn.m9)(t[0]),t[0]instanceof Fb)return function(i,a,l,p,y){if(!p)throw new xe(de.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const w=[];for(const T of Dp(i))if(T.field.isKeyField())w.push(wp(a,p.key));else{const R=p.data.field(T.field);if(_I(R))throw new xe(de.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===R){const B=T.field.canonicalString();throw new xe(de.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${B}' (used as the orderBy) does not exist.`)}w.push(R)}return new hh(w,y)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Np(n.firestore);return function(a,l,p,y,w,T){const R=a.explicitOrderBy;if(w.length>R.length)throw new xe(de.INVALID_ARGUMENT,`Too many arguments provided to ${y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const B=[];for(let q=0;q<w.length;q++){const Q=w[q];if(R[q].field.isKeyField()){if("string"!=typeof Q)throw new xe(de.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${y}(), but got a ${typeof Q}`);if(!QA(a)&&-1!==Q.indexOf("/"))throw new xe(de.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${y}() must be a plain document ID, but '${Q}' contains a slash.`);const ce=a.path.child(gn.fromString(Q));if(!tt.isDocumentKey(ce))throw new xe(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${y}() must result in a valid document path, but '${ce}' is not because it contains an odd number of segments.`);const _e=new tt(ce);B.push(wp(l,_e))}else{const ce=EN(p,y,Q);B.push(ce)}}return new hh(B,T)}(n._query,n.firestore._databaseId,i,e,t,r)}}function AN(n,e,t){if("string"==typeof(t=(0,hn.m9)(t))){if(""===t)throw new xe(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!QA(e)&&-1!==t.indexOf("/"))throw new xe(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(gn.fromString(t));if(!tt.isDocumentKey(r))throw new xe(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return wp(n,new tt(r))}if(t instanceof er)return wp(n,t._key);throw new xe(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${XI(t)}.`)}function SN(n,e){if(!Array.isArray(n)||0===n.length)throw new xe(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function MN(n,e){if(e.isInequality()){const r=DI(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new xe(de.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const a=YA(n);null!==a&&xN(0,i,a)}const t=function(r,i){for(const a of r)for(const l of a.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new xe(de.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function xN(n,e,t){if(!t.isEqual(e))throw new xe(de.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class KM{convertValue(e,t="none"){switch(uh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Cr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(wu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw je()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return oh(e,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new tD(Cr(e.latitude),Cr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=yI(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(rb(e));default:return null}}convertTimestamp(e){const t=ah(e);return new cr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=gn.fromString(e);Xe(zO(r));const i=new ch(r.get(1),r.get(3)),a=new tt(r.popFirst(5));return i.isEqual(t)||ut(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function uD(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class gj extends KM{constructor(e){super(),this.firestore=e}convertBytes(e){return new pl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new er(this.firestore,null,t)}}class Lp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Mu extends Fb{constructor(e,t,r,i,a,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Bb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(oD("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Bb extends Mu{data(e={}){return super.data(e)}}class bh{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Lp(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Bb(this._firestore,this._userDataWriter,r.key,r,new Lp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new xe(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(l=>({type:"added",doc:new Bb(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Lp(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>i||3!==l.type).map(l=>{const p=new Bb(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Lp(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let y=-1,w=-1;return 0!==l.type&&(y=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),1!==l.type&&(a=a.add(l.doc),w=a.indexOf(l.doc.key)),{type:yj(l.type),doc:p,oldIndex:y,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function yj(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return je()}}function PN(n,e){return n instanceof Mu&&e instanceof Mu?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof bh&&e instanceof bh&&n._firestore===e._firestore&&jM(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Eh extends KM{constructor(e){super(),this.firestore=e}convertBytes(e){return new pl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new er(this.firestore,null,t)}}function ON(n,e,t){n=un(n,er);const r=un(n.firestore,tr),i=uD(n.converter,e,t);return v_(r,[rD(Np(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,lr.none())])}function kN(n,e,t,...r){n=un(n,er);const i=un(n.firestore,tr),a=Np(i);let l;return l="string"==typeof(e=(0,hn.m9)(e))||e instanceof Su?GM(a,"updateDoc",n._key,e,t,r):zM(a,"updateDoc",n._key,e),v_(i,[l.toMutation(n._key,lr.exists(!0))])}function NN(n,...e){var t,r,i;n=(0,hn.m9)(n);let a={includeMetadataChanges:!1},l=0;"object"!=typeof e[l]||$M(e[l])||(a=e[l],l++);const p={includeMetadataChanges:a.includeMetadataChanges};if($M(e[l])){const R=e[l];e[l]=null===(t=R.next)||void 0===t?void 0:t.bind(R),e[l+1]=null===(r=R.error)||void 0===r?void 0:r.bind(R),e[l+2]=null===(i=R.complete)||void 0===i?void 0:i.bind(R)}let y,w,T;if(n instanceof er)w=un(n.firestore,tr),T=Jg(n._key.path),y={next:R=>{e[l]&&e[l](YM(w,n,R))},error:e[l+1],complete:e[l+2]};else{const R=un(n,Ni);w=un(R.firestore,tr),T=R._query;const B=new Eh(w);y={next:q=>{e[l]&&e[l](new bh(w,B,R,q))},error:e[l+1],complete:e[l+2]},CN(n._query)}return function(R,B,q,Q){const ce=new KI(Q),_e=new sM(B,ce,q);return R.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return eM(yield __(R),_e)})),()=>{ce.Dc(),R.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return nM(yield __(R),_e)}))}}(Nr(w),T,p,y)}function v_(n,e){return function(t,r){const i=new oi;return t.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function hU(n,e,t){return uM.apply(this,arguments)}(yield VM(t),r,i)})),i.promise}(Nr(n),e)}function YM(n,e,t){const r=t.docs.get(e._key),i=new Eh(n);return new Mu(n,i,e._key,r,new Lp(t.hasPendingWrites,t.fromCache),e.converter)}const Fj={maxAttempts:5};class FN{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Np(e)}set(e,t,r){this._verifyNotCommitted();const i=wh(e,this._firestore),a=uD(i.converter,t,r),l=rD(this._dataReader,"WriteBatch.set",i._key,a,null!==i.converter,r);return this._mutations.push(l.toMutation(i._key,lr.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const a=wh(e,this._firestore);let l;return l="string"==typeof(t=(0,hn.m9)(t))||t instanceof Su?GM(this._dataReader,"WriteBatch.update",a._key,t,r,i):zM(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(l.toMutation(a._key,lr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=wh(e,this._firestore);return this._mutations=this._mutations.concat(new n_(t._key,lr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new xe(de.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function wh(n,e){if((n=(0,hn.m9)(n)).firestore!==e)throw new xe(de.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Lj extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Np(e)}get(e){const t=wh(e,this._firestore),r=new gj(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return je();const a=i[0];if(a.isFoundDocument())return new Fb(this._firestore,r,a.key,a,t.converter);if(a.isNoDocument())return new Fb(this._firestore,r,t._key,null,t.converter);throw je()})}set(e,t,r){const i=wh(e,this._firestore),a=uD(i.converter,t,r),l=rD(this._dataReader,"Transaction.set",i._key,a,null!==i.converter,r);return this._transaction.set(i._key,l),this}update(e,t,r,...i){const a=wh(e,this._firestore);let l;return l="string"==typeof(t=(0,hn.m9)(t))||t instanceof Su?GM(this._dataReader,"Transaction.update",a._key,t,r,i):zM(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,l),this}delete(e){const t=wh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=wh(e,this._firestore),r=new Eh(this._firestore);return super.get(e).then(i=>new Mu(this._firestore,r,t._key,i._document,new Lp(!1,!1),t.converter))}}!function(n,e=!0){X=nl.SDK_VERSION,(0,nl._registerComponent)(new qf.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const a=t.getProvider("app").getImmediate(),l=new tr(new $2(t.getProvider("auth-internal")),new G2(t.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new xe(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ch(p.options.projectId,y)}(a,r),a);return i=Object.assign({useFetchStreams:e},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),(0,nl.registerVersion)(L,"3.13.0",n),(0,nl.registerVersion)(L,"3.13.0","esm2017")}();function QM(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new xe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function VN(){if(typeof Uint8Array>"u")throw new xe("unimplemented","Uint8Arrays are not available in this environment.")}function BN(){if(!function yV(){return typeof atob<"u"}())throw new xe("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Ub{constructor(e){this._delegate=e}static fromBase64String(e){return BN(),new Ub(pl.fromBase64String(e))}static fromUint8Array(e){return VN(),new Ub(pl.fromUint8Array(e))}toBase64(){return BN(),this._delegate.toBase64()}toUint8Array(){return VN(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function JM(n){return function qj(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class Wj{enableIndexedDbPersistence(e,t){return function GU(n,e){_N(n=un(n,tr));const t=Nr(n);if(t._uninitializedComponentsProvider)throw new xe(de.FAILED_PRECONDITION,"SDK cache is already specified.");Ae("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),i=new g_;return gN(t,i,new RM(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function qU(n){_N(n=un(n,tr));const e=Nr(n);if(e._uninitializedComponentsProvider)throw new xe(de.FAILED_PRECONDITION,"SDK cache is already specified.");Ae("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new g_;return gN(e,r,new Qk(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function WU(n){if(n._initialized&&!n._terminated)throw new xe(de.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new oi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ve.Z)(function*(){try{yield(t=(0,ve.Z)(function*(r){if(!rc.D())return Promise.resolve();const i=r+"main";yield rc.delete(i)}),function(r){return t.apply(this,arguments)})(IS(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class UN{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof ch||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Ae("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function hN(n,e,t,r={}){var i;const a=(n=un(n,Pb))._getSettings(),l=`${e}:${t}`;if("firestore.googleapis.com"!==a.host&&a.host!==l&&Ae("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:l,ssl:!1})),r.mockUserToken){let p,y;if("string"==typeof r.mockUserToken)p=r.mockUserToken,y=$.MOCK_USER;else{p=(0,hn.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new xe(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new $(w)}n._authCredentials=new j2(new v1(p,y))}}(this._delegate,e,t,r)}enableNetwork(){return function KU(n){return function OU(n){return n.asyncQueue.enqueue((0,ve.Z)(function*(){const e=yield eN(n),t=yield tN(n);return e.setNetworkEnabled(!0),function(r){const i=rt(r);return i.vu.delete(0),Mb(i)}(t)}))}(Nr(n=un(n,tr)))}(this._delegate)}disableNetwork(){return function YU(n){return function kU(n){return n.asyncQueue.enqueue((0,ve.Z)(function*(){const e=yield eN(n),t=yield tN(n);return e.setNetworkEnabled(!1),(r=(0,ve.Z)(function*(i){const a=rt(i);a.vu.add(0),yield l_(a),a.bu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Nr(n=un(n,tr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,aN("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function ZU(n){return function(e){const t=new oi;return e.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function gU(n,e){return mM.apply(this,arguments)}(yield VM(e),t)})),t.promise}(Nr(n=un(n,tr)))}(this._delegate)}onSnapshotsInSync(e){return function Aj(n,e){return function LU(n,e){const t=new KI(e);return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return r=yield __(n),i=t,rt(r).ku.add(i),void i.next();var r,i})),()=>{t.Dc(),n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return r=yield __(n),i=t,void rt(r).ku.delete(i);var r,i}))}}(Nr(n=un(n,tr)),$M(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new xe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new b_(this,fN(this._delegate,e))}catch(t){throw bs(t,"collection()","Firestore.collection()")}}doc(e){try{return new ca(this,eD(this._delegate,e))}catch(t){throw bs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Es(this,function jU(n,e){if(n=un(n,Pb),UM("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new xe(de.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ni(n,null,(t=e,new Iu(gn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw bs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Vj(n,e,t){n=un(n,tr);const r=Object.assign(Object.assign({},Fj),t);return function(i){if(i.maxAttempts<1)throw new xe(de.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,a,l){const p=new oi;return i.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){const y=yield function nN(n){return QI(n).then(e=>e.datastore)}(i);new RU(i.asyncQueue,y,l,a,p).run()})),p.promise}(Nr(n),i=>e(new Lj(n,i)),r)}(this._delegate,t=>e(new jN(this,t)))}batch(){return Nr(this._delegate),new $N(new FN(this._delegate,e=>v_(this._delegate,e)))}loadBundle(e){return function QU(n,e){const t=Nr(n=un(n,tr)),r=new HU;return function VU(n,e,t,r){const i=function(a,l){let p;return p="string"==typeof a?TO().encode(a):a,y=function(y,w){if(y instanceof Uint8Array)return Jk(y,w);if(y instanceof ArrayBuffer)return Jk(new Uint8Array(y),w);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(p),new MU(y,l);var y}(t,Sb(e));n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){!function AU(n,e,t){const r=rt(n);var i;(i=(0,ve.Z)(function*(a,l,p){try{const y=yield l.getMetadata();if(yield function(B,q){const Q=rt(B),ce=kr(q.createTime);return Q.persistence.runTransaction("hasNewerBundle","readonly",_e=>Q.qs.getBundleMetadata(_e,q.id)).then(_e=>!!_e&&_e.createTime.compareTo(ce)>=0)}(a.localStore,y))return yield l.close(),p._completeWith({taskState:"Success",documentsLoaded:(B=y).totalDocuments,bytesLoaded:B.totalBytes,totalDocuments:B.totalDocuments,totalBytes:B.totalBytes}),Promise.resolve(new Set);p._updateProgress($k(y));const w=new oU(y,a.localStore,l.serializer);let T=yield l.bc();for(;T;){const B=yield w.zu(T);B&&p._updateProgress(B),T=yield l.bc()}const R=yield w.complete();return yield Au(a,R.Ju,void 0),yield function(B,q){const Q=rt(B);return Q.persistence.runTransaction("Save bundle","readwrite",ce=>Q.qs.saveBundleMetadata(ce,q))}(a.localStore,y),p._completeWith(R.progress),Promise.resolve(R.Hu)}catch(y){return Ae("SyncEngine",`Loading bundle failed with ${y}`),p._failWith(y),Promise.resolve(new Set)}var B}),function(a,l,p){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield VM(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function JU(n,e){return function BU(n,e){return n.asyncQueue.enqueue((0,ve.Z)(function*(){return function(t,r){const i=rt(t);return i.persistence.runTransaction("Get named query","readonly",a=>i.qs.getNamedQuery(a,r))}(yield JI(n),e)}))}(Nr(n=un(n,tr)),e).then(t=>t?new Ni(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Es(this,t):null)}}class dD extends KM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ub(new pl(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ca.forKey(t,this.firestore,null)}}class jN{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new dD(e)}get(e){const t=Bp(e);return this._delegate.get(t).then(r=>new jb(this._firestore,new Mu(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Bp(e);return r?(QM("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=Bp(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=Bp(e);return this._delegate.delete(t),this}}class $N{constructor(e){this._delegate=e}set(e,t,r){const i=Bp(e);return r?(QM("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=Bp(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=Bp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Vp{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Bb(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new $b(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Vp.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let a=i.get(t);return a||(a=new Vp(e,new dD(e),t),i.set(t,a)),a}}Vp.INSTANCES=new WeakMap;class ca{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new dD(e)}static forPath(e,t,r){if(e.length%2!=0)throw new xe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ca(t,new er(t._delegate,r,new tt(e)))}static forKey(e,t,r){return new ca(t,new er(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new b_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new b_(this.firestore,fN(this._delegate,e))}catch(t){throw bs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,hn.m9)(e))instanceof er&&pN(this._delegate,e)}set(e,t){t=QM("DocumentReference.set",t);try{return t?ON(this._delegate,e,t):ON(this._delegate,e)}catch(r){throw bs(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?kN(this._delegate,e):kN(this._delegate,e,t,...r)}catch(i){throw bs(i,"updateDoc()","DocumentReference.update()")}}delete(){return function Cj(n){return v_(un(n.firestore,tr),[new n_(n._key,lr.none())])}(this._delegate)}onSnapshot(...e){const t=HN(e),r=zN(e,i=>new jb(this.firestore,new Mu(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return NN(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function bj(n){n=un(n,er);const e=un(n.firestore,tr),t=Nr(e),r=new Eh(e);return function NU(n,e){const t=new oi;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return(r=(0,ve.Z)(function*(i,a,l){try{const p=yield function(y,w){const T=rt(y);return T.persistence.runTransaction("read document","readonly",R=>T.localDocuments.getDocument(R,w))}(i,a);p.isFoundDocument()?l.resolve(p):p.isNoDocument()?l.resolve(null):l.reject(new xe(de.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(p){const y=h_(p,`Failed to get document '${a} from cache`);l.reject(y)}}),function(i,a,l){return r.apply(this,arguments)})(yield JI(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Mu(e,r,n._key,i,new Lp(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function Ej(n){n=un(n,er);const e=un(n.firestore,tr);return rN(Nr(e),n._key,{source:"server"}).then(t=>YM(e,n,t))}(this._delegate):function vj(n){n=un(n,er);const e=un(n.firestore,tr);return rN(Nr(e),n._key).then(t=>YM(e,n,t))}(this._delegate),t.then(r=>new jb(this.firestore,new Mu(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new ca(this.firestore,this._delegate.withConverter(e?Vp.getInstance(this.firestore,e):null))}}function bs(n,e,t){return n.message=n.message.replace(e,t),n}function HN(n){for(const e of n)if("object"==typeof e&&!JM(e))return e;return{}}function zN(n,e){var t,r;let i;return i=JM(n[0])?n[0]:JM(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{i.next&&i.next(e(a))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class jb{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ca(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return PN(this._delegate,e._delegate)}}class $b extends jb{data(e){const t=this._delegate.data(e);return function y1(n,e){n||je()}(void 0!==t),t}}class Es{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new dD(e)}where(e,t,r){try{return new Es(this.firestore,vh(this._delegate,function cj(n,e,t){const r=e,i=oD("where",n);return Vb._create(i,r,t)}(e,t,r)))}catch(i){throw bs(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Es(this.firestore,vh(this._delegate,function lj(n,e="asc"){const t=e,r=oD("orderBy",n);return ZM._create(r,t)}(e,t)))}catch(r){throw bs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Es(this.firestore,vh(this._delegate,function uj(n){return uN("limit",n),aD._create("limit",n,"F")}(e)))}catch(t){throw bs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Es(this.firestore,vh(this._delegate,function dj(n){return uN("limitToLast",n),aD._create("limitToLast",n,"L")}(e)))}catch(t){throw bs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Es(this.firestore,vh(this._delegate,function hj(...n){return cD._create("startAt",n,!0)}(...e)))}catch(t){throw bs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Es(this.firestore,vh(this._delegate,function fj(...n){return cD._create("startAfter",n,!1)}(...e)))}catch(t){throw bs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Es(this.firestore,vh(this._delegate,function pj(...n){return lD._create("endBefore",n,!1)}(...e)))}catch(t){throw bs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Es(this.firestore,vh(this._delegate,function mj(...n){return lD._create("endAt",n,!0)}(...e)))}catch(t){throw bs(t,"endAt()","Query.endAt()")}}isEqual(e){return jM(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function Ij(n){n=un(n,Ni);const e=un(n.firestore,tr),t=Nr(e),r=new Eh(e);return function FU(n,e){const t=new oi;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return(r=(0,ve.Z)(function*(i,a,l){try{const p=yield $I(i,a,!0),y=new Gk(a,p.ir),w=y.sc(p.documents),T=y.applyChanges(w,!1);l.resolve(T.snapshot)}catch(p){const y=h_(p,`Failed to execute query '${a} against cache`);l.reject(y)}}),function(i,a,l){return r.apply(this,arguments)})(yield JI(n),e,t);var r})),t.promise}(t,n._query).then(i=>new bh(e,r,n,i))}(this._delegate):"server"===e?.source?function Dj(n){n=un(n,Ni);const e=un(n.firestore,tr),t=Nr(e),r=new Eh(e);return iN(t,n._query,{source:"server"}).then(i=>new bh(e,r,n,i))}(this._delegate):function wj(n){n=un(n,Ni);const e=un(n.firestore,tr),t=Nr(e),r=new Eh(e);return CN(n._query),iN(t,n._query).then(i=>new bh(e,r,n,i))}(this._delegate),t.then(r=>new XM(this.firestore,new bh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=HN(e),r=zN(e,i=>new XM(this.firestore,new bh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return NN(this._delegate,t,r)}withConverter(e){return new Es(this.firestore,this._delegate.withConverter(e?Vp.getInstance(this.firestore,e):null))}}class Kj{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new $b(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class XM{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Es(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new $b(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Kj(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new $b(this._firestore,r))})}isEqual(e){return PN(this._delegate,e._delegate)}}class b_ extends Es{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ca(this.firestore,e):null}doc(e){try{return new ca(this.firestore,void 0===e?eD(this._delegate):eD(this._delegate,e))}catch(t){throw bs(t,"doc()","CollectionReference.doc()")}}add(e){return function Tj(n,e){const t=un(n.firestore,tr),r=eD(n),i=uD(n.converter,e);return v_(t,[rD(Np(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,lr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new ca(this.firestore,t))}isEqual(e){return pN(this._delegate,e._delegate)}withConverter(e){return new b_(this.firestore,this._delegate.withConverter(e?Vp.getInstance(this.firestore,e):null))}}function Bp(n){return un(n,er)}class ex{constructor(...e){this._delegate=new Su(...e)}static documentId(){return new ex(Dr.keyField().canonicalString())}isEqual(e){return(e=(0,hn.m9)(e))instanceof Su&&this._delegate._internalPath.isEqual(e._internalPath)}}class Up{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Uj(){return new HM("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Up(e)}static delete(){const e=function Bj(){return new kb("deleteField")}();return e._methodName="FieldValue.delete",new Up(e)}static arrayUnion(...e){const t=function jj(...n){return new rj("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Up(t)}static arrayRemove(...e){const t=function $j(...n){return new ij("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Up(t)}static increment(e){const t=function Hj(n){return new sj("increment",n)}(e);return t._methodName="FieldValue.increment",new Up(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Yj={Firestore:UN,GeoPoint:tD,Timestamp:cr,Blob:Ub,Transaction:jN,WriteBatch:$N,DocumentReference:ca,DocumentSnapshot:jb,Query:Es,QueryDocumentSnapshot:$b,QuerySnapshot:XM,CollectionReference:b_,FieldPath:ex,FieldValue:Up,setLogLevel:function Zj(n){!function et(n){ye.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function Jj(n){(function Qj(n,e){n.INTERNAL.registerComponent(new qf.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},Yj)))})(n,(e,t)=>new UN(e,t,new Wj)),n.registerVersion("@firebase/firestore-compat","0.3.12")}(nA.Z);var Xj=F(6451),hD=F(5363),e$=F(6063);class t$ extends gs.x{constructor(e=1/0,t=1/0,r=e$.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:a,_windowTime:l}=this;t||(r.push(e),!i&&r.push(a.now()+l)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,a=i.slice();for(let l=0;l<a.length&&!e.closed;l+=r?1:2)e.next(a[l]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,a=(i?1:2)*e;if(e<1/0&&a<r.length&&r.splice(0,r.length-a),!i){const l=t.now();let p=0;for(let y=1;y<r.length&&r[y]<=l;y+=2)p=y;p&&r.splice(0,p+1)}}}var n$=F(3099);function GN(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,n$.B)({connector:()=>new t$(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function qN(n,e){return(0,my.m)(e)?ni(()=>n,e):ni(()=>n)}var tx=F(9468);F(259);const rx=new Map,ZN={activated:!1,tokenObservers:[]},a$={initialized:!1,enabled:!1};function Tr(n){return rx.get(n)||Object.assign({},ZN)}function pD(){return a$}const ix="https://content-firebaseappcheck.googleapis.com/v1",d$="exchangeDebugToken",KN={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class f${constructor(e,t,r,i,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ve.Z)(function*(){t.stop();try{t.pending=new hn.BH,yield function p$(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new hn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Fi=new hn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function sx(n){if(!Tr(n).activated)throw Fi.create("use-before-activation",{appName:n.name})}function _D(n,e){return ax.apply(this,arguments)}function ax(){return ax=(0,ve.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const R=yield i.getHeartbeatsHeader();R&&(r["X-Firebase-Client"]=R)}const a={method:"POST",body:JSON.stringify(e),headers:r};let l,p;try{l=yield fetch(n,a)}catch(R){throw Fi.create("fetch-network-error",{originalErrorMessage:R?.message})}if(200!==l.status)throw Fi.create("fetch-status-error",{httpStatus:l.status});try{p=yield l.json()}catch(R){throw Fi.create("fetch-parse-error",{originalErrorMessage:R?.message})}const y=p.ttl.match(/^([\d.]+)(s)$/);if(!y||!y[2]||isNaN(Number(y[1])))throw Fi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${p.ttl}`});const w=1e3*Number(y[1]),T=Date.now();return{token:p.token,expireTimeMillis:T+w,issuedAtTimeMillis:T}}),ax.apply(this,arguments)}function YN(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${ix}/projects/${t}/apps/${r}:${d$}?key=${i}`,body:{debug_token:e}}}const y$="firebase-app-check-database",v$=1,Hb="firebase-app-check-store";let yD=null;function cx(){return cx=(0,ve.Z)(function*(n,e){const r=(yield function JN(){return yD||(yD=new Promise((n,e)=>{try{const t=indexedDB.open(y$,v$);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Fi.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Hb,{keyPath:"compositeKey"})}}catch(t){e(Fi.create("storage-open",{originalErrorMessage:t?.message}))}}),yD)}()).transaction(Hb,"readwrite"),a=r.objectStore(Hb).put({compositeKey:n,value:e});return new Promise((l,p)=>{a.onsuccess=y=>{l()},r.onerror=y=>{var w;p(Fi.create("storage-set",{originalErrorMessage:null===(w=y.target.error)||void 0===w?void 0:w.message}))}})}),cx.apply(this,arguments)}const zb=new Xa.Yd("@firebase/app-check");function dx(n,e){return(0,hn.hl)()?function E$(n,e){return function XN(n,e){return cx.apply(this,arguments)}(function tF(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{zb.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function fx(){return pD().enabled}function px(){return mx.apply(this,arguments)}function mx(){return mx=(0,ve.Z)(function*(){const n=pD();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),mx.apply(this,arguments)}const A$={error:"UNKNOWN_ERROR"};function S$(n){return hn.US.encodeString(JSON.stringify(n),!1)}function vD(n){return gx.apply(this,arguments)}function gx(){return gx=(0,ve.Z)(function*(n,e=!1){const t=n.app;sx(t);const r=Tr(t);let a,i=r.token;if(i&&!E_(i)&&(r.token=void 0,i=void 0),!i){const y=yield r.cachedTokenPromise;y&&(E_(y)?i=y:yield dx(t,void 0))}if(!e&&i&&E_(i))return{token:i.token};let p,l=!1;if(fx()){r.exchangeTokenPromise||(r.exchangeTokenPromise=_D(YN(t,yield px()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),l=!0);const y=yield r.exchangeTokenPromise;return yield dx(t,y),r.token=y,{token:y.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),l=!0),i=yield Tr(t).exchangeTokenPromise}catch(y){"appCheck/throttled"===y.code?zb.warn(y.message):zb.error(y),a=y}return i?a?p=E_(i)?{token:i.token,internalError:a}:sF(a):(p={token:i.token},r.token=i,yield dx(t,i)):p=sF(a),l&&function iF(n,e){const t=Tr(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,p),p}),gx.apply(this,arguments)}function _x(){return _x=(0,ve.Z)(function*(n){const e=n.app;sx(e);const{provider:t}=Tr(e);if(fx()){const r=yield px(),{token:i}=yield _D(YN(e,r),n.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield t.getToken();return{token:r}}}),_x.apply(this,arguments)}function vx(n,e){const t=Tr(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function rF(n){const{app:e}=n,t=Tr(e);let r=t.tokenRefresher;r||(r=function M$(n){const{app:e}=n;return new f$((0,ve.Z)(function*(){let r;if(r=Tr(e).token?yield vD(n,!0):yield vD(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Tr(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},KN.RETRIAL_MIN_WAIT,KN.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function E_(n){return n.expireTimeMillis-Date.now()>0}function sF(n){return{token:S$(A$),error:n}}class x${constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Tr(this.app);for(const t of e)vx(this.app,t.next);return Promise.resolve()}}const fF="app-check-internal";!function z$(){(0,nl._registerComponent)(new qf.wA("app-check",n=>function R$(n,e){return new x$(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(fF).initialize()})),(0,nl._registerComponent)(new qf.wA(fF,n=>function P$(n){return{getToken:e=>vD(n,e),getLimitedUseToken:()=>function nF(n){return _x.apply(this,arguments)}(n),addTokenListener:e=>function yx(n,e,t,r){const{app:i}=n,a=Tr(i);if(a.tokenObservers=[...a.tokenObservers,{next:t,error:r,type:e}],a.token&&E_(a.token)){const p=a.token;Promise.resolve().then(()=>{t({token:p.token}),rF(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>rF(n))}(n,"INTERNAL",e),removeTokenListener:e=>vx(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,nl.registerVersion)("@firebase/app-check","0.8.0")}();class Ix{constructor(){return(0,ii.vb)("app-check")}}typeof window<"u"&&window;const mF=new d.OlP("angularfire2.auth.use-emulator"),gF=new d.OlP("angularfire2.auth.settings"),_F=new d.OlP("angularfire2.auth.tenant-id"),yF=new d.OlP("angularfire2.auth.langugage-code"),vF=new d.OlP("angularfire2.auth.use-device-language"),bF=new d.OlP("angularfire.auth.persistence"),EF=(n,e,t,r,i,a,l,p)=>(0,wo.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const y=e.runOutsideAngular(()=>n.auth());if(t&&y.useEmulator(...t),r&&(y.tenantId=r),y.languageCode=i,a&&y.useDeviceLanguage(),l)for(const[w,T]of Object.entries(l))y.settings[w]=T;return p&&y.setPersistence(p),y},[t,r,i,a,l,p]);let wF=(()=>{class n{constructor(t,r,i,a,l,p,y,w,T,R,B,q){const Q=new gs.x,ce=Ct(void 0).pipe((0,hD.Q)(l.outsideAngular),ni(()=>a.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,2644)))),(0,ct.U)(()=>(0,wo.on)(t,a,r)),(0,ct.U)(_e=>EF(_e,a,p,w,T,R,y,B)),GN({bufferSize:1,refCount:!1}));if(as(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Ct(null);else{ce.pipe(Ga()).subscribe();const Ze=ce.pipe(ni(gt=>gt.getRedirectResult().then(Vt=>Vt,()=>null)),ii.iC,GN({bufferSize:1,refCount:!1})),it=ce.pipe(ni(gt=>new Fn.y(Vt=>({unsubscribe:a.runOutsideAngular(()=>gt.onAuthStateChanged(Wt=>Vt.next(Wt),Wt=>Vt.error(Wt),()=>Vt.complete()))})))),at=ce.pipe(ni(gt=>new Fn.y(Vt=>({unsubscribe:a.runOutsideAngular(()=>gt.onIdTokenChanged(Wt=>Vt.next(Wt),Wt=>Vt.error(Wt),()=>Vt.complete()))}))));this.authState=Ze.pipe(qN(it),(0,tx.R)(l.outsideAngular),(0,hD.Q)(l.insideAngular)),this.user=Ze.pipe(qN(at),(0,tx.R)(l.outsideAngular),(0,hD.Q)(l.insideAngular)),this.idToken=this.user.pipe(ni(gt=>gt?(0,Sn.D)(gt.getIdToken()):Ct(null))),this.idTokenResult=this.user.pipe(ni(gt=>gt?(0,Sn.D)(gt.getIdTokenResult()):Ct(null))),this.credential=(0,Xj.T)(Ze,Q,this.authState.pipe(Mi(gt=>!gt))).pipe((0,ct.U)(gt=>gt?.user?gt:null),(0,tx.R)(l.outsideAngular),(0,hD.Q)(l.insideAngular))}return(0,wo.pX)(this,ce,a,{spy:{apply:(_e,Ze,it)=>{(_e.startsWith("signIn")||_e.startsWith("createUser"))&&it.then(at=>Q.next(at))}}})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(wo.Dh),d.LFG(wo.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(ii.HU),d.LFG(mF,8),d.LFG(gF,8),d.LFG(_F,8),d.LFG(yF,8),d.LFG(vF,8),d.LFG(bF,8),d.LFG(Ix,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function IF(n,e){return function Y$(n,e=K_.z){return new Fn.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function Cx(n,e){return IF(n,e).pipe((0,ct.U)(t=>({payload:t,type:"query"})))}function ED(n,e){return Cx(n,e).pipe(f(void 0),uv(),(0,ct.U)(([t,r])=>{const i=r.payload.docChanges(),a=i.map(l=>({type:l.type,payload:l}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((l,p)=>{const y=i.find(T=>T.doc.ref.isEqual(l.ref)),w=t?.payload.docs.find(T=>T.ref.isEqual(l.ref));y&&JSON.stringify(y.doc.metadata)===JSON.stringify(l.metadata)||!y&&w&&JSON.stringify(w.metadata)===JSON.stringify(l.metadata)||a.push({type:"modified",payload:{oldIndex:p,newIndex:p,type:"modified",doc:l}})}),a}))}function DF(n,e,t){return ED(n,t).pipe(br((r,i)=>function J$(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function X$(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return Tx(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Tx(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Tx(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(a=>a.payload),e),[]),function eA(n,e=eu.y){return n=n??tA,(0,Ln.e)((t,r)=>{let i,a=!0;t.subscribe((0,mn.x)(r,l=>{const p=e(l);(a||!n(i,p))&&(a=!1,i=p,r.next(l))}))})}(),(0,ct.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function Tx(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function CF(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class TF{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=ED(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,ct.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(f(void 0),uv(),Mi(([r,i])=>i.length>0||!r),(0,ct.U)(([r,i])=>i),ii.iC)}auditTrail(e){return this.stateChanges(e).pipe(br((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=CF(e);return DF(this.query,t,this.afs.schedulers.outsideAngular).pipe(ii.iC)}valueChanges(e={}){return Cx(this.query,this.afs.schedulers.outsideAngular).pipe((0,ct.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),ii.iC)}get(e){return(0,Sn.D)(this.query.get(e)).pipe(ii.iC)}add(e){return this.ref.add(e)}doc(e){return new AF(this.ref.doc(e),this.afs)}}class AF{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:a}=xF(r,t);return new TF(i,a,this.afs)}snapshotChanges(){return function Q$(n,e){return IF(n,e).pipe(f(void 0),uv(),(0,ct.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ii.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ct.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Sn.D)(this.ref.get(e)).pipe(ii.iC)}}class eH{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?ED(this.query,this.afs.schedulers.outsideAngular).pipe((0,ct.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Mi(t=>t.length>0),ii.iC):ED(this.query,this.afs.schedulers.outsideAngular).pipe(ii.iC)}auditTrail(e){return this.stateChanges(e).pipe(br((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=CF(e);return DF(this.query,t,this.afs.schedulers.outsideAngular).pipe(ii.iC)}valueChanges(e={}){return Cx(this.query,this.afs.schedulers.outsideAngular).pipe((0,ct.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),ii.iC)}get(e){return(0,Sn.D)(this.query.get(e)).pipe(ii.iC)}}const SF=new d.OlP("angularfire2.enableFirestorePersistence"),MF=new d.OlP("angularfire2.firestore.persistenceSettings"),tH=new d.OlP("angularfire2.firestore.settings"),nH=new d.OlP("angularfire2.firestore.use-emulator");function xF(n,e=(t=>t)){return{query:e(n),ref:n}}let Ax=(()=>{class n{constructor(t,r,i,a,l,p,y,w,T,R,B,q,Q,ce,_e,Ze,it){this.schedulers=y;const at=(0,wo.on)(t,p,r),gt=T;R&&EF(at,p,B,Q,ce,_e,q,Ze),[this.firestore,this.persistenceEnabled$]=(0,wo.cc)(`${at.name}.firestore`,"AngularFirestore",at.name,()=>{const Vt=p.runOutsideAngular(()=>at.firestore());if(a&&Vt.settings(a),gt&&Vt.useEmulator(...gt),i&&!as(l)){const Wt=()=>{try{return(0,Sn.D)(Vt.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch(wn){return typeof console<"u"&&console.warn(wn),Ct(!1)}};return[Vt,p.runOutsideAngular(Wt)]}return[Vt,Ct(!1)]},[a,gt,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:l}=xF(i,r),p=this.schedulers.ngZone.run(()=>a);return new TF(p,l,this)}collectionGroup(t,r){const i=r||(l=>l),a=this.firestore.collectionGroup(t);return new eH(i(a),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new AF(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(wo.Dh),d.LFG(wo.xv,8),d.LFG(SF,8),d.LFG(tH,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(ii.HU),d.LFG(MF,8),d.LFG(nH,8),d.LFG(wF,8),d.LFG(mF,8),d.LFG(gF,8),d.LFG(_F,8),d.LFG(yF,8),d.LFG(vF,8),d.LFG(bF,8),d.LFG(Ix,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),rH=(()=>{class n{constructor(){lv.Z.registerVersion("angularfire",ii.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:SF,useValue:!0},{provide:MF,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[Ax]}),n})(),Sx=(()=>{class n{constructor(t){this._fire=t}loadFeatured(){return this._fire.collection("posts",t=>t.where("isFeatured","==",!0).limit(4)).snapshotChanges().pipe((0,ct.U)(t=>t.map(r=>{const i=r.payload.doc.data();return{id:r.payload.doc.id,data:i}})))}loadLatest(){return this._fire.collection("posts",t=>t.orderBy("createdAt").limit(6)).snapshotChanges().pipe((0,ct.U)(t=>t.map(r=>{const i=r.payload.doc.data();return{id:r.payload.doc.id,data:i}})))}loadCategory(t){return this._fire.collection("posts",r=>r.where("category.categoryId","==",t)).snapshotChanges().pipe((0,ct.U)(r=>r.map(i=>{const a=i.payload.doc.data();return{id:i.payload.doc.id,data:a}})))}loadonePost(t){return this._fire.collection("posts").doc(t).valueChanges()}loadSimilar(t){return this._fire.collection("posts",r=>r.where("category.categoryId","==",t).limit(3)).snapshotChanges().pipe((0,ct.U)(r=>r.map(i=>{const a=i.payload.doc.data();return{id:i.payload.doc.id,data:a}})))}countViews(t){const r={views:lv.Z.firestore.FieldValue.increment(1)};this._fire.collection("posts").doc(t).update(r).then(()=>{console.log("Views Count Updated..!")})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Ax))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function iH(n,e){1&n&&(d.TgZ(0,"small",11),d._uU(1," Features"),d.qZA())}const sH=function(n){return["/post",n]};function oH(n,e){if(1&n&&(d.TgZ(0,"div",2),d._UZ(1,"img",3),d.TgZ(2,"div",4)(3,"small",5),d._uU(4),d.qZA(),d.YNc(5,iH,2,0,"small",6),d.TgZ(6,"small",7),d._uU(7),d.qZA(),d.TgZ(8,"h4",8),d._uU(9),d.qZA(),d.TgZ(10,"p",9),d._uU(11),d.qZA(),d.TgZ(12,"small",10),d._uU(13),d.ALo(14,"date"),d.qZA()()()),2&n){const t=d.oxw();d.Q6J("routerLink",d.VKq(10,sH,t.postData.id)),d.xp6(1),d.s9C("src",t.postData.data.postImgPath,d.LSH),d.xp6(3),d.hij(" ",t.postData.data.category.category,""),d.xp6(1),d.Q6J("ngIf",t.postData.data.isFeatured),d.xp6(2),d.hij(" Views-",t.postData.data.views,""),d.xp6(2),d.Oqu(t.postData.data.title),d.xp6(2),d.hij("",t.postData.data.excerpt," "),d.xp6(2),d.hij("LAST UPDATED - ",d.lcZ(14,8,t.postData.data.createdAt.toMillis()),"")}}function aH(n,e){1&n&&(d.TgZ(0,"div",12),d._UZ(1,"img",13),d.TgZ(2,"div",4)(3,"small",5),d._uU(4," Design"),d.qZA(),d.TgZ(5,"small",11),d._uU(6," Features"),d.qZA(),d.TgZ(7,"small",7),d._uU(8," Views-100,230"),d.qZA(),d.TgZ(9,"h4",8),d._uU(10,"The Art of Texture Painting: Unleashing Creativity on Canvas"),d.qZA(),d.TgZ(11,"p",9),d._uU(12,"Texture painting is an artistic technique that adds depth, dimension, and tactile qualities to a two-dimensional surface, bringing artwork to life. By incorporating various materials, tools, and techniques. "),d.qZA(),d.TgZ(13,"small",10),d._uU(14,"LAST UPDATED - SEP 20, 2023"),d.qZA()()())}let Mx=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-post-card"]],inputs:{postData:"postData"},decls:2,vars:2,consts:[["class","card",3,"routerLink",4,"ngIf"],["class","card",4,"ngIf"],[1,"card",3,"routerLink"],["alt","post-image",1,"card-img-top",3,"src"],[1,"card-body"],[1,"bg-light","text-danger","text-center"],["class","bg-light text-success text-center ms-3",4,"ngIf"],[1,"bg-light","text-primary","text-center","ms-3"],[1,"mt-2","fw-medium","heading"],[1,"para"],[1,"bg-light","text-warning","text-center"],[1,"bg-light","text-success","text-center","ms-3"],[1,"card"],["src","https://images.pexels.com/photos/1070534/pexels-photo-1070534.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2","alt","post-image",1,"card-img-top"]],template:function(t,r){1&t&&(d.YNc(0,oH,15,12,"div",0),d.YNc(1,aH,15,0,"div",1)),2&t&&(d.Q6J("ngIf",r.postData),d.xp6(1),d.Q6J("ngIf",!r.postData))},dependencies:[ji,Ud,Ur],styles:[".card[_ngcontent-%COMP%]{max-width:350px;border:none;box-shadow:0 0 33px -10px #4772fe4d;text-align:left}.card-img-top[_ngcontent-%COMP%]{height:200px}.para[_ngcontent-%COMP%]{font-size:smaller;height:80px;overflow:hidden}.heading[_ngcontent-%COMP%]{font-size:13px}"]}),n})();function cH(n,e){if(1&n&&(d.TgZ(0,"div",14),d._UZ(1,"app-post-card",15),d.qZA()),2&n){const t=e.$implicit;d.xp6(1),d.Q6J("postData",t)}}function lH(n,e){if(1&n&&(d.TgZ(0,"div",16),d._UZ(1,"app-post-card",15),d.qZA()),2&n){const t=e.$implicit;d.xp6(1),d.Q6J("postData",t)}}let uH=(()=>{class n{constructor(t){this._posts=t}ngOnInit(){this._posts.loadFeatured().subscribe(t=>{console.log(t,"valueee"),this.FeaturedpostArray=t}),this._posts.loadLatest().subscribe(t=>{console.log(t,"val"),this.LatestpostArray=t})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Sx))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-home"]],decls:20,vars:2,consts:[[1,"home"],[1,"featuredd"],[1,"section","container"],[1,"feature-body"],[1,"heading"],[1,"mt-3"],[1,"mb-5","subheading","-mt-5"],[1,"row"],["class","col",4,"ngFor","ngForOf"],[1,"latest-post"],[1,"latestheading"],[1,""],[1,"subheading"],["class","col-md-4 mt-3",4,"ngFor","ngForOf"],[1,"col"],[3,"postData"],[1,"col-md-4","mt-3"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),d._uU(6,"Featured Posts"),d.qZA()(),d.TgZ(7,"p",6),d._uU(8,"Discover the best of our blogster's featured articles."),d.qZA(),d.TgZ(9,"div",7),d.YNc(10,cH,2,1,"div",8),d.qZA()()()(),d.TgZ(11,"div",2)(12,"div",9)(13,"div",10)(14,"h1",11),d._uU(15,"Latest Posts"),d.qZA(),d.TgZ(16,"p",12),d._uU(17,"Explore the Freshest Insights in Our Recent Blogs."),d.qZA()(),d.TgZ(18,"div",7),d.YNc(19,lH,2,1,"div",13),d.qZA()()()()),2&t&&(d.xp6(10),d.Q6J("ngForOf",r.FeaturedpostArray),d.xp6(9),d.Q6J("ngForOf",r.LatestpostArray))},dependencies:[rs,Mx],styles:[".home[_ngcontent-%COMP%]{margin-top:105px;color:var(--secondary-color);text-align:center}.featuredd[_ngcontent-%COMP%]{height:670px;background-color:var(--primary-color)}.heading[_ngcontent-%COMP%]{padding-top:2px;font-size:20px}.subheading[_ngcontent-%COMP%]{font-size:smaller}.latest-post[_ngcontent-%COMP%]{margin-top:50px}.latestheading[_ngcontent-%COMP%]{color:var(--primary-color)}"]}),n})();function dH(n,e){if(1&n&&(d.TgZ(0,"div",5),d._UZ(1,"app-post-card",6),d.qZA()),2&n){const t=e.$implicit;d.xp6(1),d.Q6J("postData",t)}}let hH=(()=>{class n{constructor(t,r){this._route=t,this._post=r}ngOnInit(){this._route.params.subscribe(t=>{console.log(t.id),this.categoryObj=t,this._post.loadCategory(t.id).subscribe(r=>{this.postsArray=r})})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(el),d.Y36(Sx))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-single-category"]],decls:10,vars:2,consts:[[1,"general"],[1,"container","p-5"],[1,"container","pb-5","px-5"],[1,"row"],["class","col-md-4 mb-3 mt-5",4,"ngFor","ngForOf"],[1,"col-md-4","mb-3","mt-5"],[3,"postData"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0)(1,"div",1)(2,"h1"),d._uU(3),d.qZA(),d.TgZ(4,"p"),d._uU(5,'"Expand your horizons and deepen your understanding with our thought-provoking blogs."'),d.qZA()()(),d.TgZ(6,"section")(7,"div",2)(8,"div",3),d.YNc(9,dH,2,1,"div",4),d.qZA()()()),2&t&&(d.xp6(3),d.Oqu(r.categoryObj.category),d.xp6(6),d.Q6J("ngForOf",r.postsArray))},dependencies:[rs,Mx],styles:[".general[_ngcontent-%COMP%]{background-color:var(--primary-color);color:var(--secondary-color)}.btn[_ngcontent-%COMP%]{background-color:var(--primary-color);height:40px;width:150px;color:#fff;border:none;font-size:13px}.button[_ngcontent-%COMP%]{text-align:center;margin-top:-45px}"]}),n})(),RF=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Qsj),d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n}),n})(),jp=(()=>{class n extends RF{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,features:[d.qOj]}),n})();const ml=new d.OlP("NgValueAccessor"),mH={provide:ml,useExisting:(0,d.Gpc)(()=>wD),multi:!0},_H=new d.OlP("CompositionEventMode");let wD=(()=>{class n extends RF{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function gH(){const n=N()?N().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(_H,8))},n.\u0275dir=d.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&d.NdJ("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[d._Bn([mH]),d.qOj]}),n})();const yH=!1;function Ih(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}const ts=new d.OlP("NgValidators"),Dh=new d.OlP("NgAsyncValidators"),vH=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;function FF(n){return Ih(n.value)?{required:!0}:null}function VF(n){return Ih(n.value)||vH.test(n.value)?null:{email:!0}}function ID(n){return null}function $F(n){return null!=n}function HF(n){const e=(0,d.QGY)(n)?(0,Sn.D)(n):n;if(yH&&!(0,d.CqO)(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new d.vHH(-1101,t)}return e}function zF(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function GF(n,e){return e.map(t=>t(n))}function qF(n){return n.map(e=>function bH(n){return!n.validate}(e)?e:t=>e.validate(t))}function xx(n){return null!=n?function WF(n){if(!n)return null;const e=n.filter($F);return 0==e.length?null:function(t){return zF(GF(t,e))}}(qF(n)):null}function Rx(n){return null!=n?function ZF(n){if(!n)return null;const e=n.filter($F);return 0==e.length?null:function(t){return function fH(...n){const e=(0,tu.jO)(n),{args:t,keys:r}=md(n),i=new Fn.y(a=>{const{length:l}=t;if(!l)return void a.complete();const p=new Array(l);let y=l,w=l;for(let T=0;T<l;T++){let R=!1;(0,m.Xf)(t[T]).subscribe((0,mn.x)(a,B=>{R||(R=!0,w--),p[T]=B},()=>y--,void 0,()=>{(!y||!R)&&(w||a.next(r?Am(r,p):p),a.complete())}))}});return e?i.pipe(W_(e)):i}(GF(t,e).map(HF)).pipe((0,ct.U)(zF))}}(qF(n)):null}function KF(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Px(n){return n?Array.isArray(n)?n:[n]:[]}function DD(n,e){return Array.isArray(n)?n.includes(e):n===e}function JF(n,e){const t=Px(e);return Px(n).forEach(i=>{DD(t,i)||t.push(i)}),t}function XF(n,e){return Px(e).filter(t=>!DD(n,t))}class eL{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=xx(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Rx(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class ws extends eL{get formDirective(){return null}get path(){return null}}class Ch extends eL{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class tL{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let nL=(()=>{class n extends tL{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Ch,2))},n.\u0275dir=d.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&d.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[d.qOj]}),n})(),Ox=(()=>{class n extends tL{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(ws,10))},n.\u0275dir=d.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&d.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[d.qOj]}),n})();function rL(n,e){return n?`with name: '${e}'`:`at index: ${e}`}const Fx=!1,Gb="VALID",TD="INVALID",w_="PENDING",qb="DISABLED";function Lx(n){return(AD(n)?n.validators:n)||null}function Vx(n,e){return(AD(e)?e.asyncValidators:n)||null}function AD(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class oL{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Gb}get invalid(){return this.status===TD}get pending(){return this.status==w_}get disabled(){return this.status===qb}get enabled(){return this.status!==qb}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(JF(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(JF(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(XF(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(XF(e,this._rawAsyncValidators))}hasValidator(e){return DD(this._rawValidators,e)}hasAsyncValidator(e){return DD(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=w_,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=qb,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Gb,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Gb||this.status===w_)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?qb:Gb}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=w_,this._hasOwnPendingAsyncValidator=!0;const t=HF(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?qb:this.errors?TD:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(w_)?w_:this._anyControlsHaveStatus(TD)?TD:Gb}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){AD(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function AH(n){return Array.isArray(n)?xx(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function SH(n){return Array.isArray(n)?Rx(n):n||null}(this._rawAsyncValidators)}}class Bx extends oL{constructor(e,t,r){super(Lx(t),Vx(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function sL(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new d.vHH(1002,Fx?function TH(n,e){return`Must supply a value for form control ${rL(n,e)}`}(e,i):"")})})(this,!0,e),Object.keys(e).forEach(r=>{(function iL(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new d.vHH(1e3,Fx?function DH(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!r[t])throw new d.vHH(1001,Fx?function CH(n,e){return`Cannot find form control ${rL(n,e)}`}(e,t):"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,a)=>{r=t(r,i,a)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const I_=new d.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>SD}),SD="always";function Wb(n,e,t=SD){Ux(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function RH(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&aL(n,e)})}(n,e),function OH(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function PH(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&aL(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function xH(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function RD(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Ux(n,e){const t=function YF(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(KF(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function QF(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(KF(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();RD(e._rawValidators,i),RD(e._rawAsyncValidators,i)}function aL(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const VH={provide:ws,useExisting:(0,d.Gpc)(()=>Kb)},Zb=(()=>Promise.resolve())();let Kb=(()=>{class n extends ws{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new d.vpe,this.form=new Bx({},xx(t),Rx(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Zb.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Wb(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Zb.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Zb.then(()=>{const r=this._findContainer(t.path),i=new Bx({});(function cL(n,e){Ux(n,e)})(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Zb.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Zb.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function lL(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(ts,10),d.Y36(Dh,10),d.Y36(I_,8))},n.\u0275dir=d.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&d.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([VH]),d.qOj]}),n})();function uL(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function dL(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const hL=class extends oL{constructor(e=null,t,r){super(Lx(t),Vx(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),AD(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=dL(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){uL(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){uL(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){dL(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},jH={provide:Ch,useExisting:(0,d.Gpc)(()=>zx)},mL=(()=>Promise.resolve())();let zx=(()=>{class n extends Ch{constructor(t,r,i,a,l,p){super(),this._changeDetectorRef=l,this.callSetDisabledState=p,this.control=new hL,this._registered=!1,this.update=new d.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Hx(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(a=>{a.constructor===wD?t=a:function FH(n){return Object.getPrototypeOf(n.constructor)===jp}(a)?r=a:i=a}),i||r||t||null}(0,a)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function $x(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Wb(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){mL.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&(0,d.D6c)(r);mL.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function MD(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(ws,9),d.Y36(ts,10),d.Y36(Dh,10),d.Y36(ml,10),d.Y36(d.sBO,8),d.Y36(I_,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d._Bn([jH]),d.qOj,d.TTD]}),n})(),Gx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),_L=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})(),$p=(()=>{class n{constructor(){this._validator=ID}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):ID,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,features:[d.TTD]}),n})();const o3={provide:ts,useExisting:(0,d.Gpc)(()=>OD),multi:!0};let OD=(()=>{class n extends $p{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=d.D6c,this.createValidator=t=>FF}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&d.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[d._Bn([o3]),d.qOj]}),n})();const c3={provide:ts,useExisting:(0,d.Gpc)(()=>Qx),multi:!0};let Qx=(()=>{class n extends $p{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=d.D6c,this.createValidator=t=>VF}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[d._Bn([c3]),d.qOj]}),n})(),h3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[_L]}),n})(),p3=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:I_,useValue:t.callSetDisabledState??SD}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[h3]}),n})(),m3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-comment-form"]],decls:17,vars:0,consts:[[1,"comment-form","border","p-5"],[1,"pb-4"],["action","",1,"mb-5"],[1,"pb-2"],[1,"form-group","pb-4"],["type","text",1,"form-control"],[1,"form-comment","pb-4"],["name","Text1","cols","40","rows","5"],[1,"pt-2"],[1,"btn","btn-info","btn-sub"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0)(1,"h2"),d._uU(2,"Leave a comment"),d.qZA(),d.TgZ(3,"p",1),d._uU(4,"You can share your views using this comment box."),d.qZA(),d.TgZ(5,"form",2)(6,"label",3),d._uU(7,"Name"),d.qZA(),d.TgZ(8,"div",4),d._UZ(9,"input",5),d.qZA(),d.TgZ(10,"label",3),d._uU(11,"Comment"),d.qZA(),d.TgZ(12,"div",6),d._UZ(13,"textarea",7),d.qZA(),d.TgZ(14,"div",8)(15,"button",9),d._uU(16," Add Comment"),d.qZA()()()())},dependencies:[Gx,Ox,Kb],styles:[".comment-form[_ngcontent-%COMP%]{padding:5px;border:none;border-radius:5px;box-shadow:0 0 33px -10px #4772fe4d}input[type=text][_ngcontent-%COMP%]{height:60px;padding-left:20px;font-size:13px;width:100%;border:none;background-color:#cecece;box-shadow:0 0 33px -10px #4772fe4d}textarea[_ngcontent-%COMP%]{height:150px;padding-left:20px;font-size:13px;width:100%;border:none;border-radius:6px;background-color:#cecece;box-shadow:0 0 33px -10px #4772fe4d}.btn[_ngcontent-%COMP%]{background-color:var(--primary-color);height:58px;width:150px;color:#fff;border:none;font-size:13px}"]}),n})(),g3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-comment-list"]],decls:46,vars:0,consts:[[1,"comment-list","container","border","p-5"],[1,"heading"],[1,"comment-box","p-3"],[1,"name"],[1,"updates","text-danger","text-center"],[1,"mt-2"],["type","button",1,"btn","btn-link"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0)(1,"div",1)(2,"h2"),d._uU(3,"Comments(25)"),d.qZA()(),d.TgZ(4,"div",2)(5,"div")(6,"div",3),d._uU(7,"John Deo"),d.qZA(),d.TgZ(8,"small",4),d._uU(9,"LAST UPDATED - SEP 20, 2023"),d.qZA()(),d.TgZ(10,"div",5)(11,"small"),d._uU(12," Lorem ipsum dolor sit amet consectetur adipisicing elit. Dolor debitis commodi blanditiis magnam. Architecto sint nam veritatis quas nihil illum temporibus omnis mollitia delectus dolor. Qui possimus numquam recusandae beatae! "),d.qZA()(),d.TgZ(13,"div")(14,"button",6),d._uU(15,"Reply"),d.qZA(),d.TgZ(16,"button",6),d._uU(17,"View Reply"),d.qZA()()(),d.TgZ(18,"div",2)(19,"div")(20,"div",3),d._uU(21,"John Deo"),d.qZA(),d.TgZ(22,"small",4),d._uU(23,"LAST UPDATED - SEP 20, 2023"),d.qZA()(),d.TgZ(24,"div",5)(25,"small"),d._uU(26," Lorem ipsum dolor sit amet consectetur adipisicing elit. Dolor debitis commodi blanditiis magnam. Architecto sint nam veritatis quas nihil illum temporibus omnis mollitia delectus dolor. Qui possimus numquam recusandae beatae! "),d.qZA()(),d.TgZ(27,"div")(28,"button",6),d._uU(29,"Reply"),d.qZA(),d.TgZ(30,"button",6),d._uU(31,"View Reply"),d.qZA()()(),d.TgZ(32,"div",2)(33,"div")(34,"div",3),d._uU(35,"John Deo"),d.qZA(),d.TgZ(36,"small",4),d._uU(37,"LAST UPDATED - SEP 20, 2023"),d.qZA()(),d.TgZ(38,"div",5)(39,"small"),d._uU(40," Lorem ipsum dolor sit amet consectetur adipisicing elit. Dolor debitis commodi blanditiis magnam. Architecto sint nam veritatis quas nihil illum temporibus omnis mollitia delectus dolor. Qui possimus numquam recusandae beatae! "),d.qZA()(),d.TgZ(41,"div")(42,"button",6),d._uU(43,"Reply"),d.qZA(),d.TgZ(44,"button",6),d._uU(45,"View Reply"),d.qZA()()()())},styles:[".comment-list[_ngcontent-%COMP%]{border:none;border-radius:5px;box-shadow:0 0 33px -10px #4772fe4d;margin-top:50px}.comment-box[_ngcontent-%COMP%]{background-color:#f3f2f2;margin-bottom:20px}.heading[_ngcontent-%COMP%]{color:var(--primary-color)}.name[_ngcontent-%COMP%]{color:purple}.updates[_ngcontent-%COMP%]{font-size:10px}button[_ngcontent-%COMP%]{text-decoration:none;font-size:smaller;margin-left:-15px}"]}),n})();function _3(n,e){1&n&&(d.TgZ(0,"small",15),d._uU(1," Features"),d.qZA())}function y3(n,e){if(1&n&&(d.TgZ(0,"div",16),d._UZ(1,"app-post-card",17),d.qZA()),2&n){const t=e.$implicit;d.xp6(1),d.Q6J("postData",t)}}const v3=[{path:"",component:uH},{path:"category/:category/:id",component:hH},{path:"post/:id",component:(()=>{class n{constructor(t,r){this._route=t,this._post=r}ngOnInit(){this._route.params.subscribe(t=>{console.log(t.id),this._post.countViews(t.id),this.categoryObj=t,this._post.loadonePost(t.id).subscribe(r=>{this.postsArray=r,this.loadSimilarPost(this.postsArray.category.categoryId),console.log("arrayypoosttt",this.postsArray)})})}loadSimilarPost(t){this._post.loadSimilar(t).subscribe(r=>{this.similarArray=r})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(el),d.Y36(Sx))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-single-post"]],decls:25,vars:11,consts:[[1,"post","container"],[1,"image"],["alt","post-image",3,"src"],[1,"card-body","mt-5"],[1,"partitions","row"],[1,"col-md-8"],[1,"bg-light","text-danger","text-center"],["class","bg-light text-success text-center ms-3",4,"ngIf"],[1,"bg-light","text-primary","text-center","ms-3"],[1,"bg-light","text-warning","text-center","ms-3"],[1,"mt-2","fw-medium","heading"],[1,"paragraphs","pb-5"],[3,"innerHtml"],[1,"col-md-4","row"],["class","pb-5",4,"ngFor","ngForOf"],[1,"bg-light","text-success","text-center","ms-3"],[1,"pb-5"],[3,"postData"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0)(1,"div")(2,"div",1),d._UZ(3,"img",2),d.qZA(),d.TgZ(4,"div",3)(5,"div",4)(6,"div",5)(7,"small",6),d._uU(8),d.qZA(),d.YNc(9,_3,2,0,"small",7),d.TgZ(10,"small",8),d._uU(11),d.qZA(),d.TgZ(12,"small",9),d._uU(13),d.ALo(14,"date"),d.qZA(),d.TgZ(15,"h1",10),d._uU(16),d.qZA(),d.TgZ(17,"div",11),d._uU(18),d.qZA(),d._UZ(19,"p",12),d.TgZ(20,"div"),d._UZ(21,"app-comment-form")(22,"app-comment-list"),d.qZA()(),d.TgZ(23,"div",13),d.YNc(24,y3,2,1,"div",14),d.qZA()()()()()),2&t&&(d.xp6(3),d.s9C("src",r.postsArray.postImgPath,d.LSH),d.xp6(5),d.hij(" ",r.postsArray.category.category,""),d.xp6(1),d.Q6J("ngIf",r.postsArray.isFeatured),d.xp6(2),d.hij(" Views-",r.postsArray.views,""),d.xp6(2),d.hij("LAST UPDATED - ",d.lcZ(14,9,r.postsArray.createdAt.toMillis()),""),d.xp6(3),d.Oqu(r.postsArray.title),d.xp6(2),d.Oqu(r.postsArray.excerpt),d.xp6(1),d.Q6J("innerHtml",r.postsArray.content,d.oJD),d.xp6(5),d.Q6J("ngForOf",r.similarArray))},dependencies:[rs,ji,m3,g3,Mx,Ur],styles:["img[_ngcontent-%COMP%]{height:500px;width:1110px}.image[_ngcontent-%COMP%]{text-align:center}.heading[_ngcontent-%COMP%]{color:var(--primary-color);max-width:600px}.paragraphs[_ngcontent-%COMP%]{max-width:670px}"]}),n})()},{path:"term-conditions",component:(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-term-and-conditions"]],decls:14,vars:0,consts:[[1,"container","con"],[1,"about-us","p-4"],[1,"heading"],[1,"about-body","p-5","mx-5","my-4"],[1,""],[1,"btn","btn-info","btn-block"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0)(1,"div",1)(2,"div",2),d._uU(3,"TERMS & CONDITIONS"),d.qZA(),d.TgZ(4,"div",3)(5,"p"),d._uU(6,"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Nam earum facere, distinctio eum blanditiis facilis quis dicta doloribus magni, voluptates culpa, fugit necessitatibus aliquid numquam amet est veniam libero ex. Aspernatur quibusdam optio ducimus tenetur at dicta similique tempore distinctio, molestias neque maiores cum accusamus earum atque iusto sapiente pariatur impedit hic in eius excepturi reprehenderit? Odit autem alias rem nesciunt beatae iste facere eius in temporibus magni quasi suscipit eveniet cupiditate similique, dignissimos doloribus officiis corporis qui ipsam, tenetur quo. Tempora, animi id obcaecati minima eaque maiores sapiente quod distinctio asperiores, accusantium dolor aliquam in. Beatae voluptatem eaque labore? "),d.qZA(),d.TgZ(7,"p"),d._uU(8," Lorem ipsum dolor sit amet consectetur adipisicing elit. Ex veniam eum rem vero quo dolorem nesciunt sit perspiciatis. Laborum quasi itaque deleniti sapiente ipsum cum sit molestias eos dolor explicabo veniam repellendus, odit nostrum aut odio harum, officiis obcaecati nesciunt! Voluptates sunt ea, sed illum, quod similique omnis deserunt quidem ab illo cumque consequuntur placeat ipsam nostrum iusto totam esse temporibus architecto molestiae nisi soluta id. Iusto magni doloremque officia numquam repellat laboriosam, ratione consequuntur debitis porro suscipit minus blanditiis? Pariatur magnam porro, placeat dignissimos a quidem distinctio, fugiat dolor commodi quam ipsa! Doloribus consequuntur, enim voluptatem culpa cupiditate natus! "),d.qZA(),d.TgZ(9,"p"),d._uU(10,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Architecto assumenda commodi reiciendis facere ut expedita nemo ad similique error recusandae impedit eaque dolores facilis atque provident fugit dolorum ab omnis, laudantium quam eius autem fuga accusamus! Velit non beatae magni commodi nesciunt aliquam, mollitia quam, rem dolore eveniet error aut. Nam aspernatur labore nobis inventore omnis officiis? Eius voluptatibus ipsam hic quia modi possimus beatae dolores? Quod incidunt amet culpa! Iusto laboriosam, et asperiores quae officiis culpa corporis quos ex inventore nemo nesciunt officia magnam? Aperiam quibusdam reprehenderit cum molestias, quia cumque natus esse. Recusandae soluta nulla assumenda nisi quibusdam!"),d.qZA(),d.TgZ(11,"div",4)(12,"button",5),d._uU(13," BACK TO HOME"),d.qZA()()()()())},styles:[".about-us[_ngcontent-%COMP%]{background-color:var(--primary-color);text-align:center;border-radius:5px}.con[_ngcontent-%COMP%]{padding-left:100px;padding-right:100px}p[_ngcontent-%COMP%]{text-align:left;color:var(--primary-color)}.heading[_ngcontent-%COMP%]{color:#ffffffe4;font-size:30px;font-weight:500}.about-body[_ngcontent-%COMP%]{background-color:var(--secondary-color);border-radius:5px}.btn[_ngcontent-%COMP%]{background-color:var(--primary-color);color:#ffffffe4}"]}),n})()},{path:"contact-us",component:(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-contact-us"]],decls:2,vars:0,template:function(t,r){1&t&&(d.TgZ(0,"p"),d._uU(1,"contact-us works!"),d.qZA())}}),n})()},{path:"about",component:(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-about"]],decls:14,vars:0,consts:[[1,"container","con"],[1,"about-us","p-4"],[1,"heading"],[1,"about-body","p-5","mx-5","my-4"],[1,""],[1,"btn","btn-info","btn-block"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0)(1,"div",1)(2,"div",2),d._uU(3,"ABOUT US"),d.qZA(),d.TgZ(4,"div",3)(5,"p"),d._uU(6,"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Nam earum facere, distinctio eum blanditiis facilis quis dicta doloribus magni, voluptates culpa, fugit necessitatibus aliquid numquam amet est veniam libero ex. Aspernatur quibusdam optio ducimus tenetur at dicta similique tempore distinctio, molestias neque maiores cum accusamus earum atque iusto sapiente pariatur impedit hic in eius excepturi reprehenderit? Odit autem alias rem nesciunt beatae iste facere eius in temporibus magni quasi suscipit eveniet cupiditate similique, dignissimos doloribus officiis corporis qui ipsam, tenetur quo. Tempora, animi id obcaecati minima eaque maiores sapiente quod distinctio asperiores, accusantium dolor aliquam in. Beatae voluptatem eaque labore? "),d.qZA(),d.TgZ(7,"p"),d._uU(8," Lorem ipsum dolor sit amet consectetur adipisicing elit. Ex veniam eum rem vero quo dolorem nesciunt sit perspiciatis. Laborum quasi itaque deleniti sapiente ipsum cum sit molestias eos dolor explicabo veniam repellendus, odit nostrum aut odio harum, officiis obcaecati nesciunt! Voluptates sunt ea, sed illum, quod similique omnis deserunt quidem ab illo cumque consequuntur placeat ipsam nostrum iusto totam esse temporibus architecto molestiae nisi soluta id. Iusto magni doloremque officia numquam repellat laboriosam, ratione consequuntur debitis porro suscipit minus blanditiis? Pariatur magnam porro, placeat dignissimos a quidem distinctio, fugiat dolor commodi quam ipsa! Doloribus consequuntur, enim voluptatem culpa cupiditate natus! "),d.qZA(),d.TgZ(9,"p"),d._uU(10,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Architecto assumenda commodi reiciendis facere ut expedita nemo ad similique error recusandae impedit eaque dolores facilis atque provident fugit dolorum ab omnis, laudantium quam eius autem fuga accusamus! Velit non beatae magni commodi nesciunt aliquam, mollitia quam, rem dolore eveniet error aut. Nam aspernatur labore nobis inventore omnis officiis? Eius voluptatibus ipsam hic quia modi possimus beatae dolores? Quod incidunt amet culpa! Iusto laboriosam, et asperiores quae officiis culpa corporis quos ex inventore nemo nesciunt officia magnam? Aperiam quibusdam reprehenderit cum molestias, quia cumque natus esse. Recusandae soluta nulla assumenda nisi quibusdam!"),d.qZA(),d.TgZ(11,"div",4)(12,"button",5),d._uU(13," BACK TO HOME"),d.qZA()()()()())},styles:[".about-us[_ngcontent-%COMP%]{background-color:var(--primary-color);text-align:center;border-radius:5px}.con[_ngcontent-%COMP%]{padding-left:100px;padding-right:100px}p[_ngcontent-%COMP%]{text-align:left;color:var(--primary-color)}.heading[_ngcontent-%COMP%]{color:#ffffffe4;font-size:30px;font-weight:500}.about-body[_ngcontent-%COMP%]{background-color:var(--secondary-color);border-radius:5px}.btn[_ngcontent-%COMP%]{background-color:var(--primary-color);color:#ffffffe4}"]}),n})()}];let b3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[KT.forRoot(v3),KT]}),n})();const E3=function(){return[""]};let w3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-header"]],decls:5,vars:2,consts:[[1,"navbar","navbar-expand-lg","fixed-top","bg-white","h-16"],[1,"container","justify-content-center"],["href","#",1,"px-4","py-2","rounded-pill","text-decoration-none",2,"color","var(--primary-color)","background-color","var(--secondary-color)",3,"routerLink"]],template:function(t,r){1&t&&(d.TgZ(0,"header",0)(1,"div",1)(2,"a",2)(3,"b"),d._uU(4,"IMBLOGSTER"),d.qZA()()()()),2&t&&(d.xp6(2),d.Q6J("routerLink",d.DdM(1,E3)))},dependencies:[Ud]}),n})(),I3=(()=>{class n{constructor(t){this._fire=t}loadData(){return this._fire.collection("categories").snapshotChanges().pipe((0,ct.U)(t=>t.map(r=>{const i=r.payload.doc.data();return{id:r.payload.doc.id,data:i}})))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Ax))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const D3=function(n,e){return["/category",n,e]};function C3(n,e){if(1&n&&(d.TgZ(0,"ul",4)(1,"li",5)(2,"a",6),d._uU(3),d.qZA()()()),2&n){const t=e.$implicit;d.xp6(2),d.Q6J("routerLink",d.WLB(2,D3,t.data.category,t.id)),d.xp6(1),d.Oqu(t.data.category)}}let T3=(()=>{class n{constructor(t){this._category=t}ngOnInit(){this._category.loadData().subscribe(t=>{console.log(t),this.categoryArray=t})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(I3))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-category-navbar"]],decls:4,vars:1,consts:[[1,"navbar","navbar-expand-lg","fixed-top"],[1,"container"],[1,"collapse","navbar-collapse","justify-content-center"],["class","navbar-nav ",4,"ngFor","ngForOf"],[1,"navbar-nav"],[1,"nav-item","ms-3"],["href","",1,"nav-link",3,"routerLink"]],template:function(t,r){1&t&&(d.TgZ(0,"nav",0)(1,"div",1)(2,"div",2),d.YNc(3,C3,4,5,"ul",3),d.qZA()()()),2&t&&(d.xp6(3),d.Q6J("ngForOf",r.categoryArray))},dependencies:[rs,Ud],styles:["nav[_ngcontent-%COMP%]{margin-top:52px;background-color:var(--navbar-footer-color)}.nav-link[_ngcontent-%COMP%]{text-transform:uppercase;color:var(--primary-color)}"]}),n})(),A3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-footer"]],decls:23,vars:0,consts:[[1,""],[1,"container"],[1,"row"],[1,"col-md-12","text-center"],[1,"site-logo"],[1,"nav","justify-content-center"],[1,"nav-item"],["href","",1,"nav-link"],[1,"copyright"]],template:function(t,r){1&t&&(d.TgZ(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"b"),d._uU(6,"IMBLOGSTER"),d.qZA()(),d.TgZ(7,"div")(8,"ul",5)(9,"li",6)(10,"a",7),d._uU(11,"Home"),d.qZA()(),d.TgZ(12,"li",6)(13,"a",7),d._uU(14,"About"),d.qZA()(),d.TgZ(15,"li",6)(16,"a",7),d._uU(17,"Terms & Conditions"),d.qZA()(),d.TgZ(18,"li",6)(19,"a",7),d._uU(20,"Contact"),d.qZA()()()(),d.TgZ(21,"p",8),d._uU(22,"Copyright @2023 Angular Blogsite"),d.qZA()()()()())},styles:["footer[_ngcontent-%COMP%]{background-color:var(--navbar-footer-color);padding:20px}.site-logo[_ngcontent-%COMP%]{color:var(--primary-color);padding:8px 20px;background-color:var(--secondary-color);border-radius:30px}.nav-link[_ngcontent-%COMP%]{color:var(--primary-color)}.copyright[_ngcontent-%COMP%]{color:purple}"]}),n})();function S3(n,e){1&n&&(d.TgZ(0,"div"),d._uU(1,"Name is required Field"),d.qZA())}function M3(n,e){if(1&n&&(d.TgZ(0,"div",16),d.YNc(1,S3,2,0,"div",17),d.qZA()),2&n){d.oxw();const t=d.MAs(11);d.xp6(1),d.Q6J("ngIf",null==t.errors?null:t.errors.required)}}function x3(n,e){1&n&&(d.TgZ(0,"div"),d._uU(1,"Email cannot be empty"),d.qZA())}function R3(n,e){1&n&&(d.TgZ(0,"div"),d._uU(1,"Type valid email address"),d.qZA())}function P3(n,e){if(1&n&&(d.TgZ(0,"div",18),d.YNc(1,x3,2,0,"div",17),d.YNc(2,R3,2,0,"div",17),d.qZA()),2&n){d.oxw();const t=d.MAs(15);d.xp6(1),d.Q6J("ngIf",null==t.errors?null:t.errors.required),d.xp6(1),d.Q6J("ngIf",null==t.errors?null:t.errors.email)}}const kL=function(n){return{"is-valid":n}};let O3=(()=>{class n{onSubmit(t){console.log(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-subscription-form"]],decls:20,vars:9,consts:[[1,"card"],[1,"card-body"],[1,"text-center","mt-3"],[1,"fw-medium"],[1,"m-auto","subs-text","mb-4"],["action","",1,"row","form-inline","mb-5",3,"ngSubmit"],["subForm","ngForm"],[1,"form-group","col-md-5"],["type","text","placeholder","Your Name","name","name","ngModel","","required","",1,"form-control",3,"ngClass"],["Name","ngModel"],["class","text-danger",4,"ngIf"],["placeholder","Your Email","type","email","name","email","ngModel","","required","","email","",1,"form-control",3,"ngClass"],["Email","ngModel"],["class","alert alert-danger",4,"ngIf"],[1,"col-md-2"],[1,"btn","btn-info","btn-sub","btn-block",3,"disabled"],[1,"text-danger"],[4,"ngIf"],[1,"alert","alert-danger"]],template:function(t,r){if(1&t){const i=d.EpF();d.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),d._uU(4,"SUBSCRIPTION FORM"),d.qZA(),d.TgZ(5,"p",4),d._uU(6,'"Stay informed and inspired with the latest updates from my blog app. Subscribe today and unlock a world of valuable insights, expert advice, and captivating content at your fingertips."'),d.qZA(),d.TgZ(7,"form",5,6),d.NdJ("ngSubmit",function(){d.CHM(i);const l=d.MAs(8);return d.KtG(r.onSubmit(l.value))}),d.TgZ(9,"div",7),d._UZ(10,"input",8,9),d.YNc(12,M3,2,1,"div",10),d.qZA(),d.TgZ(13,"div",7),d._UZ(14,"input",11,12),d.YNc(16,P3,3,2,"div",13),d.qZA(),d.TgZ(17,"div",14)(18,"button",15),d._uU(19," SUBSCRIBE"),d.qZA()()()()()()}if(2&t){const i=d.MAs(8),a=d.MAs(11),l=d.MAs(15);d.xp6(10),d.Q6J("ngClass",d.VKq(5,kL,a.touched&&a.invalid)),d.xp6(2),d.Q6J("ngIf",a.touched&&a.invalid),d.xp6(2),d.Q6J("ngClass",d.VKq(7,kL,a.touched&&a.invalid)),d.xp6(2),d.Q6J("ngIf",l.touched&&l.invalid),d.xp6(2),d.Q6J("disabled",i.invalid)}},dependencies:[Ft,ji,Gx,wD,nL,Ox,OD,Qx,zx,Kb],styles:[".card[_ngcontent-%COMP%]{background-color:var(--secondary-color);border:none;box-shadow:0 0 33px -10px #4772fe4d;color:#810281}input[type=text][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%]{height:60px;padding-left:20px;font-size:13px;width:100%;border:none;box-shadow:0 0 33px -10px #4772fe4d}.btn[_ngcontent-%COMP%]{background-color:var(--primary-color);height:58px;width:150px;color:#fff;border:none;font-size:13px}.subs-text[_ngcontent-%COMP%]{width:600px}"]}),n})(),k3=(()=>{class n{constructor(){this.title="blog-appp"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-root"]],decls:8,vars:0,consts:[[1,"app-body"],[1,"container","mb-5","mt-5"],[1,"row","justify-content-center"]],template:function(t,r){1&t&&(d._UZ(0,"app-header")(1,"app-category-navbar"),d.TgZ(2,"div",0),d._UZ(3,"router-outlet"),d.qZA(),d.TgZ(4,"div",1)(5,"div",2),d._UZ(6,"app-subscription-form"),d.qZA()(),d._UZ(7,"app-footer"))},dependencies:[Hy,w3,T3,A3,O3],styles:[".app-body[_ngcontent-%COMP%]{min-height:100vh;margin-top:105px}"]}),n})();function NL(n){return new d.vHH(3e3,!1)}function g4(){return typeof window<"u"&&typeof window.document<"u"}function Jx(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Th(n){switch(n.length){case 0:return new wd;case 1:return n[0];default:return new ay(n)}}function FL(n,e,t,r,i=new Map,a=new Map){const l=[],p=[];let y=-1,w=null;if(r.forEach(T=>{const R=T.get("offset"),B=R==y,q=B&&w||new Map;T.forEach((Q,ce)=>{let _e=ce,Ze=Q;if("offset"!==ce)switch(_e=e.normalizePropertyName(_e,l),Ze){case cy:Ze=i.get(ce);break;case Ki:Ze=a.get(ce);break;default:Ze=e.normalizeStyleValue(ce,_e,Ze,l)}q.set(_e,Ze)}),B||p.push(q),w=q,y=R}),l.length)throw function r4(n){return new d.vHH(3502,!1)}();return p}function Xx(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&eR(t,"start",n)));break;case"done":n.onDone(()=>r(t&&eR(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&eR(t,"destroy",n)))}}function eR(n,e,t){const a=tR(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),l=n._data;return null!=l&&(a._data=l),a}function tR(n,e,t,r,i="",a=0,l){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:a,disabled:!!l}}function So(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function LL(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let nR=(n,e)=>!1,VL=(n,e,t)=>[],BL=null;function rR(n){const e=n.parentNode||n.host;return e===BL?null:e}(Jx()||typeof Element<"u")&&(g4()?(BL=(()=>document.documentElement)(),nR=(n,e)=>{for(;e;){if(e===n)return!0;e=rR(e)}return!1}):nR=(n,e)=>n.contains(e),VL=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Hp=null,UL=!1;const jL=nR,$L=VL;let HL=(()=>{class n{validateStyleProperty(t){return function y4(n){Hp||(Hp=function v4(){return typeof document<"u"?document.body:null}()||{},UL=!!Hp.style&&"WebkitAppearance"in Hp.style);let e=!0;return Hp.style&&!function _4(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Hp.style,!e&&UL&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Hp.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return jL(t,r)}getParentElement(t){return rR(t)}query(t,r,i){return $L(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,a,l,p=[],y){return new wd(i,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),iR=(()=>{class n{}return n.NOOP=new HL,n})();const b4=1e3,sR="ng-enter",kD="ng-leave",ND="ng-trigger",FD=".ng-trigger",GL="ng-animating",oR=".ng-animating";function xu(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:aR(parseFloat(e[1]),e[2])}function aR(n,e){return"s"===e?n*b4:n}function LD(n,e,t){return n.hasOwnProperty("duration")?n:function w4(n,e,t){let i,a=0,l="";if("string"==typeof n){const p=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===p)return e.push(NL()),{duration:0,delay:0,easing:""};i=aR(parseFloat(p[1]),p[2]);const y=p[3];null!=y&&(a=aR(parseFloat(y),p[4]));const w=p[5];w&&(l=w)}else i=n;if(!t){let p=!1,y=e.length;i<0&&(e.push(function N3(){return new d.vHH(3100,!1)}()),p=!0),a<0&&(e.push(function F3(){return new d.vHH(3101,!1)}()),p=!0),p&&e.splice(y,0,NL())}return{duration:i,delay:a,easing:l}}(n,e,t)}function Yb(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function qL(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Ah(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function ZL(n,e,t){return t?e+":"+t+";":""}function KL(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=ZL(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=ZL(0,T4(t),n.style[t]));n.setAttribute("style",e)}function gl(n,e,t){n.style&&(e.forEach((r,i)=>{const a=lR(i);t&&!t.has(i)&&t.set(i,n.style[a]),n.style[a]=r}),Jx()&&KL(n))}function zp(n,e){n.style&&(e.forEach((t,r)=>{const i=lR(r);n.style[i]=""}),Jx()&&KL(n))}function Qb(n){return Array.isArray(n)?1==n.length?n[0]:Ef(n):n}const cR=new RegExp("{{\\s*(.+?)\\s*}}","g");function YL(n){let e=[];if("string"==typeof n){let t;for(;t=cR.exec(n);)e.push(t[1]);cR.lastIndex=0}return e}function Jb(n,e,t){const r=n.toString(),i=r.replace(cR,(a,l)=>{let p=e[l];return null==p&&(t.push(function V3(n){return new d.vHH(3003,!1)}()),p=""),p.toString()});return i==r?n:i}function VD(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const C4=/-+([a-z0-9])/g;function lR(n){return n.replace(C4,(...e)=>e[1].toUpperCase())}function T4(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Mo(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function B3(n){return new d.vHH(3004,!1)}()}}function QL(n,e){return window.getComputedStyle(n)[e]}const jD="*";function P4(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function O4(n,e,t){if(":"==n[0]){const y=function k4(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function X3(n){return new d.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof y)return void e.push(y);n=y}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function J3(n){return new d.vHH(3015,!1)}()),e;const i=r[1],a=r[2],l=r[3];e.push(JL(i,l));"<"==a[0]&&!(i==jD&&l==jD)&&e.push(JL(l,i))}(r,t,e)):t.push(n),t}const $D=new Set(["true","1"]),HD=new Set(["false","0"]);function JL(n,e){const t=$D.has(n)||HD.has(n),r=$D.has(e)||HD.has(e);return(i,a)=>{let l=n==jD||n==i,p=e==jD||e==a;return!l&&t&&"boolean"==typeof i&&(l=i?$D.has(n):HD.has(n)),!p&&r&&"boolean"==typeof a&&(p=a?$D.has(e):HD.has(e)),l&&p}}const N4=new RegExp("s*:selfs*,?","g");function uR(n,e,t,r){return new F4(n).build(e,t,r)}class F4{constructor(e){this._driver=e}build(e,t,r){const i=new B4(t);return this._resetContextStyleTimingState(i),Mo(this,Qb(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const a=[],l=[];return"@"==e.name.charAt(0)&&t.errors.push(function j3(){return new d.vHH(3006,!1)}()),e.definitions.forEach(p=>{if(this._resetContextStyleTimingState(t),0==p.type){const y=p,w=y.name;w.toString().split(/\s*,\s*/).forEach(T=>{y.name=T,a.push(this.visitState(y,t))}),y.name=w}else if(1==p.type){const y=this.visitTransition(p,t);r+=y.queryCount,i+=y.depCount,l.push(y)}else t.errors.push(function $3(){return new d.vHH(3007,!1)}())}),{type:7,name:e.name,states:a,transitions:l,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const a=new Set,l=i||{};r.styles.forEach(p=>{p instanceof Map&&p.forEach(y=>{YL(y).forEach(w=>{l.hasOwnProperty(w)||a.add(w)})})}),a.size&&(VD(a.values()),t.errors.push(function H3(n,e){return new d.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Mo(this,Qb(e.animation),t);return{type:1,matchers:P4(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Gp(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Mo(this,r,t)),options:Gp(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const a=e.steps.map(l=>{t.currentTime=r;const p=Mo(this,l,t);return i=Math.max(i,t.currentTime),p});return t.currentTime=i,{type:3,steps:a,options:Gp(e.options)}}visitAnimate(e,t){const r=function j4(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return dR(LD(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=dR(0,0,"");return a.dynamic=!0,a.strValue=t,a}const i=LD(t,e);return dR(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,a=e.styles?e.styles:Zc({});if(5==a.type)i=this.visitKeyframes(a,t);else{let l=e.styles,p=!1;if(!l){p=!0;const w={};r.easing&&(w.easing=r.easing),l=Zc(w)}t.currentTime+=r.duration+r.delay;const y=this.visitStyle(l,t);y.isEmptyStep=p,i=y}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let p of i)"string"==typeof p?p===Ki?r.push(p):t.errors.push(new d.vHH(3002,!1)):r.push(qL(p));let a=!1,l=null;return r.forEach(p=>{if(p instanceof Map&&(p.has("easing")&&(l=p.get("easing"),p.delete("easing")),!a))for(let y of p.values())if(y.toString().indexOf("{{")>=0){a=!0;break}}),{type:6,styles:r,easing:l,offset:e.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,a=t.currentTime;r&&a>0&&(a-=r.duration+r.delay),e.styles.forEach(l=>{"string"!=typeof l&&l.forEach((p,y)=>{const w=t.collectedStyles.get(t.currentQuerySelector),T=w.get(y);let R=!0;T&&(a!=i&&a>=T.startTime&&i<=T.endTime&&(t.errors.push(function G3(n,e,t,r,i){return new d.vHH(3010,!1)}()),R=!1),a=T.startTime),R&&w.set(y,{startTime:a,endTime:i}),t.options&&function D4(n,e,t){const r=e.params||{},i=YL(n);i.length&&i.forEach(a=>{r.hasOwnProperty(a)||t.push(function L3(n){return new d.vHH(3001,!1)}())})}(p,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function q3(){return new d.vHH(3011,!1)}()),r;let a=0;const l=[];let p=!1,y=!1,w=0;const T=e.steps.map(Ze=>{const it=this._makeStyleAst(Ze,t);let at=null!=it.offset?it.offset:function U4(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(it.styles),gt=0;return null!=at&&(a++,gt=it.offset=at),y=y||gt<0||gt>1,p=p||gt<w,w=gt,l.push(gt),it});y&&t.errors.push(function W3(){return new d.vHH(3012,!1)}()),p&&t.errors.push(function Z3(){return new d.vHH(3200,!1)}());const R=e.steps.length;let B=0;a>0&&a<R?t.errors.push(function K3(){return new d.vHH(3202,!1)}()):0==a&&(B=1/(R-1));const q=R-1,Q=t.currentTime,ce=t.currentAnimateTimings,_e=ce.duration;return T.forEach((Ze,it)=>{const at=B>0?it==q?1:B*it:l[it],gt=at*_e;t.currentTime=Q+ce.delay+gt,ce.duration=gt,this._validateStyleAst(Ze,t),Ze.offset=at,r.styles.push(Ze)}),r}visitReference(e,t){return{type:8,animation:Mo(this,Qb(e.animation),t),options:Gp(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Gp(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Gp(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[a,l]=function L4(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(N4,"")),n=n.replace(/@\*/g,FD).replace(/@\w+/g,t=>FD+"-"+t.slice(1)).replace(/:animating/g,oR),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+a:a,So(t.collectedStyles,t.currentQuerySelector,new Map);const p=Mo(this,Qb(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:l,animation:p,originalSelector:e.selector,options:Gp(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Y3(){return new d.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:LD(e.timings,t.errors,!0);return{type:12,animation:Mo(this,Qb(e.animation),t),timings:r,options:null}}}class B4{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Gp(n){return n?(n=Yb(n)).params&&(n.params=function V4(n){return n?Yb(n):null}(n.params)):n={},n}function dR(n,e,t){return{duration:n,delay:e,easing:t}}function hR(n,e,t,r,i,a,l=null,p=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:a,totalTime:i+a,easing:l,subTimeline:p}}class zD{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const z4=new RegExp(":enter","g"),q4=new RegExp(":leave","g");function fR(n,e,t,r,i,a=new Map,l=new Map,p,y,w=[]){return(new W4).buildKeyframes(n,e,t,r,i,a,l,p,y,w)}class W4{buildKeyframes(e,t,r,i,a,l,p,y,w,T=[]){w=w||new zD;const R=new pR(e,t,w,i,a,T,[]);R.options=y;const B=y.delay?xu(y.delay):0;R.currentTimeline.delayNextStep(B),R.currentTimeline.setStyles([l],null,R.errors,y),Mo(this,r,R);const q=R.timelines.filter(Q=>Q.containsAnimation());if(q.length&&p.size){let Q;for(let ce=q.length-1;ce>=0;ce--){const _e=q[ce];if(_e.element===t){Q=_e;break}}Q&&!Q.allowOnlyTimelineStyles()&&Q.setStyles([p],null,R.errors,y)}return q.length?q.map(Q=>Q.buildKeyframes()):[hR(t,[],[],[],0,B,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),a=t.currentTimeline.currentTime,l=this._visitSubInstructions(r,i,i.options);a!=l&&t.transformIntoNewTimeline(l)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const a=i?.delay;if(a){const l="number"==typeof a?a:xu(Jb(a,i?.params??{},t.errors));r.delayNextStep(l)}}}_visitSubInstructions(e,t,r){let a=t.currentTimeline.currentTime;const l=null!=r.duration?xu(r.duration):null,p=null!=r.delay?xu(r.delay):null;return 0!==l&&e.forEach(y=>{const w=t.appendInstructionToTimeline(y,l,p);a=Math.max(a,w.duration+w.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),Mo(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const a=e.options;if(a&&(a.params||a.delay)&&(i=t.createSubContext(a),i.transformIntoNewTimeline(),null!=a.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=GD);const l=xu(a.delay);i.delayNextStep(l)}e.steps.length&&(e.steps.forEach(l=>Mo(this,l,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?xu(e.options.delay):0;e.steps.forEach(l=>{const p=t.createSubContext(e.options);a&&p.delayNextStep(a),Mo(this,l,p),i=Math.max(i,p.currentTimeline.currentTime),r.push(p.currentTimeline)}),r.forEach(l=>t.currentTimeline.mergeTimelineCollectedStyles(l)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return LD(t.params?Jb(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(r.duration),this.visitStyle(a,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const a=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(a):r.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,a=r.duration,p=t.createSubContext().currentTimeline;p.easing=r.easing,e.styles.forEach(y=>{p.forwardTime((y.offset||0)*a),p.setStyles(y.styles,y.easing,t.errors,t.options),p.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(p),t.transformIntoNewTimeline(i+a),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},a=i.delay?xu(i.delay):0;a&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=GD);let l=r;const p=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=p.length;let y=null;p.forEach((w,T)=>{t.currentQueryIndex=T;const R=t.createSubContext(e.options,w);a&&R.delayNextStep(a),w===t.element&&(y=R.currentTimeline),Mo(this,e.animation,R),R.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,R.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(l),y&&(t.currentTimeline.mergeTimelineCollectedStyles(y),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,a=e.timings,l=Math.abs(a.duration),p=l*(t.currentQueryTotal-1);let y=l*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":y=p-y;break;case"full":y=r.currentStaggerTime}const T=t.currentTimeline;y&&T.delayNextStep(y);const R=T.currentTime;Mo(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-R+(i.startTime-r.currentTimeline.startTime)}}const GD={};class pR{constructor(e,t,r,i,a,l,p,y){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=a,this.errors=l,this.timelines=p,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=GD,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=y||new qD(this._driver,t,0),p.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=xu(r.duration)),null!=r.delay&&(i.delay=xu(r.delay));const a=r.params;if(a){let l=i.params;l||(l=this.options.params={}),Object.keys(a).forEach(p=>{(!t||!l.hasOwnProperty(p))&&(l[p]=Jb(a[p],l,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,a=new pR(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=GD,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},a=new Z4(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(a),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,a,l){let p=[];if(i&&p.push(this.element),e.length>0){e=(e=e.replace(z4,"."+this._enterClassName)).replace(q4,"."+this._leaveClassName);let w=this._driver.query(this.element,e,1!=r);0!==r&&(w=r<0?w.slice(w.length+r,w.length):w.slice(0,r)),p.push(...w)}return!a&&0==p.length&&l.push(function Q3(n){return new d.vHH(3014,!1)}()),p}}class qD{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new qD(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Ki),this._currentKeyframe.set(t,Ki);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const a=i&&i.params||{},l=function K4(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let a of r)t.set(a,Ki)}else Ah(i,t)}),t}(e,this._globalTimelineStyles);for(let[p,y]of l){const w=Jb(y,a,r);this._pendingStyles.set(p,w),this._localTimelineStyles.has(p)||this._backFill.set(p,this._globalTimelineStyles.get(p)??Ki),this._updateStyle(p,w)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((p,y)=>{const w=Ah(p,new Map,this._backFill);w.forEach((T,R)=>{T===cy?e.add(R):T===Ki&&t.add(R)}),r||w.set("offset",y/this.duration),i.push(w)});const a=e.size?VD(e.values()):[],l=t.size?VD(t.values()):[];if(r){const p=i[0],y=new Map(p);p.set("offset",0),y.set("offset",1),i=[p,y]}return hR(this.element,i,a,l,this.duration,this.startTime,this.easing,!1)}}class Z4 extends qD{constructor(e,t,r,i,a,l,p=!1){super(e,t,l.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=a,this._stretchStartingKeyframe=p,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],l=r+t,p=t/l,y=Ah(e[0]);y.set("offset",0),a.push(y);const w=Ah(e[0]);w.set("offset",t2(p)),a.push(w);const T=e.length-1;for(let R=1;R<=T;R++){let B=Ah(e[R]);const q=B.get("offset");B.set("offset",t2((t+q*r)/l)),a.push(B)}r=l,t=0,i="",e=a}return hR(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function t2(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class mR{}const Y4=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Q4 extends mR{normalizePropertyName(e,t){return lR(e)}normalizeStyleValue(e,t,r,i){let a="";const l=r.toString().trim();if(Y4.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)a="px";else{const p=r.match(/^[+-]?[\d\.]+([a-z]*)$/);p&&0==p[1].length&&i.push(function U3(n,e){return new d.vHH(3005,!1)}())}return l+a}}function n2(n,e,t,r,i,a,l,p,y,w,T,R,B){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:a,toState:r,toStyles:l,timelines:p,queriedElements:y,preStyleProps:w,postStyleProps:T,totalTime:R,errors:B}}const gR={};class r2{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function J4(n,e,t,r,i){return n.some(a=>a(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,a,l,p,y,w,T){const R=[],B=this.ast.options&&this.ast.options.params||gR,Q=this.buildStyles(r,p&&p.params||gR,R),ce=y&&y.params||gR,_e=this.buildStyles(i,ce,R),Ze=new Set,it=new Map,at=new Map,gt="void"===i,Vt={params:X4(ce,B),delay:this.ast.options?.delay},Wt=T?[]:fR(e,t,this.ast.animation,a,l,Q,_e,Vt,w,R);let wn=0;if(Wt.forEach(da=>{wn=Math.max(da.duration+da.delay,wn)}),R.length)return n2(t,this._triggerName,r,i,gt,Q,_e,[],[],it,at,wn,R);Wt.forEach(da=>{const Ru=da.element,v2=So(it,Ru,new Set);da.preStyleProps.forEach(qp=>v2.add(qp));const e0=So(at,Ru,new Set);da.postStyleProps.forEach(qp=>e0.add(qp)),Ru!==t&&Ze.add(Ru)});const Li=VD(Ze.values());return n2(t,this._triggerName,r,i,gt,Q,_e,Wt,Li,it,at,wn)}}function X4(n,e){const t=Yb(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class ez{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=Yb(this.defaultParams);return Object.keys(e).forEach(a=>{const l=e[a];null!==l&&(i[a]=l)}),this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((l,p)=>{l&&(l=Jb(l,i,t));const y=this.normalizer.normalizePropertyName(p,t);l=this.normalizer.normalizeStyleValue(p,y,l,t),r.set(p,l)})}),r}}class nz{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new ez(i.style,i.options&&i.options.params||{},r))}),s2(this.states,"true","1"),s2(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new r2(e,i,this.states))}),this.fallbackTransition=function rz(n,e,t){return new r2(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,p)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(l=>l.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function s2(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const iz=new zD;class sz{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],i=[],a=uR(this._driver,t,r,i);if(r.length)throw function s4(n){return new d.vHH(3503,!1)}();this._animations.set(e,a)}_buildPlayer(e,t,r){const i=e.element,a=FL(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],a=this._animations.get(e);let l;const p=new Map;if(a?(l=fR(this._driver,t,a,sR,kD,new Map,new Map,r,iz,i),l.forEach(T=>{const R=So(p,T.element,new Map);T.postStyleProps.forEach(B=>R.set(B,null))})):(i.push(function o4(){return new d.vHH(3300,!1)}()),l=[]),i.length)throw function a4(n){return new d.vHH(3504,!1)}();p.forEach((T,R)=>{T.forEach((B,q)=>{T.set(q,this._driver.computeStyle(R,q,Ki))})});const w=Th(l.map(T=>{const R=p.get(T.element);return this._buildPlayer(T,new Map,R)}));return this._playersById.set(e,w),w.onDestroy(()=>this.destroy(e)),this.players.push(w),w}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function c4(n){return new d.vHH(3301,!1)}();return t}listen(e,t,r,i){const a=tR(t,"","","");return Xx(this._getPlayer(e),r,a,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const a=this._getPlayer(e);switch(r){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const o2="ng-animate-queued",_R="ng-animate-disabled",uz=[],a2={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},dz={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},la="__ng_removed";class yR{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function mz(n){return n??null}(r?e.value:e),r){const a=Yb(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Xb="void",vR=new yR(Xb);class hz{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,ua(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function l4(n,e){return new d.vHH(3302,!1)}();if(null==r||0==r.length)throw function u4(n){return new d.vHH(3303,!1)}();if(!function gz(n){return"start"==n||"done"==n}(r))throw function d4(n,e){return new d.vHH(3400,!1)}();const a=So(this._elementListeners,e,[]),l={name:t,phase:r,callback:i};a.push(l);const p=So(this._engine.statesByElement,e,new Map);return p.has(t)||(ua(e,ND),ua(e,ND+"-"+t),p.set(t,vR)),()=>{this._engine.afterFlush(()=>{const y=a.indexOf(l);y>=0&&a.splice(y,1),this._triggers.has(t)||p.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function h4(n){return new d.vHH(3401,!1)}();return t}trigger(e,t,r,i=!0){const a=this._getTrigger(t),l=new bR(this.id,t,e);let p=this._engine.statesByElement.get(e);p||(ua(e,ND),ua(e,ND+"-"+t),this._engine.statesByElement.set(e,p=new Map));let y=p.get(t);const w=new yR(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&y&&w.absorbOptions(y.options),p.set(t,w),y||(y=vR),w.value!==Xb&&y.value===w.value){if(!function vz(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const a=t[i];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(y.params,w.params)){const ce=[],_e=a.matchStyles(y.value,y.params,ce),Ze=a.matchStyles(w.value,w.params,ce);ce.length?this._engine.reportError(ce):this._engine.afterFlush(()=>{zp(e,_e),gl(e,Ze)})}return}const B=So(this._engine.playersByElement,e,[]);B.forEach(ce=>{ce.namespaceId==this.id&&ce.triggerName==t&&ce.queued&&ce.destroy()});let q=a.matchTransition(y.value,w.value,e,w.params),Q=!1;if(!q){if(!i)return;q=a.fallbackTransition,Q=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:q,fromState:y,toState:w,player:l,isFallbackTransition:Q}),Q||(ua(e,o2),l.onStart(()=>{D_(e,o2)})),l.onDone(()=>{let ce=this.players.indexOf(l);ce>=0&&this.players.splice(ce,1);const _e=this._engine.playersByElement.get(e);if(_e){let Ze=_e.indexOf(l);Ze>=0&&_e.splice(Ze,1)}}),this.players.push(l),B.push(l),l}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,FD,!0);r.forEach(i=>{if(i[la])return;const a=this._engine.fetchNamespacesByElement(i);a.size?a.forEach(l=>l.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const a=this._engine.statesByElement.get(e),l=new Map;if(a){const p=[];if(a.forEach((y,w)=>{if(l.set(w,y.value),this._triggers.has(w)){const T=this.trigger(e,w,Xb,i);T&&p.push(T)}}),p.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,l),r&&Th(p).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(a=>{const l=a.name;if(i.has(l))return;i.add(l);const y=this._triggers.get(l).fallbackTransition,w=r.get(l)||vR,T=new yR(Xb),R=new bR(this.id,l,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:l,transition:y,fromState:w,toState:T,player:R,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const a=r.players.length?r.playersByQueriedElement.get(e):[];if(a&&a.length)i=!0;else{let l=e;for(;l=l.parentNode;)if(r.statesByElement.get(l)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const a=e[la];(!a||a===a2)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){ua(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const a=r.element,l=this._elementListeners.get(a);l&&l.forEach(p=>{if(p.name==r.triggerName){const y=tR(a,r.triggerName,r.fromState.value,r.toState.value);y._data=e,Xx(r.player,p.phase,y,p.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const a=r.transition.ast.depCount,l=i.transition.ast.depCount;return 0==a||0==l?a-l:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class fz{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,a)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new hz(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let l=!1,p=this.driver.getParentElement(t);for(;p;){const y=i.get(p);if(y){const w=r.indexOf(y);r.splice(w+1,0,e),l=!0;break}p=this.driver.getParentElement(p)}l||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const a=this._fetchNamespace(i.namespaceId);a&&t.add(a)}return t}trigger(e,t,r,i){if(WD(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!WD(t))return;const a=t[la];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const l=this.collectedLeaveElements.indexOf(t);l>=0&&this.collectedLeaveElements.splice(l,1)}if(e){const l=this._fetchNamespace(e);l&&l.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),ua(e,_R)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),D_(e,_R))}removeNode(e,t,r,i){if(WD(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const l=this.namespacesByHostElement.get(t);l&&l.id!==e&&l.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,a){this.collectedLeaveElements.push(t),t[la]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,r,i,a){return WD(t)?this._fetchNamespace(e).listen(t,r,i,a):()=>{}}_buildInstruction(e,t,r,i,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,FD,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,oR,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Th(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[la];if(t&&t.setForRemoval){if(e[la]=a2,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(_R)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)ua(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Th(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function f4(n){return new d.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new zD,i=[],a=new Map,l=[],p=new Map,y=new Map,w=new Map,T=new Set;this.disabledNodes.forEach(It=>{T.add(It);const Rt=this.driver.query(It,".ng-animate-queued",!0);for(let jt=0;jt<Rt.length;jt++)T.add(Rt[jt])});const R=this.bodyNode,B=Array.from(this.statesByElement.keys()),q=u2(B,this.collectedEnterElements),Q=new Map;let ce=0;q.forEach((It,Rt)=>{const jt=sR+ce++;Q.set(Rt,jt),It.forEach(bn=>ua(bn,jt))});const _e=[],Ze=new Set,it=new Set;for(let It=0;It<this.collectedLeaveElements.length;It++){const Rt=this.collectedLeaveElements[It],jt=Rt[la];jt&&jt.setForRemoval&&(_e.push(Rt),Ze.add(Rt),jt.hasAnimation?this.driver.query(Rt,".ng-star-inserted",!0).forEach(bn=>Ze.add(bn)):it.add(Rt))}const at=new Map,gt=u2(B,Array.from(Ze));gt.forEach((It,Rt)=>{const jt=kD+ce++;at.set(Rt,jt),It.forEach(bn=>ua(bn,jt))}),e.push(()=>{q.forEach((It,Rt)=>{const jt=Q.get(Rt);It.forEach(bn=>D_(bn,jt))}),gt.forEach((It,Rt)=>{const jt=at.get(Rt);It.forEach(bn=>D_(bn,jt))}),_e.forEach(It=>{this.processLeaveNode(It)})});const Vt=[],Wt=[];for(let It=this._namespaceList.length-1;It>=0;It--)this._namespaceList[It].drainQueuedTransitions(t).forEach(jt=>{const bn=jt.player,wi=jt.element;if(Vt.push(bn),this.collectedEnterElements.length){const ns=wi[la];if(ns&&ns.setForMove){if(ns.previousTriggersValues&&ns.previousTriggersValues.has(jt.triggerName)){const Wp=ns.previousTriggersValues.get(jt.triggerName),ha=this.statesByElement.get(jt.element);if(ha&&ha.has(jt.triggerName)){const YD=ha.get(jt.triggerName);YD.value=Wp,ha.set(jt.triggerName,YD)}}return void bn.destroy()}}const _l=!R||!this.driver.containsElement(R,wi),xo=at.get(wi),Sh=Q.get(wi),gr=this._buildInstruction(jt,r,Sh,xo,_l);if(gr.errors&&gr.errors.length)return void Wt.push(gr);if(_l)return bn.onStart(()=>zp(wi,gr.fromStyles)),bn.onDestroy(()=>gl(wi,gr.toStyles)),void i.push(bn);if(jt.isFallbackTransition)return bn.onStart(()=>zp(wi,gr.fromStyles)),bn.onDestroy(()=>gl(wi,gr.toStyles)),void i.push(bn);const w2=[];gr.timelines.forEach(ns=>{ns.stretchStartingKeyframe=!0,this.disabledNodes.has(ns.element)||w2.push(ns)}),gr.timelines=w2,r.append(wi,gr.timelines),l.push({instruction:gr,player:bn,element:wi}),gr.queriedElements.forEach(ns=>So(p,ns,[]).push(bn)),gr.preStyleProps.forEach((ns,Wp)=>{if(ns.size){let ha=y.get(Wp);ha||y.set(Wp,ha=new Set),ns.forEach((YD,IR)=>ha.add(IR))}}),gr.postStyleProps.forEach((ns,Wp)=>{let ha=w.get(Wp);ha||w.set(Wp,ha=new Set),ns.forEach((YD,IR)=>ha.add(IR))})});if(Wt.length){const It=[];Wt.forEach(Rt=>{It.push(function p4(n,e){return new d.vHH(3505,!1)}())}),Vt.forEach(Rt=>Rt.destroy()),this.reportError(It)}const wn=new Map,Li=new Map;l.forEach(It=>{const Rt=It.element;r.has(Rt)&&(Li.set(Rt,Rt),this._beforeAnimationBuild(It.player.namespaceId,It.instruction,wn))}),i.forEach(It=>{const Rt=It.element;this._getPreviousPlayers(Rt,!1,It.namespaceId,It.triggerName,null).forEach(bn=>{So(wn,Rt,[]).push(bn),bn.destroy()})});const da=_e.filter(It=>h2(It,y,w)),Ru=new Map;l2(Ru,this.driver,it,w,Ki).forEach(It=>{h2(It,y,w)&&da.push(It)});const e0=new Map;q.forEach((It,Rt)=>{l2(e0,this.driver,new Set(It),y,cy)}),da.forEach(It=>{const Rt=Ru.get(It),jt=e0.get(It);Ru.set(It,new Map([...Array.from(Rt?.entries()??[]),...Array.from(jt?.entries()??[])]))});const qp=[],b2=[],E2={};l.forEach(It=>{const{element:Rt,player:jt,instruction:bn}=It;if(r.has(Rt)){if(T.has(Rt))return jt.onDestroy(()=>gl(Rt,bn.toStyles)),jt.disabled=!0,jt.overrideTotalTime(bn.totalTime),void i.push(jt);let wi=E2;if(Li.size>1){let xo=Rt;const Sh=[];for(;xo=xo.parentNode;){const gr=Li.get(xo);if(gr){wi=gr;break}Sh.push(xo)}Sh.forEach(gr=>Li.set(gr,wi))}const _l=this._buildAnimation(jt.namespaceId,bn,wn,a,e0,Ru);if(jt.setRealPlayer(_l),wi===E2)qp.push(jt);else{const xo=this.playersByElement.get(wi);xo&&xo.length&&(jt.parentPlayer=Th(xo)),i.push(jt)}}else zp(Rt,bn.fromStyles),jt.onDestroy(()=>gl(Rt,bn.toStyles)),b2.push(jt),T.has(Rt)&&i.push(jt)}),b2.forEach(It=>{const Rt=a.get(It.element);if(Rt&&Rt.length){const jt=Th(Rt);It.setRealPlayer(jt)}}),i.forEach(It=>{It.parentPlayer?It.syncPlayerEvents(It.parentPlayer):It.destroy()});for(let It=0;It<_e.length;It++){const Rt=_e[It],jt=Rt[la];if(D_(Rt,kD),jt&&jt.hasAnimation)continue;let bn=[];if(p.size){let _l=p.get(Rt);_l&&_l.length&&bn.push(..._l);let xo=this.driver.query(Rt,oR,!0);for(let Sh=0;Sh<xo.length;Sh++){let gr=p.get(xo[Sh]);gr&&gr.length&&bn.push(...gr)}}const wi=bn.filter(_l=>!_l.destroyed);wi.length?_z(this,Rt,wi):this.processLeaveNode(Rt)}return _e.length=0,qp.forEach(It=>{this.players.push(It),It.onDone(()=>{It.destroy();const Rt=this.players.indexOf(It);this.players.splice(Rt,1)}),It.play()}),qp}elementContainsData(e,t){let r=!1;const i=t[la];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,a){let l=[];if(t){const p=this.playersByQueriedElement.get(e);p&&(l=p)}else{const p=this.playersByElement.get(e);if(p){const y=!a||a==Xb;p.forEach(w=>{w.queued||!y&&w.triggerName!=i||l.push(w)})}}return(r||i)&&(l=l.filter(p=>!(r&&r!=p.namespaceId||i&&i!=p.triggerName))),l}_beforeAnimationBuild(e,t,r){const a=t.element,l=t.isRemovalTransition?void 0:e,p=t.isRemovalTransition?void 0:t.triggerName;for(const y of t.timelines){const w=y.element,T=w!==a,R=So(r,w,[]);this._getPreviousPlayers(w,T,l,p,t.toState).forEach(q=>{const Q=q.getRealPlayer();Q.beforeDestroy&&Q.beforeDestroy(),q.destroy(),R.push(q)})}zp(a,t.fromStyles)}_buildAnimation(e,t,r,i,a,l){const p=t.triggerName,y=t.element,w=[],T=new Set,R=new Set,B=t.timelines.map(Q=>{const ce=Q.element;T.add(ce);const _e=ce[la];if(_e&&_e.removedBeforeQueried)return new wd(Q.duration,Q.delay);const Ze=ce!==y,it=function yz(n){const e=[];return d2(n,e),e}((r.get(ce)||uz).map(wn=>wn.getRealPlayer())).filter(wn=>!!wn.element&&wn.element===ce),at=a.get(ce),gt=l.get(ce),Vt=FL(0,this._normalizer,0,Q.keyframes,at,gt),Wt=this._buildPlayer(Q,Vt,it);if(Q.subTimeline&&i&&R.add(ce),Ze){const wn=new bR(e,p,ce);wn.setRealPlayer(Wt),w.push(wn)}return Wt});w.forEach(Q=>{So(this.playersByQueriedElement,Q.element,[]).push(Q),Q.onDone(()=>function pz(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,Q.element,Q))}),T.forEach(Q=>ua(Q,GL));const q=Th(B);return q.onDestroy(()=>{T.forEach(Q=>D_(Q,GL)),gl(y,t.toStyles)}),R.forEach(Q=>{So(i,Q,[]).push(q)}),q}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new wd(e.duration,e.delay)}}class bR{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new wd,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>Xx(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){So(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function WD(n){return n&&1===n.nodeType}function c2(n,e){const t=n.style.display;return n.style.display=e??"none",t}function l2(n,e,t,r,i){const a=[];t.forEach(y=>a.push(c2(y)));const l=[];r.forEach((y,w)=>{const T=new Map;y.forEach(R=>{const B=e.computeStyle(w,R,i);T.set(R,B),(!B||0==B.length)&&(w[la]=dz,l.push(w))}),n.set(w,T)});let p=0;return t.forEach(y=>c2(y,a[p++])),l}function u2(n,e){const t=new Map;if(n.forEach(p=>t.set(p,[])),0==e.length)return t;const r=1,i=new Set(e),a=new Map;function l(p){if(!p)return r;let y=a.get(p);if(y)return y;const w=p.parentNode;return y=t.has(w)?w:i.has(w)?r:l(w),a.set(p,y),y}return e.forEach(p=>{const y=l(p);y!==r&&t.get(y).push(p)}),t}function ua(n,e){n.classList?.add(e)}function D_(n,e){n.classList?.remove(e)}function _z(n,e,t){Th(t).onDone(()=>n.processLeaveNode(e))}function d2(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof ay?d2(r.players,e):e.push(r)}}function h2(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(a=>i.add(a)):e.set(n,r),t.delete(n),!0}class ZD{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,a)=>{},this._transitionEngine=new fz(e,t,r),this._timelineEngine=new sz(e,t,r),this._transitionEngine.onRemovalComplete=(i,a)=>this.onRemovalComplete(i,a)}registerTrigger(e,t,r,i,a){const l=e+"-"+i;let p=this._triggerCache[l];if(!p){const y=[],w=[],T=uR(this._driver,a,y,w);if(y.length)throw function n4(n,e){return new d.vHH(3404,!1)}();p=function tz(n,e,t){return new nz(n,e,t)}(i,T,this._normalizer),this._triggerCache[l]=p}this._transitionEngine.registerTrigger(t,i,p)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[a,l]=LL(r);this._timelineEngine.command(a,t,l,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,a){if("@"==r.charAt(0)){const[l,p]=LL(r);return this._timelineEngine.listen(l,t,p,a)}return this._transitionEngine.listen(e,t,r,i,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Ez=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&gl(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(gl(this._element,this._initialStyles),this._endStyles&&(gl(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(zp(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(zp(this._element,this._endStyles),this._endStyles=null),gl(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function ER(n){let e=null;return n.forEach((t,r)=>{(function wz(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class f2{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:QL(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Iz{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return jL(e,t)}getParentElement(e){return rR(e)}query(e,t,r){return $L(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,a,l=[]){const y={duration:r,delay:i,fill:0==i?"both":"forwards"};a&&(y.easing=a);const w=new Map,T=l.filter(q=>q instanceof f2);(function A4(n,e){return 0===n||0===e})(r,i)&&T.forEach(q=>{q.currentSnapshot.forEach((Q,ce)=>w.set(ce,Q))});let R=function I4(n){return n.length?n[0]instanceof Map?n:n.map(e=>qL(e)):[]}(t).map(q=>Ah(q));R=function S4(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((a,l)=>{r.has(l)||i.push(l),r.set(l,a)}),i.length)for(let a=1;a<e.length;a++){let l=e[a];i.forEach(p=>l.set(p,QL(n,p)))}}return e}(e,R,w);const B=function bz(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=ER(e[0]),e.length>1&&(r=ER(e[e.length-1]))):e instanceof Map&&(t=ER(e)),t||r?new Ez(n,t,r):null}(e,R);return new f2(e,R,y,B)}}let Dz=(()=>{class n extends H0{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:d.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?Ef(t):t;return p2(this._renderer,null,r,"register",[i]),new Cz(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.FYo),d.LFG(ie))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class Cz extends Um{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Tz(this._id,e,t||{},this._renderer)}}class Tz{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return p2(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function p2(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const m2="@.disabled";let Az=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(a,l)=>{const p=l?.parentNode(a);p&&l.removeChild(p,a)}}createRenderer(t,r){const a=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let T=this._rendererCache.get(a);return T||(T=new g2("",a,this.engine,()=>this._rendererCache.delete(a)),this._rendererCache.set(a,T)),T}const l=r.id,p=r.id+"-"+this._currentId;this._currentId++,this.engine.register(p,t);const y=T=>{Array.isArray(T)?T.forEach(y):this.engine.registerTrigger(l,p,t,T.name,T)};return r.data.animation.forEach(y),new Sz(this,p,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[l,p]=a;l(p)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.FYo),d.LFG(ZD),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class g2{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?a=>t.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==m2?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Sz extends g2{constructor(e,t,r,i,a){super(t,r,i,a),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==m2?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function Mz(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.slice(1),l="";return"@"!=a.charAt(0)&&([a,l]=function xz(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(a)),this.engine.listen(this.namespaceId,i,a,l,p=>{this.factory.scheduleListenerCallback(p._data||-1,r,p)})}return this.delegate.listen(e,t,r)}}let Rz=(()=>{class n extends ZD{constructor(t,r,i,a){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ie),d.LFG(iR),d.LFG(mR),d.LFG(d.z2F))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const _2=[{provide:H0,useClass:Dz},{provide:mR,useFactory:function Pz(){return new Q4}},{provide:ZD,useClass:Rz},{provide:d.FYo,useFactory:function Oz(n,e,t){return new Az(n,e,t)},deps:[mi,ZD,d.R0b]}],wR=[{provide:iR,useFactory:()=>new Iz},{provide:d.QbO,useValue:"BrowserAnimations"},..._2],y2=[{provide:iR,useClass:HL},{provide:d.QbO,useValue:"NoopAnimations"},..._2];let kz=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?y2:wR}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:wR,imports:[oo]}),n})();const Nz_firebaseConfig={apiKey:"AIzaSyBQdIjA8qutsIZuIjjancKU_7OATef0yds",authDomain:"blogster-79bf2.firebaseapp.com",projectId:"blogster-79bf2",storageBucket:"blogster-79bf2.appspot.com",messagingSenderId:"577509853524",appId:"1:577509853524:web:f1f3a872abe9cc4e3120c1"};let Fz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n,bootstrap:[k3]}),n.\u0275inj=d.cJS({imports:[oo,b3,kz,GC,wo.hO.initializeApp(Nz_firebaseConfig),rH,p3]}),n})();kl().bootstrapModule(Fz).catch(n=>console.error(n))},9751:(wt,Me,F)=>{F.d(Me,{y:()=>Ie});var d=F(930),ee=F(727),N=F(8822),le=F(9635),ue=F(2416),ie=F(576),be=F(2806);let Ie=(()=>{class K{constructor(Se){Se&&(this._subscribe=Se)}lift(Se){const Ye=new K;return Ye.source=this,Ye.operator=Se,Ye}subscribe(Se,Ye,pt){const ge=function H(K){return K&&K instanceof d.Lv||function z(K){return K&&(0,ie.m)(K.next)&&(0,ie.m)(K.error)&&(0,ie.m)(K.complete)}(K)&&(0,ee.Nn)(K)}(Se)?Se:new d.Hp(Se,Ye,pt);return(0,be.x)(()=>{const{operator:Oe,source:ke}=this;ge.add(Oe?Oe.call(ge,ke):ke?this._subscribe(ge):this._trySubscribe(ge))}),ge}_trySubscribe(Se){try{return this._subscribe(Se)}catch(Ye){Se.error(Ye)}}forEach(Se,Ye){return new(Ye=me(Ye))((pt,ge)=>{const Oe=new d.Hp({next:ke=>{try{Se(ke)}catch($e){ge($e),Oe.unsubscribe()}},error:ge,complete:pt});this.subscribe(Oe)})}_subscribe(Se){var Ye;return null===(Ye=this.source)||void 0===Ye?void 0:Ye.subscribe(Se)}[N.L](){return this}pipe(...Se){return(0,le.U)(Se)(this)}toPromise(Se){return new(Se=me(Se))((Ye,pt)=>{let ge;this.subscribe(Oe=>ge=Oe,Oe=>pt(Oe),()=>Ye(ge))})}}return K.create=He=>new K(He),K})();function me(K){var He;return null!==(He=K??ue.v.Promise)&&void 0!==He?He:Promise}},7579:(wt,Me,F)=>{F.d(Me,{x:()=>be});var d=F(9751),ee=F(727);const le=(0,F(3888).d)(me=>function(){me(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ue=F(8737),ie=F(2806);let be=(()=>{class me extends d.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(H){const K=new Ie(this,this);return K.operator=H,K}_throwIfClosed(){if(this.closed)throw new le}next(H){(0,ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const K of this.currentObservers)K.next(H)}})}error(H){(0,ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=H;const{observers:K}=this;for(;K.length;)K.shift().error(H)}})}complete(){(0,ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:H}=this;for(;H.length;)H.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var H;return(null===(H=this.observers)||void 0===H?void 0:H.length)>0}_trySubscribe(H){return this._throwIfClosed(),super._trySubscribe(H)}_subscribe(H){return this._throwIfClosed(),this._checkFinalizedStatuses(H),this._innerSubscribe(H)}_innerSubscribe(H){const{hasError:K,isStopped:He,observers:Se}=this;return K||He?ee.Lc:(this.currentObservers=null,Se.push(H),new ee.w0(()=>{this.currentObservers=null,(0,ue.P)(Se,H)}))}_checkFinalizedStatuses(H){const{hasError:K,thrownError:He,isStopped:Se}=this;K?H.error(He):Se&&H.complete()}asObservable(){const H=new d.y;return H.source=this,H}}return me.create=(z,H)=>new Ie(z,H),me})();class Ie extends be{constructor(z,H){super(),this.destination=z,this.source=H}next(z){var H,K;null===(K=null===(H=this.destination)||void 0===H?void 0:H.next)||void 0===K||K.call(H,z)}error(z){var H,K;null===(K=null===(H=this.destination)||void 0===H?void 0:H.error)||void 0===K||K.call(H,z)}complete(){var z,H;null===(H=null===(z=this.destination)||void 0===z?void 0:z.complete)||void 0===H||H.call(z)}_subscribe(z){var H,K;return null!==(K=null===(H=this.source)||void 0===H?void 0:H.subscribe(z))&&void 0!==K?K:ee.Lc}}},930:(wt,Me,F)=>{F.d(Me,{Hp:()=>pt,Lv:()=>K});var d=F(576),ee=F(727),N=F(2416),le=F(7849),ue=F(5032);const ie=me("C",void 0,void 0);function me(Ne,De,Ce){return{kind:Ne,value:De,error:Ce}}var z=F(3410),H=F(2806);class K extends ee.w0{constructor(De){super(),this.isStopped=!1,De?(this.destination=De,(0,ee.Nn)(De)&&De.add(this)):this.destination=$e}static create(De,Ce,Ge){return new pt(De,Ce,Ge)}next(De){this.isStopped?ke(function Ie(Ne){return me("N",Ne,void 0)}(De),this):this._next(De)}error(De){this.isStopped?ke(function be(Ne){return me("E",void 0,Ne)}(De),this):(this.isStopped=!0,this._error(De))}complete(){this.isStopped?ke(ie,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(De){this.destination.next(De)}_error(De){try{this.destination.error(De)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const He=Function.prototype.bind;function Se(Ne,De){return He.call(Ne,De)}class Ye{constructor(De){this.partialObserver=De}next(De){const{partialObserver:Ce}=this;if(Ce.next)try{Ce.next(De)}catch(Ge){ge(Ge)}}error(De){const{partialObserver:Ce}=this;if(Ce.error)try{Ce.error(De)}catch(Ge){ge(Ge)}else ge(De)}complete(){const{partialObserver:De}=this;if(De.complete)try{De.complete()}catch(Ce){ge(Ce)}}}class pt extends K{constructor(De,Ce,Ge){let Le;if(super(),(0,d.m)(De)||!De)Le={next:De??void 0,error:Ce??void 0,complete:Ge??void 0};else{let dt;this&&N.v.useDeprecatedNextContext?(dt=Object.create(De),dt.unsubscribe=()=>this.unsubscribe(),Le={next:De.next&&Se(De.next,dt),error:De.error&&Se(De.error,dt),complete:De.complete&&Se(De.complete,dt)}):Le=De}this.destination=new Ye(Le)}}function ge(Ne){N.v.useDeprecatedSynchronousErrorHandling?(0,H.O)(Ne):(0,le.h)(Ne)}function ke(Ne,De){const{onStoppedNotification:Ce}=N.v;Ce&&z.z.setTimeout(()=>Ce(Ne,De))}const $e={closed:!0,next:ue.Z,error:function Oe(Ne){throw Ne},complete:ue.Z}},727:(wt,Me,F)=>{F.d(Me,{Lc:()=>ie,w0:()=>ue,Nn:()=>be});var d=F(576);const N=(0,F(3888).d)(me=>function(H){me(this),this.message=H?`${H.length} errors occurred during unsubscription:\n${H.map((K,He)=>`${He+1}) ${K.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=H});var le=F(8737);class ue{constructor(z){this.initialTeardown=z,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let z;if(!this.closed){this.closed=!0;const{_parentage:H}=this;if(H)if(this._parentage=null,Array.isArray(H))for(const Se of H)Se.remove(this);else H.remove(this);const{initialTeardown:K}=this;if((0,d.m)(K))try{K()}catch(Se){z=Se instanceof N?Se.errors:[Se]}const{_finalizers:He}=this;if(He){this._finalizers=null;for(const Se of He)try{Ie(Se)}catch(Ye){z=z??[],Ye instanceof N?z=[...z,...Ye.errors]:z.push(Ye)}}if(z)throw new N(z)}}add(z){var H;if(z&&z!==this)if(this.closed)Ie(z);else{if(z instanceof ue){if(z.closed||z._hasParent(this))return;z._addParent(this)}(this._finalizers=null!==(H=this._finalizers)&&void 0!==H?H:[]).push(z)}}_hasParent(z){const{_parentage:H}=this;return H===z||Array.isArray(H)&&H.includes(z)}_addParent(z){const{_parentage:H}=this;this._parentage=Array.isArray(H)?(H.push(z),H):H?[H,z]:z}_removeParent(z){const{_parentage:H}=this;H===z?this._parentage=null:Array.isArray(H)&&(0,le.P)(H,z)}remove(z){const{_finalizers:H}=this;H&&(0,le.P)(H,z),z instanceof ue&&z._removeParent(this)}}ue.EMPTY=(()=>{const me=new ue;return me.closed=!0,me})();const ie=ue.EMPTY;function be(me){return me instanceof ue||me&&"closed"in me&&(0,d.m)(me.remove)&&(0,d.m)(me.add)&&(0,d.m)(me.unsubscribe)}function Ie(me){(0,d.m)(me)?me():me.unsubscribe()}},2416:(wt,Me,F)=>{F.d(Me,{v:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(wt,Me,F)=>{F.d(Me,{E:()=>ee});const ee=new(F(9751).y)(ue=>ue.complete())},8996:(wt,Me,F)=>{F.d(Me,{D:()=>De});var d=F(8421),ee=F(5363),N=F(9468),ie=F(9751),Ie=F(2202),me=F(576),z=F(9672);function K(Ce,Ge){if(!Ce)throw new Error("Iterable cannot be null");return new ie.y(Le=>{(0,z.f)(Le,Ge,()=>{const dt=Ce[Symbol.asyncIterator]();(0,z.f)(Le,Ge,()=>{dt.next().then(oe=>{oe.done?Le.complete():Le.next(oe.value)})},0,!0)})})}var He=F(3670),Se=F(8239),Ye=F(1144),pt=F(6495),ge=F(2206),Oe=F(4532),ke=F(3260);function De(Ce,Ge){return Ge?function Ne(Ce,Ge){if(null!=Ce){if((0,He.c)(Ce))return function le(Ce,Ge){return(0,d.Xf)(Ce).pipe((0,N.R)(Ge),(0,ee.Q)(Ge))}(Ce,Ge);if((0,Ye.z)(Ce))return function be(Ce,Ge){return new ie.y(Le=>{let dt=0;return Ge.schedule(function(){dt===Ce.length?Le.complete():(Le.next(Ce[dt++]),Le.closed||this.schedule())})})}(Ce,Ge);if((0,Se.t)(Ce))return function ue(Ce,Ge){return(0,d.Xf)(Ce).pipe((0,N.R)(Ge),(0,ee.Q)(Ge))}(Ce,Ge);if((0,ge.D)(Ce))return K(Ce,Ge);if((0,pt.T)(Ce))return function H(Ce,Ge){return new ie.y(Le=>{let dt;return(0,z.f)(Le,Ge,()=>{dt=Ce[Ie.h](),(0,z.f)(Le,Ge,()=>{let oe,St;try{({value:oe,done:St}=dt.next())}catch(st){return void Le.error(st)}St?Le.complete():Le.next(oe)},0,!0)}),()=>(0,me.m)(dt?.return)&&dt.return()})}(Ce,Ge);if((0,ke.L)(Ce))return function $e(Ce,Ge){return K((0,ke.Q)(Ce),Ge)}(Ce,Ge)}throw(0,Oe.z)(Ce)}(Ce,Ge):(0,d.Xf)(Ce)}},8421:(wt,Me,F)=>{F.d(Me,{Xf:()=>He});var d=F(7582),ee=F(1144),N=F(8239),le=F(9751),ue=F(3670),ie=F(2206),be=F(4532),Ie=F(6495),me=F(3260),z=F(576),H=F(7849),K=F(8822);function He(Ne){if(Ne instanceof le.y)return Ne;if(null!=Ne){if((0,ue.c)(Ne))return function Se(Ne){return new le.y(De=>{const Ce=Ne[K.L]();if((0,z.m)(Ce.subscribe))return Ce.subscribe(De);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ne);if((0,ee.z)(Ne))return function Ye(Ne){return new le.y(De=>{for(let Ce=0;Ce<Ne.length&&!De.closed;Ce++)De.next(Ne[Ce]);De.complete()})}(Ne);if((0,N.t)(Ne))return function pt(Ne){return new le.y(De=>{Ne.then(Ce=>{De.closed||(De.next(Ce),De.complete())},Ce=>De.error(Ce)).then(null,H.h)})}(Ne);if((0,ie.D)(Ne))return Oe(Ne);if((0,Ie.T)(Ne))return function ge(Ne){return new le.y(De=>{for(const Ce of Ne)if(De.next(Ce),De.closed)return;De.complete()})}(Ne);if((0,me.L)(Ne))return function ke(Ne){return Oe((0,me.Q)(Ne))}(Ne)}throw(0,be.z)(Ne)}function Oe(Ne){return new le.y(De=>{(function $e(Ne,De){var Ce,Ge,Le,dt;return(0,d.mG)(this,void 0,void 0,function*(){try{for(Ce=(0,d.KL)(Ne);!(Ge=yield Ce.next()).done;)if(De.next(Ge.value),De.closed)return}catch(oe){Le={error:oe}}finally{try{Ge&&!Ge.done&&(dt=Ce.return)&&(yield dt.call(Ce))}finally{if(Le)throw Le.error}}De.complete()})})(Ne,De).catch(Ce=>De.error(Ce))})}},6451:(wt,Me,F)=>{F.d(Me,{T:()=>ie});var d=F(8189),ee=F(8421),N=F(515),le=F(7669),ue=F(8996);function ie(...be){const Ie=(0,le.yG)(be),me=(0,le._6)(be,1/0),z=be;return z.length?1===z.length?(0,ee.Xf)(z[0]):(0,d.J)(me)((0,ue.D)(z,Ie)):N.E}},5403:(wt,Me,F)=>{F.d(Me,{x:()=>ee});var d=F(930);function ee(le,ue,ie,be,Ie){return new N(le,ue,ie,be,Ie)}class N extends d.Lv{constructor(ue,ie,be,Ie,me,z){super(ue),this.onFinalize=me,this.shouldUnsubscribe=z,this._next=ie?function(H){try{ie(H)}catch(K){ue.error(K)}}:super._next,this._error=Ie?function(H){try{Ie(H)}catch(K){ue.error(K)}finally{this.unsubscribe()}}:super._error,this._complete=be?function(){try{be()}catch(H){ue.error(H)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ue;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ie}=this;super.unsubscribe(),!ie&&(null===(ue=this.onFinalize)||void 0===ue||ue.call(this))}}}},4004:(wt,Me,F)=>{F.d(Me,{U:()=>N});var d=F(4482),ee=F(5403);function N(le,ue){return(0,d.e)((ie,be)=>{let Ie=0;ie.subscribe((0,ee.x)(be,me=>{be.next(le.call(ue,me,Ie++))}))})}},8189:(wt,Me,F)=>{F.d(Me,{J:()=>N});var d=F(5577),ee=F(4671);function N(le=1/0){return(0,d.z)(ee.y,le)}},5577:(wt,Me,F)=>{F.d(Me,{z:()=>Ie});var d=F(4004),ee=F(8421),N=F(4482),le=F(9672),ue=F(5403),be=F(576);function Ie(me,z,H=1/0){return(0,be.m)(z)?Ie((K,He)=>(0,d.U)((Se,Ye)=>z(K,Se,He,Ye))((0,ee.Xf)(me(K,He))),H):("number"==typeof z&&(H=z),(0,N.e)((K,He)=>function ie(me,z,H,K,He,Se,Ye,pt){const ge=[];let Oe=0,ke=0,$e=!1;const Ne=()=>{$e&&!ge.length&&!Oe&&z.complete()},De=Ge=>Oe<K?Ce(Ge):ge.push(Ge),Ce=Ge=>{Se&&z.next(Ge),Oe++;let Le=!1;(0,ee.Xf)(H(Ge,ke++)).subscribe((0,ue.x)(z,dt=>{He?.(dt),Se?De(dt):z.next(dt)},()=>{Le=!0},void 0,()=>{if(Le)try{for(Oe--;ge.length&&Oe<K;){const dt=ge.shift();Ye?(0,le.f)(z,Ye,()=>Ce(dt)):Ce(dt)}Ne()}catch(dt){z.error(dt)}}))};return me.subscribe((0,ue.x)(z,De,()=>{$e=!0,Ne()})),()=>{pt?.()}}(K,He,me,H)))}},5363:(wt,Me,F)=>{F.d(Me,{Q:()=>le});var d=F(9672),ee=F(4482),N=F(5403);function le(ue,ie=0){return(0,ee.e)((be,Ie)=>{be.subscribe((0,N.x)(Ie,me=>(0,d.f)(Ie,ue,()=>Ie.next(me),ie),()=>(0,d.f)(Ie,ue,()=>Ie.complete(),ie),me=>(0,d.f)(Ie,ue,()=>Ie.error(me),ie)))})}},3099:(wt,Me,F)=>{F.d(Me,{B:()=>ue});var d=F(8421),ee=F(7579),N=F(930),le=F(4482);function ue(be={}){const{connector:Ie=(()=>new ee.x),resetOnError:me=!0,resetOnComplete:z=!0,resetOnRefCountZero:H=!0}=be;return K=>{let He,Se,Ye,pt=0,ge=!1,Oe=!1;const ke=()=>{Se?.unsubscribe(),Se=void 0},$e=()=>{ke(),He=Ye=void 0,ge=Oe=!1},Ne=()=>{const De=He;$e(),De?.unsubscribe()};return(0,le.e)((De,Ce)=>{pt++,!Oe&&!ge&&ke();const Ge=Ye=Ye??Ie();Ce.add(()=>{pt--,0===pt&&!Oe&&!ge&&(Se=ie(Ne,H))}),Ge.subscribe(Ce),!He&&pt>0&&(He=new N.Hp({next:Le=>Ge.next(Le),error:Le=>{Oe=!0,ke(),Se=ie($e,me,Le),Ge.error(Le)},complete:()=>{ge=!0,ke(),Se=ie($e,z),Ge.complete()}}),(0,d.Xf)(De).subscribe(He))})(K)}}function ie(be,Ie,...me){if(!0===Ie)return void be();if(!1===Ie)return;const z=new N.Hp({next:()=>{z.unsubscribe(),be()}});return Ie(...me).subscribe(z)}},9468:(wt,Me,F)=>{F.d(Me,{R:()=>ee});var d=F(4482);function ee(N,le=0){return(0,d.e)((ue,ie)=>{ie.add(N.schedule(()=>ue.subscribe(ie),le))})}},8505:(wt,Me,F)=>{F.d(Me,{b:()=>ue});var d=F(576),ee=F(4482),N=F(5403),le=F(4671);function ue(ie,be,Ie){const me=(0,d.m)(ie)||be||Ie?{next:ie,error:be,complete:Ie}:ie;return me?(0,ee.e)((z,H)=>{var K;null===(K=me.subscribe)||void 0===K||K.call(me);let He=!0;z.subscribe((0,N.x)(H,Se=>{var Ye;null===(Ye=me.next)||void 0===Ye||Ye.call(me,Se),H.next(Se)},()=>{var Se;He=!1,null===(Se=me.complete)||void 0===Se||Se.call(me),H.complete()},Se=>{var Ye;He=!1,null===(Ye=me.error)||void 0===Ye||Ye.call(me,Se),H.error(Se)},()=>{var Se,Ye;He&&(null===(Se=me.unsubscribe)||void 0===Se||Se.call(me)),null===(Ye=me.finalize)||void 0===Ye||Ye.call(me)}))}):le.y}},4408:(wt,Me,F)=>{F.d(Me,{o:()=>ue});var d=F(727);class ee extends d.w0{constructor(be,Ie){super()}schedule(be,Ie=0){return this}}const N={setInterval(ie,be,...Ie){const{delegate:me}=N;return me?.setInterval?me.setInterval(ie,be,...Ie):setInterval(ie,be,...Ie)},clearInterval(ie){const{delegate:be}=N;return(be?.clearInterval||clearInterval)(ie)},delegate:void 0};var le=F(8737);class ue extends ee{constructor(be,Ie){super(be,Ie),this.scheduler=be,this.work=Ie,this.pending=!1}schedule(be,Ie=0){var me;if(this.closed)return this;this.state=be;const z=this.id,H=this.scheduler;return null!=z&&(this.id=this.recycleAsyncId(H,z,Ie)),this.pending=!0,this.delay=Ie,this.id=null!==(me=this.id)&&void 0!==me?me:this.requestAsyncId(H,this.id,Ie),this}requestAsyncId(be,Ie,me=0){return N.setInterval(be.flush.bind(be,this),me)}recycleAsyncId(be,Ie,me=0){if(null!=me&&this.delay===me&&!1===this.pending)return Ie;null!=Ie&&N.clearInterval(Ie)}execute(be,Ie){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const me=this._execute(be,Ie);if(me)return me;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(be,Ie){let z,me=!1;try{this.work(be)}catch(H){me=!0,z=H||new Error("Scheduled action threw falsy error")}if(me)return this.unsubscribe(),z}unsubscribe(){if(!this.closed){const{id:be,scheduler:Ie}=this,{actions:me}=Ie;this.work=this.state=this.scheduler=null,this.pending=!1,(0,le.P)(me,this),null!=be&&(this.id=this.recycleAsyncId(Ie,be,null)),this.delay=null,super.unsubscribe()}}}},7565:(wt,Me,F)=>{F.d(Me,{v:()=>N});var d=F(6063);class ee{constructor(ue,ie=ee.now){this.schedulerActionCtor=ue,this.now=ie}schedule(ue,ie=0,be){return new this.schedulerActionCtor(this,ue).schedule(be,ie)}}ee.now=d.l.now;class N extends ee{constructor(ue,ie=ee.now){super(ue,ie),this.actions=[],this._active=!1}flush(ue){const{actions:ie}=this;if(this._active)return void ie.push(ue);let be;this._active=!0;do{if(be=ue.execute(ue.state,ue.delay))break}while(ue=ie.shift());if(this._active=!1,be){for(;ue=ie.shift();)ue.unsubscribe();throw be}}}},4986:(wt,Me,F)=>{F.d(Me,{z:()=>N});var d=F(4408);const N=new(F(7565).v)(d.o)},6063:(wt,Me,F)=>{F.d(Me,{l:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},3410:(wt,Me,F)=>{F.d(Me,{z:()=>d});const d={setTimeout(ee,N,...le){const{delegate:ue}=d;return ue?.setTimeout?ue.setTimeout(ee,N,...le):setTimeout(ee,N,...le)},clearTimeout(ee){const{delegate:N}=d;return(N?.clearTimeout||clearTimeout)(ee)},delegate:void 0}},2202:(wt,Me,F)=>{F.d(Me,{h:()=>ee});const ee=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(wt,Me,F)=>{F.d(Me,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(wt,Me,F)=>{F.d(Me,{_6:()=>ie,jO:()=>le,yG:()=>ue});var d=F(576);function N(be){return be[be.length-1]}function le(be){return(0,d.m)(N(be))?be.pop():void 0}function ue(be){return function ee(be){return be&&(0,d.m)(be.schedule)}(N(be))?be.pop():void 0}function ie(be,Ie){return"number"==typeof N(be)?be.pop():Ie}},8737:(wt,Me,F)=>{function d(ee,N){if(ee){const le=ee.indexOf(N);0<=le&&ee.splice(le,1)}}F.d(Me,{P:()=>d})},3888:(wt,Me,F)=>{function d(ee){const le=ee(ue=>{Error.call(ue),ue.stack=(new Error).stack});return le.prototype=Object.create(Error.prototype),le.prototype.constructor=le,le}F.d(Me,{d:()=>d})},2806:(wt,Me,F)=>{F.d(Me,{O:()=>le,x:()=>N});var d=F(2416);let ee=null;function N(ue){if(d.v.useDeprecatedSynchronousErrorHandling){const ie=!ee;if(ie&&(ee={errorThrown:!1,error:null}),ue(),ie){const{errorThrown:be,error:Ie}=ee;if(ee=null,be)throw Ie}}else ue()}function le(ue){d.v.useDeprecatedSynchronousErrorHandling&&ee&&(ee.errorThrown=!0,ee.error=ue)}},9672:(wt,Me,F)=>{function d(ee,N,le,ue=0,ie=!1){const be=N.schedule(function(){le(),ie?ee.add(this.schedule(null,ue)):this.unsubscribe()},ue);if(ee.add(be),!ie)return be}F.d(Me,{f:()=>d})},4671:(wt,Me,F)=>{function d(ee){return ee}F.d(Me,{y:()=>d})},1144:(wt,Me,F)=>{F.d(Me,{z:()=>d});const d=ee=>ee&&"number"==typeof ee.length&&"function"!=typeof ee},2206:(wt,Me,F)=>{F.d(Me,{D:()=>ee});var d=F(576);function ee(N){return Symbol.asyncIterator&&(0,d.m)(N?.[Symbol.asyncIterator])}},576:(wt,Me,F)=>{function d(ee){return"function"==typeof ee}F.d(Me,{m:()=>d})},3670:(wt,Me,F)=>{F.d(Me,{c:()=>N});var d=F(8822),ee=F(576);function N(le){return(0,ee.m)(le[d.L])}},6495:(wt,Me,F)=>{F.d(Me,{T:()=>N});var d=F(2202),ee=F(576);function N(le){return(0,ee.m)(le?.[d.h])}},8239:(wt,Me,F)=>{F.d(Me,{t:()=>ee});var d=F(576);function ee(N){return(0,d.m)(N?.then)}},3260:(wt,Me,F)=>{F.d(Me,{L:()=>le,Q:()=>N});var d=F(7582),ee=F(576);function N(ue){return(0,d.FC)(this,arguments,function*(){const be=ue.getReader();try{for(;;){const{value:Ie,done:me}=yield(0,d.qq)(be.read());if(me)return yield(0,d.qq)(void 0);yield yield(0,d.qq)(Ie)}}finally{be.releaseLock()}})}function le(ue){return(0,ee.m)(ue?.getReader)}},4482:(wt,Me,F)=>{F.d(Me,{A:()=>ee,e:()=>N});var d=F(576);function ee(le){return(0,d.m)(le?.lift)}function N(le){return ue=>{if(ee(ue))return ue.lift(function(ie){try{return le(ie,this)}catch(be){this.error(be)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(wt,Me,F)=>{function d(){}F.d(Me,{Z:()=>d})},9635:(wt,Me,F)=>{F.d(Me,{U:()=>N,z:()=>ee});var d=F(4671);function ee(...le){return N(le)}function N(le){return 0===le.length?d.y:1===le.length?le[0]:function(ie){return le.reduce((be,Ie)=>Ie(be),ie)}}},7849:(wt,Me,F)=>{F.d(Me,{h:()=>N});var d=F(2416),ee=F(3410);function N(le){ee.z.setTimeout(()=>{const{onUnhandledError:ue}=d.v;if(!ue)throw le;ue(le)})}},4532:(wt,Me,F)=>{function d(ee){return new TypeError(`You provided ${null!==ee&&"object"==typeof ee?"an invalid object":`'${ee}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(Me,{z:()=>d})},4650:(wt,Me,F)=>{F.d(Me,{$8M:()=>qo,$WT:()=>hr,$Z:()=>xC,AFp:()=>Pv,ALo:()=>Ls,AaK:()=>Ie,CHM:()=>wa,CRH:()=>$d,CZH:()=>cp,CqO:()=>Rf,D6c:()=>rh,DdM:()=>mw,EJc:()=>kv,EpF:()=>xf,F4k:()=>Dy,FYo:()=>A0,FiY:()=>fo,GfV:()=>hC,Gpc:()=>H,JOm:()=>qi,KtG:()=>Ia,LFG:()=>cn,LSH:()=>nu,Lbi:()=>Fg,Lck:()=>s1,MAs:()=>Iy,MMx:()=>cv,NdJ:()=>Cy,OlP:()=>en,Oqu:()=>xd,P3R:()=>gf,PXZ:()=>xA,Q6J:()=>Td,QGY:()=>cu,QbO:()=>Lw,Qsj:()=>dC,R0b:()=>Ir,RDi:()=>z_,Rgc:()=>Vs,SBq:()=>yf,Sil:()=>up,Suo:()=>ww,TTD:()=>wl,TgZ:()=>Qc,VKq:()=>XT,WLB:()=>lv,X6Q:()=>ar,XFs:()=>bt,Xpm:()=>Ci,Xts:()=>g0,Y36:()=>bf,YKP:()=>cw,YNc:()=>sE,Yjl:()=>Gt,Yz7:()=>Dt,Z0I:()=>Ar,ZZ4:()=>al,_Bn:()=>Ja,_UZ:()=>Ka,_Vd:()=>yd,_c5:()=>uI,_uU:()=>EE,aQg:()=>yp,c2e:()=>bA,cJS:()=>Jt,cg1:()=>Zy,dDg:()=>AA,dqk:()=>sn,eFA:()=>Vv,eJc:()=>np,ekj:()=>ky,eoX:()=>$w,f3M:()=>kn,g9A:()=>Ng,h0i:()=>tl,hGG:()=>Zv,hij:()=>Lf,iGM:()=>Cg,ifc:()=>Ee,ip1:()=>kg,jDz:()=>lw,kL8:()=>kd,lG2:()=>At,lcZ:()=>Ht,lqb:()=>ru,lri:()=>Fv,n5z:()=>Pc,oAB:()=>re,oJD:()=>gd,oxw:()=>lE,q4F:()=>ty,qLn:()=>Vm,qOj:()=>eE,qZA:()=>qm,rWj:()=>jw,s9C:()=>Sy,sBO:()=>Qw,s_b:()=>Or,soG:()=>_u,tb:()=>vu,tp0:()=>Ul,uIk:()=>yy,vHH:()=>ge,vpe:()=>Vn,wAp:()=>xt,xp6:()=>bd,z2F:()=>pp,zSh:()=>w0,zs3:()=>Ed});var d=F(7579),ee=F(727),N=F(9751),le=F(6451),ue=F(3099);function ie(s){for(let o in s)if(s[o]===ie)return o;throw Error("Could not find renamed property on target object.")}function be(s,o){for(const c in o)o.hasOwnProperty(c)&&!s.hasOwnProperty(c)&&(s[c]=o[c])}function Ie(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(Ie).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const c=o.indexOf("\n");return-1===c?o:o.substring(0,c)}function me(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const z=ie({__forward_ref__:ie});function H(s){return s.__forward_ref__=H,s.toString=function(){return Ie(this())},s}function K(s){return He(s)?s():s}function He(s){return"function"==typeof s&&s.hasOwnProperty(z)&&s.__forward_ref__===H}function Se(s){return s&&!!s.\u0275providers}const pt="https://g.co/ng/security#xss";class ge extends Error{constructor(o,c){super(Oe(o,c)),this.code=o}}function Oe(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}function ke(s){return"string"==typeof s?s:null==s?"":String(s)}function Ge(s,o){throw new ge(-201,!1)}function Be(s,o){null==s&&function Qe(s,o,c,u){throw new Error(`ASSERTION ERROR: ${s}`+(null==u?"":` [Expected=> ${c} ${u} ${o} <=Actual]`))}(o,s,null,"!=")}function Dt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Jt(s){return{providers:s.providers||[],imports:s.imports||[]}}function In(s){return Sr(s,ci)||Sr(s,Hs)}function Ar(s){return null!==In(s)}function Sr(s,o){return s.hasOwnProperty(o)?s[o]:null}function Fr(s){return s&&(s.hasOwnProperty(Ro)||s.hasOwnProperty(Mr))?s[Ro]:null}const ci=ie({\u0275prov:ie}),Ro=ie({\u0275inj:ie}),Hs=ie({ngInjectableDef:ie}),Mr=ie({ngInjectorDef:ie});var bt=(()=>((bt=bt||{})[bt.Default=0]="Default",bt[bt.Host=1]="Host",bt[bt.Self=2]="Self",bt[bt.SkipSelf=4]="SkipSelf",bt[bt.Optional=8]="Optional",bt))();let Wr;function _r(s){const o=Wr;return Wr=s,o}function Lr(s,o,c){const u=In(s);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:c&bt.Optional?null:void 0!==o?o:void Ge(Ie(s))}const sn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),li={},Zr="__NG_DI_FLAG__",dr="ngTempTokenPath",Vr="ngTokenPath",On=/\n/gm,Kr="\u0275",yn="__source";let Is;function Xt(s){const o=Is;return Is=s,o}function Bi(s,o=bt.Default){if(void 0===Is)throw new ge(-203,!1);return null===Is?Lr(s,void 0,o):Is.get(s,o&bt.Optional?null:void 0,o)}function cn(s,o=bt.Default){return(function yl(){return Wr}()||Bi)(K(s),o)}function kn(s,o=bt.Default){return cn(s,Gn(o))}function Gn(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function Ii(s){const o=[];for(let c=0;c<s.length;c++){const u=K(s[c]);if(Array.isArray(u)){if(0===u.length)throw new ge(900,!1);let h,g=bt.Default;for(let v=0;v<u.length;v++){const I=u[v],C=Di(I);"number"==typeof C?-1===C?h=I.token:g|=C:h=I}o.push(cn(h,g))}else o.push(cn(u))}return o}function Tn(s,o){return s[Zr]=o,s.prototype[Zr]=o,s}function Di(s){return s[Zr]}function V(s){return{toString:s}.toString()}var W=(()=>((W=W||{})[W.OnPush=0]="OnPush",W[W.Default=1]="Default",W))(),Ee=(()=>{return(s=Ee||(Ee={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Ee;var s})();const te={},Ve=[],Mt=ie({\u0275cmp:ie}),nn=ie({\u0275dir:ie}),Un=ie({\u0275pipe:ie}),Mn=ie({\u0275mod:ie}),dn=ie({\u0275fac:ie}),Yt=ie({__NG_ELEMENT_ID__:ie});let xr=0;function Ci(s){return V(()=>{const o=ic(s),c={...o,decls:s.decls,vars:s.vars,template:s.template,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,onPush:s.changeDetection===W.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&s.dependencies||null,getStandaloneInjector:null,data:s.data||{},encapsulation:s.encapsulation||Ee.Emulated,id:"c"+xr++,styles:s.styles||Ve,_:null,schemas:s.schemas||null,tView:null};Mh(c);const u=s.dependencies;return c.directiveDefs=Po(u,!1),c.pipeDefs=Po(u,!0),c})}function fa(s){return Et(s)||on(s)}function he(s){return null!==s}function re(s){return V(()=>({type:s.type,bootstrap:s.bootstrap||Ve,declarations:s.declarations||Ve,imports:s.imports||Ve,exports:s.exports||Ve,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function vt(s,o){if(null==s)return te;const c={};for(const u in s)if(s.hasOwnProperty(u)){let h=s[u],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),c[h]=u,o&&(o[h]=g)}return c}function At(s){return V(()=>{const o=ic(s);return Mh(o),o})}function Gt(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function Et(s){return s[Mt]||null}function on(s){return s[nn]||null}function rn(s){return s[Un]||null}function hr(s){const o=Et(s)||on(s)||rn(s);return null!==o&&o.standalone}function qn(s,o){const c=s[Mn]||null;if(!c&&!0===o)throw new Error(`Type ${Ie(s)} does not have '\u0275mod' property.`);return c}function ic(s){const o={};return{type:s.type,providersResolver:null,factory:null,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:o,exportAs:s.exportAs||null,standalone:!0===s.standalone,selectors:s.selectors||Ve,viewQuery:s.viewQuery||null,features:s.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:vt(s.inputs,o),outputs:vt(s.outputs)}}function Mh(s){s.features?.forEach(o=>o(s))}function Po(s,o){if(!s)return null;const c=o?rn:fa;return()=>("function"==typeof s?s():s).map(u=>c(u)).filter(he)}const di=0,Je=1,Ft=2,An=3,hi=4,pn=5,Wn=6,rs=7,Nn=8,pa=9,ji=10,zt=11,ma=12,zs=13,is=14,Gs=15,jn=16,Oo=17,ss=18,$i=19,ko=20,yr=21,En=22,ga=1,vl=2,No=7,Ds=8,qs=9,fr=10;function Qr(s){return Array.isArray(s)&&"object"==typeof s[ga]}function Jr(s){return Array.isArray(s)&&!0===s[ga]}function _a(s){return 0!=(4&s.flags)}function Fo(s){return s.componentOffset>-1}function bl(s){return 1==(1&s.flags)}function Ur(s){return!!s.template}function oc(s){return 0!=(256&s[Ft])}function Hi(s,o){return s.hasOwnProperty(dn)?s[dn]:null}class Ws{constructor(o,c,u){this.previousValue=o,this.currentValue=c,this.firstChange=u}isFirstChange(){return this.firstChange}}function wl(){return ya}function ya(s){return s.type.prototype.ngOnChanges&&(s.setInput=Il),Lu}function Lu(){const s=Ph(this),o=s?.current;if(o){const c=s.previous;if(c===te)s.previous=o;else for(let u in o)c[u]=o[u];s.current=null,this.ngOnChanges(o)}}function Il(s,o,c,u){const h=this.declaredInputs[c],g=Ph(s)||function lc(s,o){return s[Cs]=o}(s,{previous:te,current:null}),v=g.current||(g.current={}),I=g.previous,C=I[h];v[h]=new Ws(C&&C.currentValue,o,I===te),s[u]=o}wl.ngInherit=!0;const Cs="__ngSimpleChanges__";function Ph(s){return s[Cs]||null}const jr=function(s,o,c){};function pr(s){for(;Array.isArray(s);)s=s[di];return s}function cs(s,o){return pr(o[s])}function mr(s,o){return pr(o[s.index])}function Bu(s,o){return s.data[o]}function Pr(s,o){return s[o]}function nr(s,o){const c=o[s];return Qr(c)?c:c[di]}function ls(s){return 64==(64&s[Ft])}function As(s,o){return null==o?null:s[o]}function Bo(s){s[ss]=0}function ba(s,o){s[pn]+=o;let c=s,u=s[An];for(;null!==u&&(1===o&&1===c[pn]||-1===o&&0===c[pn]);)u[pn]+=o,c=u,u=u[An]}const Ot={lFrame:Tl(null),bindingsEnabled:!0};function fc(){return Ot.bindingsEnabled}function pe(){return Ot.lFrame.lView}function Bt(){return Ot.lFrame.tView}function wa(s){return Ot.lFrame.contextLView=s,s[Nn]}function Ia(s){return Ot.lFrame.contextLView=null,s}function rr(){let s=Zs();for(;null!==s&&64===s.type;)s=s.parent;return s}function Zs(){return Ot.lFrame.currentTNode}function $r(s,o){const c=Ot.lFrame;c.currentTNode=s,c.isParent=o}function zu(){return Ot.lFrame.isParent}function Zn(){const s=Ot.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function Ks(){return Ot.lFrame.bindingIndex++}function gc(s,o){const c=Ot.lFrame;c.bindingIndex=c.bindingRootIndex=s,Kn(o)}function Kn(s){Ot.lFrame.currentDirectiveIndex=s}function Cl(){return Ot.lFrame.currentQueryIndex}function _c(s){Ot.lFrame.currentQueryIndex=s}function qu(s){const o=s[Je];return 2===o.type?o.declTNode:1===o.type?s[Wn]:null}function yc(s,o,c){if(c&bt.SkipSelf){let h=o,g=s;for(;!(h=h.parent,null!==h||c&bt.Host||(h=qu(g),null===h||(g=g[Gs],10&h.type))););if(null===h)return!1;o=h,s=g}const u=Ot.lFrame=Ta();return u.currentTNode=o,u.lView=s,!0}function vc(s){const o=Ta(),c=s[Je];Ot.lFrame=o,o.currentTNode=c.firstChild,o.lView=s,o.tView=c,o.contextLView=s,o.bindingIndex=c.bindingStartIndex,o.inI18n=!1}function Ta(){const s=Ot.lFrame,o=null===s?null:s.child;return null===o?Tl(s):o}function Tl(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Aa(){const s=Ot.lFrame;return Ot.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Wu=Aa;function bc(){const s=Aa();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function vr(){return Ot.lFrame.selectedIndex}function ds(s){Ot.lFrame.selectedIndex=s}function xn(){const s=Ot.lFrame;return Bu(s.tView,s.selectedIndex)}function Ic(s,o){for(let c=o.directiveStart,u=o.directiveEnd;c<u;c++){const g=s.data[c].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:I,ngAfterViewInit:C,ngAfterViewChecked:M,ngOnDestroy:O}=g;v&&(s.contentHooks??(s.contentHooks=[])).push(-c,v),I&&((s.contentHooks??(s.contentHooks=[])).push(c,I),(s.contentCheckHooks??(s.contentCheckHooks=[])).push(c,I)),C&&(s.viewHooks??(s.viewHooks=[])).push(-c,C),M&&((s.viewHooks??(s.viewHooks=[])).push(c,M),(s.viewCheckHooks??(s.viewCheckHooks=[])).push(c,M)),null!=O&&(s.destroyHooks??(s.destroyHooks=[])).push(c,O)}}function Al(s,o,c){Ml(s,o,3,c)}function Sl(s,o,c,u){(3&s[Ft])===c&&Ml(s,o,c,u)}function Ku(s,o){let c=s[Ft];(3&c)===o&&(c&=2047,c+=1,s[Ft]=c)}function Ml(s,o,c,u){const g=u??-1,v=o.length-1;let I=0;for(let C=void 0!==u?65535&s[ss]:0;C<v;C++)if("number"==typeof o[C+1]){if(I=o[C],null!=u&&I>=u)break}else o[C]<0&&(s[ss]+=65536),(I<g||-1==g)&&(jo(s,c,o,C),s[ss]=(4294901760&s[ss])+C+2),C++}function jo(s,o,c,u){const h=c[u]<0,g=c[u+1],I=s[h?-c[u]:c[u]];if(h){if(s[Ft]>>11<s[ss]>>16&&(3&s[Ft])===o){s[Ft]+=2048,jr(4,I,g);try{g.call(I)}finally{jr(5,I,g)}}}else{jr(4,I,g);try{g.call(I)}finally{jr(5,I,g)}}}const $o=-1;class hs{constructor(o,c,u){this.factory=o,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=u}}function Ho(s,o,c){let u=0;for(;u<c.length;){const h=c[u];if("number"==typeof h){if(0!==h)break;u++;const g=c[u++],v=c[u++],I=c[u++];s.setAttribute(o,v,I,g)}else{const g=h,v=c[++u];Xs(g)?s.setProperty(o,g,v):s.setAttribute(o,g,v),u++}}return u}function xl(s){return 3===s||4===s||6===s}function Xs(s){return 64===s.charCodeAt(0)}function eo(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let c=-1;for(let u=0;u<o.length;u++){const h=o[u];"number"==typeof h?c=h:0===c||Tc(s,c,h,null,-1===c||2===c?o[++u]:null)}}return s}function Tc(s,o,c,u,h){let g=0,v=s.length;if(-1===o)v=-1;else for(;g<s.length;){const I=s[g++];if("number"==typeof I){if(I===o){v=-1;break}if(I>o){v=g-1;break}}}for(;g<s.length;){const I=s[g];if("number"==typeof I)break;if(I===c){if(null===u)return void(null!==h&&(s[g+1]=h));if(u===s[g+1])return void(s[g+2]=h)}g++,null!==u&&g++,null!==h&&g++}-1!==v&&(s.splice(v,0,o),g=v+1),s.splice(g++,0,c),null!==u&&s.splice(g++,0,u),null!==h&&s.splice(g++,0,h)}function to(s){return s!==$o}function Ss(s){return 32767&s}function no(s,o){let c=function Yu(s){return s>>16}(s),u=o;for(;c>0;)u=u[Gs],c--;return u}let Ac=!0;function Ma(s){const o=Ac;return Ac=s,o}const Sc=255,Qu=5;let ro=0;const mi={};function Rl(s,o){const c=Go(s,o);if(-1!==c)return c;const u=o[Je];u.firstCreatePass&&(s.injectorIndex=o.length,zo(u.data,s),zo(o,null),zo(u.blueprint,null));const h=Ju(s,o),g=s.injectorIndex;if(to(h)){const v=Ss(h),I=no(h,o),C=I[Je].data;for(let M=0;M<8;M++)o[g+M]=I[v+M]|C[v+M]}return o[g+8]=h,g}function zo(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Go(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Ju(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let c=0,u=null,h=o;for(;null!==h;){if(u=Pa(h),null===u)return $o;if(c++,h=h[Gs],-1!==u.injectorIndex)return u.injectorIndex|c<<16}return $o}function vn(s,o,c){!function fs(s,o,c){let u;"string"==typeof c?u=c.charCodeAt(0)||0:c.hasOwnProperty(Yt)&&(u=c[Yt]),null==u&&(u=c[Yt]=ro++);const h=u&Sc;o.data[s+(h>>Qu)]|=1<<h}(s,o,c)}function Mc(s,o,c){if(c&bt.Optional||void 0!==s)return s;Ge()}function Pl(s,o,c,u){if(c&bt.Optional&&void 0===u&&(u=null),!(c&(bt.Self|bt.Host))){const h=s[pa],g=_r(void 0);try{return h?h.get(o,u,c&bt.Optional):Lr(o,u,c&bt.Optional)}finally{_r(g)}}return Mc(u,0,c)}function xc(s,o,c,u=bt.Default,h){if(null!==s){if(1024&o[Ft]){const v=function kl(s,o,c,u,h){let g=s,v=o;for(;null!==g&&null!==v&&1024&v[Ft]&&!(256&v[Ft]);){const I=Rc(g,v,c,u|bt.Self,mi);if(I!==mi)return I;let C=g.parent;if(!C){const M=v[yr];if(M){const O=M.get(c,mi,u);if(O!==mi)return O}C=Pa(v),v=v[Gs]}g=C}return h}(s,o,c,u,mi);if(v!==mi)return v}const g=Rc(s,o,c,u,mi);if(g!==mi)return g}return Pl(o,c,u,h)}function Rc(s,o,c,u,h){const g=function Ol(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(Yt)?s[Yt]:void 0;return"number"==typeof o?o>=0?o&Sc:Vh:o}(c);if("function"==typeof g){if(!yc(o,s,u))return u&bt.Host?Mc(h,0,u):Pl(o,c,u,h);try{const v=g(u);if(null!=v||u&bt.Optional)return v;Ge()}finally{Wu()}}else if("number"==typeof g){let v=null,I=Go(s,o),C=$o,M=u&bt.Host?o[jn][Wn]:null;for((-1===I||u&bt.SkipSelf)&&(C=-1===I?Ju(s,o):o[I+8],C!==$o&&Ra(u,!1)?(v=o[Je],I=Ss(C),o=no(C,o)):I=-1);-1!==I;){const O=o[Je];if(xa(g,I,O.data)){const L=ir(I,o,c,v,u,M);if(L!==mi)return L}C=o[I+8],C!==$o&&Ra(u,o[Je].data[I+8]===M)&&xa(g,I,o)?(v=O,I=Ss(C),o=no(C,o)):I=-1}}return h}function ir(s,o,c,u,h,g){const v=o[Je],I=v.data[s+8],O=io(I,v,c,null==u?Fo(I)&&Ac:u!=v&&0!=(3&I.type),h&bt.Host&&g===I);return null!==O?$n(o,v,O,I):mi}function io(s,o,c,u,h){const g=s.providerIndexes,v=o.data,I=1048575&g,C=s.directiveStart,O=g>>20,$=h?I+O:s.directiveEnd;for(let X=u?I:I+O;X<$;X++){const ye=v[X];if(X<C&&c===ye||X>=C&&ye.type===c)return X}if(h){const X=v[C];if(X&&Ur(X)&&X.type===c)return C}return null}function $n(s,o,c,u){let h=s[c];const g=o.data;if(function tm(s){return s instanceof hs}(h)){const v=h;v.resolving&&function Ne(s,o){const c=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new ge(-200,`Circular dependency in DI detected for ${s}${c}`)}(function $e(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():ke(s)}(g[c]));const I=Ma(v.canSeeViewProviders);v.resolving=!0;const C=v.injectImpl?_r(v.injectImpl):null;yc(s,u,bt.Default);try{h=s[c]=v.factory(void 0,g,s,u),o.firstCreatePass&&c>=u.directiveStart&&function em(s,o,c){const{ngOnChanges:u,ngOnInit:h,ngDoCheck:g}=o.type.prototype;if(u){const v=ya(o);(c.preOrderHooks??(c.preOrderHooks=[])).push(s,v),(c.preOrderCheckHooks??(c.preOrderCheckHooks=[])).push(s,v)}h&&(c.preOrderHooks??(c.preOrderHooks=[])).push(0-s,h),g&&((c.preOrderHooks??(c.preOrderHooks=[])).push(s,g),(c.preOrderCheckHooks??(c.preOrderCheckHooks=[])).push(s,g))}(c,g[c],o)}finally{null!==C&&_r(C),Ma(I),v.resolving=!1,Wu()}}return h}function xa(s,o,c){return!!(c[o+(s>>Qu)]&1<<s)}function Ra(s,o){return!(s&bt.Self||s&bt.Host&&o)}class ps{constructor(o,c){this._tNode=o,this._lView=c}get(o,c,u){return xc(this._tNode,this._lView,o,Gn(u),c)}}function Vh(){return new ps(rr(),pe())}function Pc(s){return V(()=>{const o=s.prototype.constructor,c=o[dn]||so(o),u=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==u;){const g=h[dn]||so(h);if(g&&g!==c)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function so(s){return He(s)?()=>{const o=so(K(s));return o&&o()}:Hi(s)}function Pa(s){const o=s[Je],c=o.type;return 2===c?o.declTNode:1===c?s[Wn]:null}function qo(s){return function Xu(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const c=s.attrs;if(c){const u=c.length;let h=0;for(;h<u;){const g=c[h];if(xl(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<u&&"string"==typeof c[h];)h++;else{if(g===o)return c[h+1];h+=2}}}return null}(rr(),s)}const oo="__parameters__";function co(s,o,c){return V(()=>{const u=function ao(s){return function(...c){if(s){const u=s(...c);for(const h in u)this[h]=u[h]}}}(o);function h(...g){if(this instanceof h)return u.apply(this,g),this;const v=new h(...g);return I.annotation=v,I;function I(C,M,O){const L=C.hasOwnProperty(oo)?C[oo]:Object.defineProperty(C,oo,{value:[]})[oo];for(;L.length<=O;)L.push(null);return(L[O]=L[O]||[]).push(v),C}}return c&&(h.prototype=Object.create(c.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class en{constructor(o,c){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=Dt({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Gi(s,o){s.forEach(c=>Array.isArray(c)?Gi(c,o):o(c))}function Hh(s,o,c){o>=s.length?s.push(c):s.splice(o,0,c)}function uo(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Hr(s,o,c){let u=ms(s,o);return u>=0?s[1|u]=c:(u=~u,function Vl(s,o,c,u){let h=s.length;if(h==o)s.push(c,u);else if(1===h)s.push(u,s[0]),s[0]=c;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=c,s[o+1]=u}}(s,u,o,c)),u}function ho(s,o){const c=ms(s,o);if(c>=0)return s[1|c]}function ms(s,o){return function ei(s,o,c){let u=0,h=s.length>>c;for(;h!==u;){const g=u+(h-u>>1),v=s[g<<c];if(o===v)return g<<c;v>o?h=g:u=g+1}return~(h<<c)}(s,o,1)}const fo=Tn(co("Optional"),8),Ul=Tn(co("SkipSelf"),4);var qi=(()=>((qi=qi||{})[qi.Important=1]="Important",qi[qi.DashCase=2]="DashCase",qi))();const tf=new Map;let nf=0;const Y="__ngContext__";function ae(s,o){Qr(o)?(s[Y]=o[ko],function fm(s){tf.set(s[ko],s)}(o)):s[Y]=o}let Zi;function Wl(s,o){return Zi(s,o)}function dd(s){const o=s[An];return Jr(o)?o[An]:o}function rf(s){return _m(s[zs])}function Zl(s){return _m(s[hi])}function _m(s){for(;null!==s&&!Jr(s);)s=s[hi];return s}function Uc(s,o,c,u,h){if(null!=u){let g,v=!1;Jr(u)?g=u:Qr(u)&&(v=!0,u=u[di]);const I=pr(u);0===s&&null!==c?null==h?af(o,c,I):$c(o,c,I,h||null,!0):1===s&&null!==c?$c(o,c,I,h||null,!0):2===s?function wm(s,o,c){const u=cf(s,o);u&&function c0(s,o,c,u){s.removeChild(o,c,u)}(s,u,o,c)}(o,I,v):3===s&&o.destroyNode(I),null!=g&&function u0(s,o,c,u,h){const g=c[No];g!==pr(c)&&Uc(o,s,u,g,h);for(let I=fr;I<c.length;I++){const C=c[I];pd(C[Je],C,s,o,u,g)}}(o,s,g,c,h)}}function vm(s,o,c){return s.createElement(o,c)}function N_(s,o){const c=s[qs],u=c.indexOf(o),h=o[An];512&o[Ft]&&(o[Ft]&=-513,ba(h,-1)),c.splice(u,1)}function hd(s,o){if(s.length<=fr)return;const c=fr+o,u=s[c];if(u){const h=u[Oo];null!==h&&h!==s&&N_(h,u),o>0&&(s[c-1][hi]=u[hi]);const g=uo(s,fr+o);!function n0(s,o){pd(s,o,o[zt],2,null,null),o[di]=null,o[Wn]=null}(u[Je],u);const v=g[$i];null!==v&&v.detachView(g[Je]),u[An]=null,u[hi]=null,u[Ft]&=-65}return u}function F_(s,o){if(!(128&o[Ft])){const c=o[zt];c.destroyNode&&pd(s,o,c,3,null,null),function JD(s){let o=s[zs];if(!o)return fd(s[Je],s);for(;o;){let c=null;if(Qr(o))c=o[zs];else{const u=o[fr];u&&(c=u)}if(!c){for(;o&&!o[hi]&&o!==s;)Qr(o)&&fd(o[Je],o),o=o[An];null===o&&(o=s),Qr(o)&&fd(o[Je],o),c=o&&o[hi]}o=c}}(o)}}function fd(s,o){if(!(128&o[Ft])){o[Ft]&=-65,o[Ft]|=128,function a0(s,o){let c;if(null!=s&&null!=(c=s.destroyHooks))for(let u=0;u<c.length;u+=2){const h=o[c[u]];if(!(h instanceof hs)){const g=c[u+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const I=h[g[v]],C=g[v+1];jr(4,I,C);try{C.call(I)}finally{jr(5,I,C)}}else{jr(4,h,g);try{g.call(h)}finally{jr(5,h,g)}}}}}(s,o),function o0(s,o){const c=s.cleanup,u=o[rs];let h=-1;if(null!==c)for(let g=0;g<c.length-1;g+=2)if("string"==typeof c[g]){const v=c[g+3];v>=0?u[h=v]():u[h=-v].unsubscribe(),g+=2}else{const v=u[h=c[g+1]];c[g].call(v)}if(null!==u){for(let g=h+1;g<u.length;g++)(0,u[g])();o[rs]=null}}(s,o),1===o[Je].type&&o[zt].destroy();const c=o[Oo];if(null!==c&&Jr(o[An])){c!==o[An]&&N_(c,o);const u=o[$i];null!==u&&u.detachView(s)}!function E(s){tf.delete(s[ko])}(o)}}function sf(s,o,c){return function L_(s,o,c){let u=o;for(;null!==u&&40&u.type;)u=(o=u).parent;if(null===u)return c[di];{const{componentOffset:h}=u;if(h>-1){const{encapsulation:g}=s.data[u.directiveStart+h];if(g===Ee.None||g===Ee.Emulated)return null}return mr(u,c)}}(s,o.parent,c)}function $c(s,o,c,u,h){s.insertBefore(o,c,u,h)}function af(s,o,c){s.appendChild(o,c)}function V_(s,o,c,u,h){null!==u?$c(s,o,c,u,h):af(s,o,c)}function cf(s,o){return s.parentNode(o)}let Em,Ql,zc,Xl,B_=function lf(s,o,c){return 40&s.type?mr(s,c):null};function Kl(s,o,c,u){const h=sf(s,u,o),g=o[zt],I=function bm(s,o,c){return B_(s,o,c)}(u.parent||o[Wn],u,o);if(null!=h)if(Array.isArray(c))for(let C=0;C<c.length;C++)V_(g,h,c[C],I,!1);else V_(g,h,c,I,!1);void 0!==Em&&Em(g,u,o,c,h)}function df(s,o){if(null!==o){const c=o.type;if(3&c)return mr(o,s);if(4&c)return Yl(-1,s[o.index]);if(8&c){const u=o.child;if(null!==u)return df(s,u);{const h=s[o.index];return Jr(h)?Yl(-1,h):pr(h)}}if(32&c)return Wl(o,s)()||pr(s[o.index]);{const u=U_(s,o);return null!==u?Array.isArray(u)?u[0]:df(dd(s[jn]),u):df(s,o.next)}}return null}function U_(s,o){return null!==o?s[jn][Wn].projection[o.projection]:null}function Yl(s,o){const c=fr+s+1;if(c<o.length){const u=o[c],h=u[Je].firstChild;if(null!==h)return df(u,h)}return o[No]}function Im(s,o,c,u,h,g,v){for(;null!=c;){const I=u[c.index],C=c.type;if(v&&0===o&&(I&&ae(pr(I),u),c.flags|=2),32!=(32&c.flags))if(8&C)Im(s,o,c.child,u,h,g,!1),Uc(o,s,h,I,g);else if(32&C){const M=Wl(c,u);let O;for(;O=M();)Uc(o,s,h,O,g);Uc(o,s,h,I,g)}else 16&C?$_(s,o,u,c,h,g):Uc(o,s,h,I,g);c=v?c.projectionNext:c.next}}function pd(s,o,c,u,h,g){Im(c,u,s.firstChild,o,h,g,!1)}function $_(s,o,c,u,h,g){const v=c[jn],C=v[Wn].projection[u.projection];if(Array.isArray(C))for(let M=0;M<C.length;M++)Uc(o,s,h,C[M],g);else Im(s,o,C,v[An],h,g,!0)}function Hc(s,o,c){""===c?s.removeAttribute(o,"class"):s.setAttribute(o,"class",c)}function H_(s,o,c){const{mergedAttrs:u,classes:h,styles:g}=c;null!==u&&Ho(s,o,u),null!==h&&Hc(s,o,h),null!==g&&function h0(s,o,c){s.setAttribute(o,"style",c)}(s,o,g)}function Jl(s){return function Dm(){if(void 0===Ql&&(Ql=null,sn.trustedTypes))try{Ql=sn.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Ql}()?.createHTML(s)||s}function z_(s){zc=s}function gs(){if(void 0===Xl&&(Xl=null,sn.trustedTypes))try{Xl=sn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Xl}function Fn(s){return gs()?.createHTML(s)||s}function pf(s){return gs()?.createScriptURL(s)||s}class Tm{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${pt})`}}function ct(s){return s instanceof Tm?s.changingThisBreaksApplicationSecurity:s}function qc(s,o){const c=function q_(s){return s instanceof Tm&&s.getTypeName()||null}(s);if(null!=c&&c!==o){if("ResourceURL"===c&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${c} (see ${pt})`)}return c===o}class Z_{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const c=(new window.DOMParser).parseFromString(Jl(o),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(o):(c.removeChild(c.firstChild),c)}catch{return null}}}class Ps{constructor(o){this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(o){const c=this.inertDocument.createElement("template");return c.innerHTML=Jl(o),c}}const Mm=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ja(s){return(s=String(s)).match(Mm)?s:"unsafe:"+s}function zr(s){const o={};for(const c of s.split(","))o[c]=!0;return o}function Ln(...s){const o={};for(const c of s)for(const u in c)c.hasOwnProperty(u)&&(o[u]=!0);return o}const ea=zr("area,br,col,hr,img,wbr"),Mi=zr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),xm=zr("rp,rt"),m=Ln(ea,Ln(Mi,zr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ln(xm,zr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ln(xm,Mi)),b=zr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),j=Ln(b,zr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),zr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),J=zr("script,style,template");class Pe{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let c=o.firstChild,u=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?u=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,u&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let h=this.checkClobberedElement(c,c.nextSibling);if(h){c=h;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(o){const c=o.nodeName.toLowerCase();if(!m.hasOwnProperty(c))return this.sanitizedSomething=!0,!J.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const u=o.attributes;for(let h=0;h<u.length;h++){const g=u.item(h),v=g.name,I=v.toLowerCase();if(!j.hasOwnProperty(I)){this.sanitizedSomething=!0;continue}let C=g.value;b[I]&&(C=ja(C)),this.buf.push(" ",v,'="',lt(C),'"')}return this.buf.push(">"),!0}endElement(o){const c=o.nodeName.toLowerCase();m.hasOwnProperty(c)&&!ea.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(o){this.buf.push(lt(o))}checkClobberedElement(o,c){if(c&&(o.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return c}}const ze=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ot=/([^\#-~ |!])/g;function lt(s){return s.replace(/&/g,"&amp;").replace(ze,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(ot,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Dn;function $a(s){return"content"in s&&function Y_(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Qn=(()=>((Qn=Qn||{})[Qn.NONE=0]="NONE",Qn[Qn.HTML=1]="HTML",Qn[Qn.STYLE=2]="STYLE",Qn[Qn.SCRIPT=3]="SCRIPT",Qn[Qn.URL=4]="URL",Qn[Qn.RESOURCE_URL=5]="RESOURCE_URL",Qn))();function gd(s){const o=km();return o?Fn(o.sanitize(Qn.HTML,s)||""):qc(s,"HTML")?Fn(ct(s)):function Os(s,o){let c=null;try{Dn=Dn||function Wc(s){const o=new Ps(s);return function go(){try{return!!(new window.DOMParser).parseFromString(Jl(""),"text/html")}catch{return!1}}()?new Z_(o):o}(s);let u=o?String(o):"";c=Dn.getInertBodyElement(u);let h=5,g=u;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,u=g,g=c.innerHTML,c=Dn.getInertBodyElement(u)}while(u!==g);return Jl((new Pe).sanitizeChildren($a(c)||c))}finally{if(c){const u=$a(c)||c;for(;u.firstChild;)u.removeChild(u.firstChild)}}}(function ff(){return void 0!==zc?zc:typeof document<"u"?document:void 0}(),ke(s))}function nu(s){const o=km();return o?o.sanitize(Qn.URL,s)||"":qc(s,"URL")?ct(s):ja(ke(s))}function Rm(s){const o=km();if(o)return pf(o.sanitize(Qn.RESOURCE_URL,s)||"");if(qc(s,"ResourceURL"))return pf(ct(s));throw new ge(904,!1)}function gf(s,o,c){return function m0(s,o){return"src"===o&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===o&&("base"===s||"link"===s)?Rm:nu}(o,c)(s)}function km(){const s=pe();return s&&s[ma]}const g0=new en("ENVIRONMENT_INITIALIZER"),tC=new en("INJECTOR",-1),nC=new en("INJECTOR_DEF_TYPES");class _0{get(o,c=li){if(c===li){const u=new Error(`NullInjectorError: No provider for ${Ie(o)}!`);throw u.name="NullInjectorError",u}return c}}function rC(...s){return{\u0275providers:y0(0,s),\u0275fromNgModule:!0}}function y0(s,...o){const c=[],u=new Set;let h;return Gi(o,g=>{const v=g;Nm(v,c,[],u)&&(h||(h=[]),h.push(v))}),void 0!==h&&v0(h,c),c}function v0(s,o){for(let c=0;c<s.length;c++){const{providers:h}=s[c];b0(h,g=>{o.push(g)})}}function Nm(s,o,c,u){if(!(s=K(s)))return!1;let h=null,g=Fr(s);const v=!g&&Et(s);if(g||v){if(v&&!v.standalone)return!1;h=s}else{const C=s.ngModule;if(g=Fr(C),!g)return!1;h=C}const I=u.has(h);if(v){if(I)return!1;if(u.add(h),v.dependencies){const C="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const M of C)Nm(M,o,c,u)}}else{if(!g)return!1;{if(null!=g.imports&&!I){let M;u.add(h);try{Gi(g.imports,O=>{Nm(O,o,c,u)&&(M||(M=[]),M.push(O))})}finally{}void 0!==M&&v0(M,o)}if(!I){const M=Hi(h)||(()=>new h);o.push({provide:h,useFactory:M,deps:Ve},{provide:nC,useValue:h,multi:!0},{provide:g0,useValue:()=>cn(h),multi:!0})}const C=g.providers;null==C||I||b0(C,O=>{o.push(O)})}}return h!==s&&void 0!==s.providers}function b0(s,o){for(let c of s)Se(c)&&(c=c.\u0275providers),Array.isArray(c)?b0(c,o):o(c)}const CR=ie({provide:String,useValue:ie});function E0(s){return null!==s&&"object"==typeof s&&CR in s}function _d(s){return"function"==typeof s}const w0=new en("Set Injector scope."),X_={},AR={};let I0;function Fm(){return void 0===I0&&(I0=new _0),I0}class ru{}class oC extends ru{get destroyed(){return this._destroyed}constructor(o,c,u,h){super(),this.parent=c,this.source=u,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,C0(o,v=>this.processProvider(v)),this.records.set(tC,_f(void 0,this)),h.has("environment")&&this.records.set(ru,_f(void 0,this));const g=this.records.get(w0);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(nC.multi,Ve,bt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const c=Xt(this),u=_r(void 0);try{return o()}finally{Xt(c),_r(u)}}get(o,c=li,u=bt.Default){this.assertNotDestroyed(),u=Gn(u);const h=Xt(this),g=_r(void 0);try{if(!(u&bt.SkipSelf)){let I=this.records.get(o);if(void 0===I){const C=function RR(s){return"function"==typeof s||"object"==typeof s&&s instanceof en}(o)&&In(o);I=C&&this.injectableDefInScope(C)?_f(D0(o),X_):null,this.records.set(o,I)}if(null!=I)return this.hydrate(o,I)}return(u&bt.Self?Fm():this.parent).get(o,c=u&bt.Optional&&c===li?null:c)}catch(v){if("NullInjectorError"===v.name){if((v[dr]=v[dr]||[]).unshift(Ie(o)),h)throw v;return function Br(s,o,c,u){const h=s[dr];throw o[yn]&&h.unshift(o[yn]),s.message=function U(s,o,c,u=null){s=s&&"\n"===s.charAt(0)&&s.charAt(1)==Kr?s.slice(2):s;let h=Ie(o);if(Array.isArray(o))h=o.map(Ie).join(" -> ");else if("object"==typeof o){let g=[];for(let v in o)if(o.hasOwnProperty(v)){let I=o[v];g.push(v+":"+("string"==typeof I?JSON.stringify(I):Ie(I)))}h=`{${g.join(", ")}}`}return`${c}${u?"("+u+")":""}[${h}]: ${s.replace(On,"\n  ")}`}("\n"+s.message,h,c,u),s[Vr]=h,s[dr]=null,s}(v,o,"R3InjectorError",this.source)}throw v}finally{_r(g),Xt(h)}}resolveInjectorInitializers(){const o=Xt(this),c=_r(void 0);try{const u=this.get(g0.multi,Ve,bt.Self);for(const h of u)h()}finally{Xt(o),_r(c)}}toString(){const o=[],c=this.records;for(const u of c.keys())o.push(Ie(u));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ge(205,!1)}processProvider(o){let c=_d(o=K(o))?o:K(o&&o.provide);const u=function MR(s){return E0(s)?_f(void 0,s.useValue):_f(aC(s),X_)}(o);if(_d(o)||!0!==o.multi)this.records.get(c);else{let h=this.records.get(c);h||(h=_f(void 0,X_,!0),h.factory=()=>Ii(h.multi),this.records.set(c,h)),c=o,h.multi.push(o)}this.records.set(c,u)}hydrate(o,c){return c.value===X_&&(c.value=AR,c.value=c.factory()),"object"==typeof c.value&&c.value&&function xR(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(o){if(!o.providedIn)return!1;const c=K(o.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}}function D0(s){const o=In(s),c=null!==o?o.factory:Hi(s);if(null!==c)return c;if(s instanceof en)throw new ge(204,!1);if(s instanceof Function)return function SR(s){const o=s.length;if(o>0)throw function kc(s,o){const c=[];for(let u=0;u<s;u++)c.push(o);return c}(o,"?"),new ge(204,!1);const c=function ur(s){return s&&(s[ci]||s[Hs])||null}(s);return null!==c?()=>c.factory(s):()=>new s}(s);throw new ge(204,!1)}function aC(s,o,c){let u;if(_d(s)){const h=K(s);return Hi(h)||D0(h)}if(E0(s))u=()=>K(s.useValue);else if(function sC(s){return!(!s||!s.useFactory)}(s))u=()=>s.useFactory(...Ii(s.deps||[]));else if(function iC(s){return!(!s||!s.useExisting)}(s))u=()=>cn(K(s.useExisting));else{const h=K(s&&(s.useClass||s.provide));if(!function cC(s){return!!s.deps}(s))return Hi(h)||D0(h);u=()=>new h(...Ii(s.deps))}return u}function _f(s,o,c=!1){return{factory:s,value:o,multi:c?[]:void 0}}function C0(s,o){for(const c of s)Array.isArray(c)?C0(c,o):c&&Se(c)?C0(c.\u0275providers,o):o(c)}class PR{}class lC{}class T0{resolveComponentFactory(o){throw function OR(s){const o=Error(`No component factory found for ${Ie(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let yd=(()=>{class s{}return s.NULL=new T0,s})();function ey(){return iu(rr(),pe())}function iu(s,o){return new yf(mr(s,o))}let yf=(()=>{class s{constructor(c){this.nativeElement=c}}return s.__NG_ELEMENT_ID__=ey,s})();function kR(s){return s instanceof yf?s.nativeElement:s}class A0{}let dC=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function NR(){const s=pe(),c=nr(rr().index,s);return(Qr(c)?c:s)[zt]}(),s})(),FR=(()=>{class s{}return s.\u0275prov=Dt({token:s,providedIn:"root",factory:()=>null}),s})();class hC{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const ty=new hC("15.2.9"),Lm={},S0="ngOriginalError";function M0(s){return s[S0]}class Vm{constructor(){this._console=console}handleError(o){const c=this._findOriginalError(o);this._console.error("ERROR",o),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(o){let c=o&&M0(o);for(;c&&M0(c);)c=M0(c);return c||null}}function Ha(s){return s instanceof Function?s():s}function pC(s,o,c){let u=s.length;for(;;){const h=s.indexOf(o,c);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const g=o.length;if(h+g===u||s.charCodeAt(h+g)<=32)return h}c=h+1}}const mC="ng-template";function GR(s,o,c){let u=0,h=!0;for(;u<s.length;){let g=s[u++];if("string"==typeof g&&h){const v=s[u++];if(c&&"class"===g&&-1!==pC(v.toLowerCase(),o,0))return!0}else{if(1===g){for(;u<s.length&&"string"==typeof(g=s[u++]);)if(g.toLowerCase()===o)return!0;return!1}"number"==typeof g&&(h=!1)}}return!1}function gC(s){return 4===s.type&&s.value!==mC}function qR(s,o,c){return o===(4!==s.type||c?s.value:mC)}function _C(s,o,c){let u=4;const h=s.attrs||[],g=function KR(s){for(let o=0;o<s.length;o++)if(xl(s[o]))return o;return s.length}(h);let v=!1;for(let I=0;I<o.length;I++){const C=o[I];if("number"!=typeof C){if(!v)if(4&u){if(u=2|1&u,""!==C&&!qR(s,C,c)||""===C&&1===o.length){if(ta(u))return!1;v=!0}}else{const M=8&u?C:o[++I];if(8&u&&null!==s.attrs){if(!GR(s.attrs,M,c)){if(ta(u))return!1;v=!0}continue}const L=WR(8&u?"class":C,h,gC(s),c);if(-1===L){if(ta(u))return!1;v=!0;continue}if(""!==M){let $;$=L>g?"":h[L+1].toLowerCase();const X=8&u?$:null;if(X&&-1!==pC(X,M,0)||2&u&&M!==$){if(ta(u))return!1;v=!0}}}}else{if(!v&&!ta(u)&&!ta(C))return!1;if(v&&ta(C))continue;v=!1,u=C|1&u}}return ta(u)||v}function ta(s){return 0==(1&s)}function WR(s,o,c,u){if(null===o)return-1;let h=0;if(u||!c){let g=!1;for(;h<o.length;){const v=o[h];if(v===s)return h;if(3===v||6===v)g=!0;else{if(1===v||2===v){let I=o[++h];for(;"string"==typeof I;)I=o[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=g?1:2}return-1}return function YR(s,o){let c=s.indexOf(4);if(c>-1)for(c++;c<s.length;){const u=s[c];if("number"==typeof u)return-1;if(u===o)return c;c++}return-1}(o,s)}function yC(s,o,c=!1){for(let u=0;u<o.length;u++)if(_C(s,o[u],c))return!0;return!1}function vC(s,o){return s?":not("+o.trim()+")":o}function JR(s){let o=s[0],c=1,u=2,h="",g=!1;for(;c<s.length;){let v=s[c];if("string"==typeof v)if(2&u){const I=s[++c];h+="["+v+(I.length>0?'="'+I+'"':"")+"]"}else 8&u?h+="."+v:4&u&&(h+=" "+v);else""!==h&&!ta(v)&&(o+=vC(g,h),h=""),u=v,g=g||!ta(u);c++}return""!==h&&(o+=vC(g,h)),o}const Kt={};function bd(s){bC(Bt(),pe(),vr()+s,!1)}function bC(s,o,c,u){if(!u)if(3==(3&o[Ft])){const g=s.preOrderCheckHooks;null!==g&&Al(o,g,c)}else{const g=s.preOrderHooks;null!==g&&Sl(o,g,0,c)}ds(c)}function N0(s,o=null,c=null,u){const h=IC(s,o,c,u);return h.resolveInjectorInitializers(),h}function IC(s,o=null,c=null,u,h=new Set){const g=[c||Ve,rC(s)];return u=u||("object"==typeof s?void 0:Ie(s)),new oC(g,o||Fm(),u||null,h)}let Ed=(()=>{class s{static create(c,u){if(Array.isArray(c))return N0({name:""},u,c,"");{const h=c.name??"";return N0({name:h},c.parent,c.providers,h)}}}return s.THROW_IF_NOT_FOUND=li,s.NULL=new _0,s.\u0275prov=Dt({token:s,providedIn:"any",factory:()=>cn(tC)}),s.__NG_ELEMENT_ID__=-1,s})();function bf(s,o=bt.Default){const c=pe();return null===c?cn(s,o):xc(rr(),c,K(s),o)}function xC(){throw new Error("invalid")}function $0(s,o){const c=s.contentQueries;if(null!==c)for(let u=0;u<c.length;u+=2){const g=c[u+1];if(-1!==g){const v=s.data[g];_c(c[u]),v.contentQueries(2,o[g],g)}}}function Um(s,o,c,u,h,g,v,I,C,M,O){const L=o.blueprint.slice();return L[di]=h,L[Ft]=76|u,(null!==O||s&&1024&s[Ft])&&(L[Ft]|=1024),Bo(L),L[An]=L[Gs]=s,L[Nn]=c,L[ji]=v||s&&s[ji],L[zt]=I||s&&s[zt],L[ma]=C||s&&s[ma]||null,L[pa]=M||s&&s[pa]||null,L[Wn]=g,L[ko]=function hm(){return nf++}(),L[yr]=O,L[jn]=2==o.type?s[jn]:L,L}function Ki(s,o,c,u,h){let g=s.data[o];if(null===g)g=function oy(s,o,c,u,h){const g=Zs(),v=zu(),C=s.data[o]=function W0(s,o,c,u,h,g){return{type:c,index:u,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,c,o,u,h);return null===s.firstChild&&(s.firstChild=C),null!==g&&(v?null==g.child&&null!==C.parent&&(g.child=C):null===g.next&&(g.next=C,C.prev=g)),C}(s,o,c,u,h),function Gu(){return Ot.lFrame.inI18n}()&&(g.flags|=32);else if(64&g.type){g.type=c,g.value=u,g.attrs=h;const v=function pc(){const s=Ot.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();g.injectorIndex=null===v?-1:v.injectorIndex}return $r(g,!0),g}function su(s,o,c,u){if(0===c)return-1;const h=o.length;for(let g=0;g<c;g++)o.push(u),s.blueprint.push(u),s.data.push(null);return h}function z0(s,o,c){vc(o);try{const u=s.viewQuery;null!==u&&J0(1,u,c);const h=s.template;null!==h&&Zc(s,o,h,1,c),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&$0(s,o),s.staticViewQueries&&J0(2,s.viewQuery,c);const g=s.components;null!==g&&function H0(s,o){for(let c=0;c<o.length;c++)uy(s,o[c])}(o,g)}catch(u){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),u}finally{o[Ft]&=-5,bc()}}function Ef(s,o,c,u){const h=o[Ft];if(128!=(128&h)){vc(o);try{Bo(o),function zi(s){return Ot.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==c&&Zc(s,o,c,2,u);const v=3==(3&h);if(v){const M=s.preOrderCheckHooks;null!==M&&Al(o,M,null)}else{const M=s.preOrderHooks;null!==M&&Sl(o,M,0,null),Ku(o,0)}if(function xP(s){for(let o=rf(s);null!==o;o=Zl(o)){if(!o[vl])continue;const c=o[qs];for(let u=0;u<c.length;u++){const h=c[u];512&h[Ft]||ba(h[An],1),h[Ft]|=512}}}(o),function MP(s){for(let o=rf(s);null!==o;o=Zl(o))for(let c=fr;c<o.length;c++){const u=o[c],h=u[Je];ls(u)&&Ef(h,u,h.template,u[Nn])}}(o),null!==s.contentQueries&&$0(s,o),v){const M=s.contentCheckHooks;null!==M&&Al(o,M)}else{const M=s.contentHooks;null!==M&&Sl(o,M,1),Ku(o,1)}!function hP(s,o){const c=s.hostBindingOpCodes;if(null!==c)try{for(let u=0;u<c.length;u++){const h=c[u];if(h<0)ds(~h);else{const g=h,v=c[++u],I=c[++u];gc(v,g),I(2,o[g])}}}finally{ds(-1)}}(s,o);const I=s.components;null!==I&&function fP(s,o){for(let c=0;c<o.length;c++)RP(s,o[c])}(o,I);const C=s.viewQuery;if(null!==C&&J0(2,C,u),v){const M=s.viewCheckHooks;null!==M&&Al(o,M)}else{const M=s.viewHooks;null!==M&&Sl(o,M,2),Ku(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[Ft]&=-41,512&o[Ft]&&(o[Ft]&=-513,ba(o[An],-1))}finally{bc()}}}function Zc(s,o,c,u,h){const g=vr(),v=2&u;try{ds(-1),v&&o.length>En&&bC(s,o,En,!1),jr(v?2:0,h),c(u,h)}finally{ds(g),jr(v?3:1,h)}}function wf(s,o,c){if(_a(o)){const h=o.directiveEnd;for(let g=o.directiveStart;g<h;g++){const v=s.data[g];v.contentQueries&&v.contentQueries(1,c[g],g)}}}function G0(s,o,c){fc()&&(function EP(s,o,c,u){const h=c.directiveStart,g=c.directiveEnd;Fo(c)&&function TP(s,o,c){const u=mr(o,s),h=RC(c),g=s[ji],v=dy(s,Um(s,h,null,c.onPush?32:16,u,o,g,g.createRenderer(u,c),null,null,null));s[o.index]=v}(o,c,s.data[h+c.componentOffset]),s.firstCreatePass||Rl(c,o),ae(u,o);const v=c.initialInputs;for(let I=h;I<g;I++){const C=s.data[I],M=$n(o,s,I,c);ae(M,o),null!==v&&AP(0,I-h,M,C,0,v),Ur(C)&&(nr(c.index,o)[Nn]=$n(o,s,I,c))}}(s,o,c,mr(c,o)),64==(64&c.flags)&&kC(s,o,c))}function If(s,o,c=mr){const u=o.localNames;if(null!==u){let h=o.index+1;for(let g=0;g<u.length;g+=2){const v=u[g+1],I=-1===v?c(o,s):s[v];s[h++]=I}}}function RC(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=q0(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function q0(s,o,c,u,h,g,v,I,C,M){const O=En+u,L=O+h,$=function pP(s,o){const c=[];for(let u=0;u<o;u++)c.push(u<s?null:Kt);return c}(O,L),X="function"==typeof M?M():M;return $[Je]={type:s,blueprint:$,template:c,queries:null,viewQuery:I,declTNode:o,data:$.slice().fill(null,O),bindingStartIndex:O,expandoStartIndex:L,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:C,consts:X,incompleteFirstPass:!1}}function PC(s,o,c,u){const h=VC(o);null===c?h.push(u):(h.push(c),s.firstCreatePass&&BC(s).push(u,h.length-1))}function wd(s,o,c,u){for(let h in s)if(s.hasOwnProperty(h)){c=null===c?{}:c;const g=s[h];null===u?ay(c,o,h,g):u.hasOwnProperty(h)&&ay(c,o,u[h],g)}return c}function ay(s,o,c,u){s.hasOwnProperty(c)?s[c].push(o,u):s[c]=[o,u]}function ks(s,o,c,u,h,g,v,I){const C=mr(o,c);let O,M=o.inputs;!I&&null!=M&&(O=M[u])?(X0(s,c,O,u,h),Fo(o)&&function _P(s,o){const c=nr(o,s);16&c[Ft]||(c[Ft]|=32)}(c,o.index)):3&o.type&&(u=function gP(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(u),h=null!=v?v(h,o.value||"",u):h,g.setProperty(C,u,h))}function Z0(s,o,c,u){if(fc()){const h=null===u?null:{"":-1},g=function NC(s,o){const c=s.directiveRegistry;let u=null,h=null;if(c)for(let g=0;g<c.length;g++){const v=c[g];if(yC(o,v.selectors,!1))if(u||(u=[]),Ur(v))if(null!==v.findHostDirectiveDefs){const I=[];h=h||new Map,v.findHostDirectiveDefs(v,I,h),u.unshift(...I,v),ly(s,o,I.length)}else u.unshift(v),ly(s,o,0);else h=h||new Map,v.findHostDirectiveDefs?.(v,u,h),u.push(v)}return null===u?null:[u,h]}(s,c);let v,I;null===g?v=I=null:[v,I]=g,null!==v&&OC(s,o,c,v,h,I),h&&function FC(s,o,c){if(o){const u=s.localNames=[];for(let h=0;h<o.length;h+=2){const g=c[o[h+1]];if(null==g)throw new ge(-301,!1);u.push(o[h],g)}}}(c,u,h)}c.mergedAttrs=eo(c.mergedAttrs,c.attrs)}function OC(s,o,c,u,h,g){for(let M=0;M<u.length;M++)vn(Rl(c,o),s,u[M].type);!function DP(s,o,c){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+c,s.providerIndexes=o}(c,s.data.length,u.length);for(let M=0;M<u.length;M++){const O=u[M];O.providersResolver&&O.providersResolver(O)}let v=!1,I=!1,C=su(s,o,u.length,null);for(let M=0;M<u.length;M++){const O=u[M];c.mergedAttrs=eo(c.mergedAttrs,O.hostAttrs),CP(s,c,o,C,O),IP(C,O,h),null!==O.contentQueries&&(c.flags|=4),(null!==O.hostBindings||null!==O.hostAttrs||0!==O.hostVars)&&(c.flags|=64);const L=O.type.prototype;!v&&(L.ngOnChanges||L.ngOnInit||L.ngDoCheck)&&((s.preOrderHooks??(s.preOrderHooks=[])).push(c.index),v=!0),!I&&(L.ngOnChanges||L.ngDoCheck)&&((s.preOrderCheckHooks??(s.preOrderCheckHooks=[])).push(c.index),I=!0),C++}!function cy(s,o,c){const h=o.directiveEnd,g=s.data,v=o.attrs,I=[];let C=null,M=null;for(let O=o.directiveStart;O<h;O++){const L=g[O],$=c?c.get(L):null,ye=$?$.outputs:null;C=wd(L.inputs,O,C,$?$.inputs:null),M=wd(L.outputs,O,M,ye);const Ue=null===C||null===v||gC(o)?null:SP(C,O,v);I.push(Ue)}null!==C&&(C.hasOwnProperty("class")&&(o.flags|=8),C.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=I,o.inputs=C,o.outputs=M}(s,c,g)}function kC(s,o,c){const u=c.directiveStart,h=c.directiveEnd,g=c.index,v=function Xp(){return Ot.lFrame.currentDirectiveIndex}();try{ds(g);for(let I=u;I<h;I++){const C=s.data[I],M=o[I];Kn(I),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&wP(C,M)}}finally{ds(-1),Kn(v)}}function wP(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function ly(s,o,c){o.componentOffset=c,(s.components??(s.components=[])).push(o.index)}function IP(s,o,c){if(c){if(o.exportAs)for(let u=0;u<o.exportAs.length;u++)c[o.exportAs[u]]=s;Ur(o)&&(c[""]=s)}}function CP(s,o,c,u,h){s.data[u]=h;const g=h.factory||(h.factory=Hi(h.type)),v=new hs(g,Ur(h),bf);s.blueprint[u]=v,c[u]=v,function vP(s,o,c,u,h){const g=h.hostBindings;if(g){let v=s.hostBindingOpCodes;null===v&&(v=s.hostBindingOpCodes=[]);const I=~o.index;(function bP(s){let o=s.length;for(;o>0;){const c=s[--o];if("number"==typeof c&&c<0)return c}return 0})(v)!=I&&v.push(I),v.push(c,u,g)}}(s,o,u,su(s,c,h.hostVars,Kt),h)}function za(s,o,c,u,h,g){const v=mr(s,o);!function K0(s,o,c,u,h,g,v){if(null==g)s.removeAttribute(o,h,c);else{const I=null==v?ke(g):v(g,u||"",h);s.setAttribute(o,h,I,c)}}(o[zt],v,g,s.value,c,u,h)}function AP(s,o,c,u,h,g){const v=g[o];if(null!==v){const I=u.setInput;for(let C=0;C<v.length;){const M=v[C++],O=v[C++],L=v[C++];null!==I?u.setInput(c,L,M,O):c[O]=L}}}function SP(s,o,c){let u=null,h=0;for(;h<c.length;){const g=c[h];if(0!==g)if(5!==g){if("number"==typeof g)break;if(s.hasOwnProperty(g)){null===u&&(u=[]);const v=s[g];for(let I=0;I<v.length;I+=2)if(v[I]===o){u.push(g,v[I+1],c[h+1]);break}}h+=2}else h+=2;else h+=4}return u}function LC(s,o,c,u){return[s,!0,!1,o,null,0,u,c,null,null]}function RP(s,o){const c=nr(o,s);if(ls(c)){const u=c[Je];48&c[Ft]?Ef(u,c,u.template,c[Nn]):c[pn]>0&&Y0(c)}}function Y0(s){for(let u=rf(s);null!==u;u=Zl(u))for(let h=fr;h<u.length;h++){const g=u[h];if(ls(g))if(512&g[Ft]){const v=g[Je];Ef(v,g,v.template,g[Nn])}else g[pn]>0&&Y0(g)}const c=s[Je].components;if(null!==c)for(let u=0;u<c.length;u++){const h=nr(c[u],s);ls(h)&&h[pn]>0&&Y0(h)}}function uy(s,o){const c=nr(o,s),u=c[Je];(function Q0(s,o){for(let c=o.length;c<s.blueprint.length;c++)o.push(s.blueprint[c])})(u,c),z0(u,c,c[Nn])}function dy(s,o){return s[zs]?s[is][hi]=o:s[zs]=o,s[is]=o,o}function hy(s){for(;s;){s[Ft]|=32;const o=dd(s);if(oc(s)&&!o)return s;s=o}return null}function jm(s,o,c,u=!0){const h=o[ji];h.begin&&h.begin();try{Ef(s,o,s.template,c)}catch(v){throw u&&jC(o,v),v}finally{h.end&&h.end()}}function J0(s,o,c){_c(0),o(s,c)}function VC(s){return s[rs]||(s[rs]=[])}function BC(s){return s.cleanup||(s.cleanup=[])}function jC(s,o){const c=s[pa],u=c?c.get(Vm,null):null;u&&u.handleError(o)}function X0(s,o,c,u,h){for(let g=0;g<c.length;){const v=c[g++],I=c[g++],C=o[v],M=s.data[v];null!==M.setInput?M.setInput(C,h,u,I):C[I]=h}}function fy(s,o,c){let u=c?s.styles:null,h=c?s.classes:null,g=0;if(null!==o)for(let v=0;v<o.length;v++){const I=o[v];"number"==typeof I?g=I:1==g?h=me(h,I):2==g&&(u=me(u,I+": "+o[++v]+";"))}c?s.styles=u:s.stylesWithoutHost=u,c?s.classes=h:s.classesWithoutHost=h}function py(s,o,c,u,h=!1){for(;null!==c;){const g=o[c.index];if(null!==g&&u.push(pr(g)),Jr(g))for(let I=fr;I<g.length;I++){const C=g[I],M=C[Je].firstChild;null!==M&&py(C[Je],C,M,u)}const v=c.type;if(8&v)py(s,o,c.child,u);else if(32&v){const I=Wl(c,o);let C;for(;C=I();)u.push(C)}else if(16&v){const I=U_(o,c);if(Array.isArray(I))u.push(...I);else{const C=dd(o[jn]);py(C[Je],C,I,u,!0)}}c=h?c.projectionNext:c.next}return u}class $m{get rootNodes(){const o=this._lView,c=o[Je];return py(c,o,c.firstChild,[])}constructor(o,c){this._lView=o,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Nn]}set context(o){this._lView[Nn]=o}get destroyed(){return 128==(128&this._lView[Ft])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[An];if(Jr(o)){const c=o[Ds],u=c?c.indexOf(this):-1;u>-1&&(hd(o,u),uo(c,u))}this._attachedToViewContainer=!1}F_(this._lView[Je],this._lView)}onDestroy(o){PC(this._lView[Je],this._lView,null,o)}markForCheck(){hy(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ft]&=-65}reattach(){this._lView[Ft]|=64}detectChanges(){jm(this._lView[Je],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ge(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function r0(s,o){pd(s,o,o[zt],2,null,null)}(this._lView[Je],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new ge(902,!1);this._appRef=o}}class PP extends $m{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;jm(o[Je],o,o[Nn],!1)}checkNoChanges(){}get context(){return null}}class $C extends yd{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const c=Et(o);return new Hm(c,this.ngModule)}}function HC(s){const o=[];for(let c in s)s.hasOwnProperty(c)&&o.push({propName:s[c],templateName:c});return o}class kP{constructor(o,c){this.injector=o,this.parentInjector=c}get(o,c,u){u=Gn(u);const h=this.injector.get(o,Lm,u);return h!==Lm||c===Lm?h:this.parentInjector.get(o,c,u)}}class Hm extends lC{get inputs(){return HC(this.componentDef.inputs)}get outputs(){return HC(this.componentDef.outputs)}constructor(o,c){super(),this.componentDef=o,this.ngModule=c,this.componentType=o.type,this.selector=function XR(s){return s.map(JR).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!c}create(o,c,u,h){let g=(h=h||this.ngModule)instanceof ru?h:h?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const v=g?new kP(o,g):o,I=v.get(A0,null);if(null===I)throw new ge(407,!1);const C=v.get(FR,null),M=I.createRenderer(null,this.componentDef),O=this.componentDef.selectors[0][0]||"div",L=u?function mP(s,o,c){return s.selectRootElement(o,c===Ee.ShadowDom)}(M,u,this.componentDef.encapsulation):vm(M,O,function OP(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(O)),$=this.componentDef.onPush?288:272,X=q0(0,null,null,1,0,null,null,null,null,null),ye=Um(null,X,null,$,null,null,I,M,C,v,null);let Ue,et;vc(ye);try{const ne=this.componentDef;let ut,Ae=null;ne.findHostDirectiveDefs?(ut=[],Ae=new Map,ne.findHostDirectiveDefs(ne,ut,Ae),ut.push(ne)):ut=[ne];const Ut=function FP(s,o){const c=s[Je],u=En;return s[u]=o,Ki(c,u,2,"#host",null)}(ye,L),je=function LP(s,o,c,u,h,g,v,I){const C=h[Je];!function VP(s,o,c,u){for(const h of s)o.mergedAttrs=eo(o.mergedAttrs,h.hostAttrs);null!==o.mergedAttrs&&(fy(o,o.mergedAttrs,!0),null!==c&&H_(u,c,o))}(u,s,o,v);const M=g.createRenderer(o,c),O=Um(h,RC(c),null,c.onPush?32:16,h[s.index],s,g,M,I||null,null,null);return C.firstCreatePass&&ly(C,s,u.length-1),dy(h,O),h[s.index]=O}(Ut,L,ne,ut,ye,I,M);et=Bu(X,En),L&&function UP(s,o,c,u){if(u)Ho(s,c,["ng-version",ty.full]);else{const{attrs:h,classes:g}=function eP(s){const o=[],c=[];let u=1,h=2;for(;u<s.length;){let g=s[u];if("string"==typeof g)2===h?""!==g&&o.push(g,s[++u]):8===h&&c.push(g);else{if(!ta(h))break;h=g}u++}return{attrs:o,classes:c}}(o.selectors[0]);h&&Ho(s,c,h),g&&g.length>0&&Hc(s,c,g.join(" "))}}(M,ne,L,u),void 0!==c&&function jP(s,o,c){const u=s.projection=[];for(let h=0;h<o.length;h++){const g=c[h];u.push(null!=g?Array.from(g):null)}}(et,this.ngContentSelectors,c),Ue=function BP(s,o,c,u,h,g){const v=rr(),I=h[Je],C=mr(v,h);OC(I,h,v,c,null,u);for(let O=0;O<c.length;O++)ae($n(h,I,v.directiveStart+O,v),h);kC(I,h,v),C&&ae(C,h);const M=$n(h,I,v.directiveStart+v.componentOffset,v);if(s[Nn]=h[Nn]=M,null!==g)for(const O of g)O(M,o);return wf(I,v,s),M}(je,ne,ut,Ae,ye,[$P]),z0(X,ye,null)}finally{bc()}return new NP(this.componentType,Ue,iu(et,ye),ye,et)}}class NP extends PR{constructor(o,c,u,h,g){super(),this.location=u,this._rootLView=h,this._tNode=g,this.instance=c,this.hostView=this.changeDetectorRef=new PP(h),this.componentType=o}setInput(o,c){const u=this._tNode.inputs;let h;if(null!==u&&(h=u[o])){const g=this._rootLView;X0(g[Je],g,h,o,c),hy(nr(this._tNode.index,g))}}get injector(){return new ps(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function $P(){const s=rr();Ic(pe()[Je],s)}function eE(s){let o=function zC(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),c=!0;const u=[s];for(;o;){let h;if(Ur(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new ge(903,!1);h=o.\u0275dir}if(h){if(c){u.push(h);const v=s;v.inputs=Ct(s.inputs),v.declaredInputs=Ct(s.declaredInputs),v.outputs=Ct(s.outputs);const I=h.hostBindings;I&&zm(s,I);const C=h.viewQuery,M=h.contentQueries;if(C&&_o(s,C),M&&qC(s,M),be(s.inputs,h.inputs),be(s.declaredInputs,h.declaredInputs),be(s.outputs,h.outputs),Ur(h)&&h.data.animation){const O=s.data;O.animation=(O.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let v=0;v<g.length;v++){const I=g[v];I&&I.ngInherit&&I(s),I===eE&&(c=!1)}}o=Object.getPrototypeOf(o)}!function GC(s){let o=0,c=null;for(let u=s.length-1;u>=0;u--){const h=s[u];h.hostVars=o+=h.hostVars,h.hostAttrs=eo(h.hostAttrs,c=eo(c,h.hostAttrs))}}(u)}function Ct(s){return s===te?{}:s===Ve?[]:s}function _o(s,o){const c=s.viewQuery;s.viewQuery=c?(u,h)=>{o(u,h),c(u,h)}:o}function qC(s,o){const c=s.contentQueries;s.contentQueries=c?(u,h,g)=>{o(u,h,g),c(u,h,g)}:o}function zm(s,o){const c=s.hostBindings;s.hostBindings=c?(u,h)=>{o(u,h),c(u,h)}:o}function Cf(s){return!!qa(s)&&(Array.isArray(s)||!(s instanceof Map)&&Symbol.iterator in s)}function qa(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function ri(s,o,c){return s[o]=c}function br(s,o,c){return!Object.is(s[o],c)&&(s[o]=c,!0)}function yy(s,o,c,u){const h=pe();return br(h,Ks(),o)&&(Bt(),za(xn(),h,s,o,c,u)),yy}function Lt(s,o,c,u){return br(s,Ks(),c)?o+ke(c)+u:Kt}function sE(s,o,c,u,h,g,v,I){const C=pe(),M=Bt(),O=s+En,L=M.firstCreatePass?function iE(s,o,c,u,h,g,v,I,C){const M=o.consts,O=Ki(o,s,4,v||null,As(M,I));Z0(o,c,O,As(M,C)),Ic(o,O);const L=O.tView=q0(2,O,u,h,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,M);return null!==o.queries&&(o.queries.template(o,O),L.queries=o.queries.embeddedTView(O)),O}(O,M,C,o,c,u,h,g,v):M.data[O];$r(L,!1);const $=C[zt].createComment("");Kl(M,C,$,L),ae($,C),dy(C,C[O]=LC($,C,$,L)),bl(L)&&G0(M,C,L),null!=v&&If(C,L,I)}function Iy(s){return Pr(function Jp(){return Ot.lFrame.contextLView}(),En+s)}function Td(s,o,c){const u=pe();return br(u,Ks(),o)&&ks(Bt(),xn(),u,s,o,u[zt],c,!1),Td}function ra(s,o,c,u,h){const v=h?"class":"style";X0(s,c,o.inputs[v],v,u)}function Qc(s,o,c,u){const h=pe(),g=Bt(),v=En+s,I=h[zt],C=g.firstCreatePass?function tn(s,o,c,u,h,g){const v=o.consts,C=Ki(o,s,2,u,As(v,h));return Z0(o,c,C,As(v,g)),null!==C.attrs&&fy(C,C.attrs,!1),null!==C.mergedAttrs&&fy(C,C.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,C),C}(v,g,h,o,c,u):g.data[v],M=h[v]=vm(I,o,function Zu(){return Ot.lFrame.currentNamespace}()),O=bl(C);return $r(C,!0),H_(I,M,C),32!=(32&C.flags)&&Kl(g,h,M,C),0===function ju(){return Ot.lFrame.elementDepthCount}()&&ae(M,h),function hc(){Ot.lFrame.elementDepthCount++}(),O&&(G0(g,h,C),wf(g,C,h)),null!==u&&If(h,C),Qc}function qm(){let s=rr();zu()?function mc(){Ot.lFrame.isParent=!1}():(s=s.parent,$r(s,!1));const o=s;!function $u(){Ot.lFrame.elementDepthCount--}();const c=Bt();return c.firstCreatePass&&(Ic(c,s),_a(s)&&c.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Sa(s){return 0!=(8&s.flags)}(o)&&ra(c,o,pe(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Qs(s){return 0!=(16&s.flags)}(o)&&ra(c,o,pe(),o.stylesWithoutHost,!1),qm}function Ka(s,o,c,u){return Qc(s,o,c,u),qm(),Ka}function xf(){return pe()}function cu(s){return!!s&&"function"==typeof s.then}function Dy(s){return!!s&&"function"==typeof s.subscribe}const Rf=Dy;function Cy(s,o,c,u){const h=pe(),g=Bt(),v=rr();return function Ty(s,o,c,u,h,g,v){const I=bl(u),M=s.firstCreatePass&&BC(s),O=o[Nn],L=VC(o);let $=!0;if(3&u.type||v){const Ue=mr(u,o),et=v?v(Ue):Ue,ne=L.length,ut=v?Ut=>v(pr(Ut[u.index])):u.index;let Ae=null;if(!v&&I&&(Ae=function Zm(s,o,c,u){const h=s.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const v=h[g];if(v===c&&h[g+1]===u){const I=o[rs],C=h[g+2];return I.length>C?I[C]:null}"string"==typeof v&&(g+=2)}return null}(s,o,h,u.index)),null!==Ae)(Ae.__ngLastListenerFn__||Ae).__ngNextListenerFn__=g,Ae.__ngLastListenerFn__=g,$=!1;else{g=cE(u,o,O,g,!1);const Ut=c.listen(et,h,g);L.push(g,Ut),M&&M.push(h,ut,ne,ne+1)}}else g=cE(u,o,O,g,!1);const X=u.outputs;let ye;if($&&null!==X&&(ye=X[h])){const Ue=ye.length;if(Ue)for(let et=0;et<Ue;et+=2){const je=o[ye[et]][ye[et+1]].subscribe(g),Xe=L.length;L.push(g,je),M&&M.push(h,u.index,Xe,-(Xe+1))}}}(g,h,h[zt],v,s,o,u),Cy}function Ay(s,o,c,u){try{return jr(6,o,c),!1!==c(u)}catch(h){return jC(s,h),!1}finally{jr(7,o,c)}}function cE(s,o,c,u,h){return function g(v){if(v===Function)return u;hy(s.componentOffset>-1?nr(s.index,o):o);let C=Ay(o,c,u,v),M=g.__ngNextListenerFn__;for(;M;)C=Ay(o,c,M,v)&&C,M=M.__ngNextListenerFn__;return h&&!1===C&&(v.preventDefault(),v.returnValue=!1),C}}function lE(s=1){return function Oh(s){return(Ot.lFrame.contextLView=function Ec(s,o){for(;s>0;)o=o[Gs],s--;return o}(s,Ot.lFrame.contextLView))[Nn]}(s)}function Sy(s,o,c){return My(s,"",o,"",c),Sy}function My(s,o,c,u,h){const g=pe(),v=Lt(g,o,c,u);return v!==Kt&&ks(Bt(),xn(),g,s,v,g[zt],h,!1),My}function Of(s,o){return s<<17|o<<2}function Ya(s){return s>>17&32767}function lu(s){return 2|s}function Fs(s){return(131068&s)>>2}function Jm(s,o){return-131069&s|o<<2}function Xm(s){return 1|s}function mE(s,o,c,u,h){const g=s[c+1],v=null===o;let I=u?Ya(g):Fs(g),C=!1;for(;0!==I&&(!1===C||v);){const O=s[I+1];xy(s[I],o)&&(C=!0,s[I+1]=u?Xm(O):lu(O)),I=u?Ya(O):Fs(O)}C&&(s[c+1]=u?lu(g):Xm(g))}function xy(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&ms(s,o)>=0}function ky(s,o){return function bo(s,o,c,u){const h=pe(),g=Bt(),v=function pi(s){const o=Ot.lFrame,c=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,c}(2);g.firstUpdatePass&&function Ny(s,o,c,u){const h=s.data;if(null===h[c+1]){const g=h[vr()],v=function bE(s,o){return o>=s.expandoStartIndex}(s,c);(function Uy(s,o){return 0!=(s.flags&(o?8:16))})(g,u)&&null===o&&!v&&(o=!1),o=function oT(s,o,c,u){const h=function Uo(s){const o=Ot.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let g=u?o.residualClasses:o.residualStyles;if(null===h)0===(u?o.classBindings:o.styleBindings)&&(c=Sd(c=Fy(null,s,o,c,u),o.attrs,u),g=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==h)if(c=Fy(h,s,o,c,u),null===g){let C=function aT(s,o,c){const u=c?o.classBindings:o.styleBindings;if(0!==Fs(u))return s[Ya(u)]}(s,o,u);void 0!==C&&Array.isArray(C)&&(C=Fy(null,s,o,C[1],u),C=Sd(C,o.attrs,u),function cT(s,o,c,u){s[Ya(c?o.classBindings:o.styleBindings)]=u}(s,o,u,C))}else g=function lT(s,o,c){let u;const h=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<h;g++)u=Sd(u,s[g].hostAttrs,c);return Sd(u,o.attrs,c)}(s,o,u)}return void 0!==g&&(u?o.residualClasses=g:o.residualStyles=g),c}(h,g,o,u),function nT(s,o,c,u,h,g){let v=g?o.classBindings:o.styleBindings,I=Ya(v),C=Fs(v);s[u]=c;let O,M=!1;if(Array.isArray(c)?(O=c[1],(null===O||ms(c,O)>0)&&(M=!0)):O=c,h)if(0!==C){const $=Ya(s[I+1]);s[u+1]=Of($,I),0!==$&&(s[$+1]=Jm(s[$+1],u)),s[I+1]=function kf(s,o){return 131071&s|o<<17}(s[I+1],u)}else s[u+1]=Of(I,0),0!==I&&(s[I+1]=Jm(s[I+1],u)),I=u;else s[u+1]=Of(C,0),0===I?I=u:s[C+1]=Jm(s[C+1],u),C=u;M&&(s[u+1]=lu(s[u+1])),mE(s,O,u,!0),mE(s,O,u,!1),function pE(s,o,c,u,h){const g=h?s.residualClasses:s.residualStyles;null!=g&&"string"==typeof o&&ms(g,o)>=0&&(c[u+1]=Xm(c[u+1]))}(o,O,s,u,g),v=Of(I,C),g?o.classBindings=v:o.styleBindings=v}(h,g,o,c,v,u)}}(g,s,v,u),o!==Kt&&br(h,v,o)&&function Vy(s,o,c,u,h,g,v,I){if(!(3&o.type))return;const C=s.data,M=C[I+1],O=function fE(s){return 1==(1&s)}(M)?By(C,o,c,h,Fs(M),v):void 0;ng(O)||(ng(g)||function tT(s){return 2==(2&s)}(M)&&(g=By(C,null,c,h,I,v)),function d0(s,o,c,u,h){if(o)h?s.addClass(c,u):s.removeClass(c,u);else{let g=-1===u.indexOf("-")?void 0:qi.DashCase;null==h?s.removeStyle(c,u,g):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),g|=qi.Important),s.setStyle(c,u,h,g))}}(u,v,cs(vr(),c),h,g))}(g,g.data[vr()],h,h[zt],s,h[v+1]=function el(s,o){return null==s||""===s||("string"==typeof o?s+=o:"object"==typeof s&&(s=Ie(ct(s)))),s}(o,c),u,v)}(s,o,null,!0),ky}function Fy(s,o,c,u,h){let g=null;const v=c.directiveEnd;let I=c.directiveStylingLast;for(-1===I?I=c.directiveStart:I++;I<v&&(g=o[I],u=Sd(u,g.hostAttrs,h),g!==s);)I++;return null!==s&&(c.directiveStylingLast=I),u}function Sd(s,o,c){const u=c?1:2;let h=-1;if(null!==o)for(let g=0;g<o.length;g++){const v=o[g];"number"==typeof v?h=v:h===u&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Hr(s,v,!!c||o[++g]))}return void 0===s?null:s}function By(s,o,c,u,h,g){const v=null===o;let I;for(;h>0;){const C=s[h],M=Array.isArray(C),O=M?C[1]:C,L=null===O;let $=c[h+1];$===Kt&&($=L?Ve:void 0);let X=L?ho($,u):O===u?$:void 0;if(M&&!ng(X)&&(X=ho(C,u)),ng(X)&&(I=X,v))return I;const ye=s[h+1];h=v?Ya(ye):Fs(ye)}if(null!==o){let C=g?o.residualClasses:o.residualStyles;null!=C&&(I=ho(C,u))}return I}function ng(s){return void 0!==s}function EE(s,o=""){const c=pe(),u=Bt(),h=s+En,g=u.firstCreatePass?Ki(u,h,1,o,null):u.data[h],v=c[h]=function ym(s,o){return s.createText(o)}(c[zt],o);Kl(u,c,v,g),$r(g,!1)}function xd(s){return Lf("",s,""),xd}function Lf(s,o,c){const u=pe(),h=Lt(u,s,o,c);return h!==Kt&&function Kc(s,o,c){const u=cs(o,s);!function O_(s,o,c){s.setValue(o,c)}(s[zt],u,c)}(u,vr(),h),Lf}const du=void 0;var Od=["en",[["a","p"],["AM","PM"],du],[["AM","PM"],du,du],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],du,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],du,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",du,"{1} 'at' {0}",du],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function fT(s){const c=Math.floor(Math.abs(s)),u=s.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===u?1:5}];let oa={};function Zy(s){const o=function pT(s){return s.toLowerCase().replace(/_/g,"-")}(s);let c=NE(o);if(c)return c;const u=o.split("-")[0];if(c=NE(u),c)return c;if("en"===u)return Od;throw new ge(701,!1)}function kd(s){return Zy(s)[xt.PluralCase]}function NE(s){return s in oa||(oa[s]=sn.ng&&sn.ng.common&&sn.ng.common.locales&&sn.ng.common.locales[s]),oa[s]}var xt=(()=>((xt=xt||{})[xt.LocaleId=0]="LocaleId",xt[xt.DayPeriodsFormat=1]="DayPeriodsFormat",xt[xt.DayPeriodsStandalone=2]="DayPeriodsStandalone",xt[xt.DaysFormat=3]="DaysFormat",xt[xt.DaysStandalone=4]="DaysStandalone",xt[xt.MonthsFormat=5]="MonthsFormat",xt[xt.MonthsStandalone=6]="MonthsStandalone",xt[xt.Eras=7]="Eras",xt[xt.FirstDayOfWeek=8]="FirstDayOfWeek",xt[xt.WeekendRange=9]="WeekendRange",xt[xt.DateFormat=10]="DateFormat",xt[xt.TimeFormat=11]="TimeFormat",xt[xt.DateTimeFormat=12]="DateTimeFormat",xt[xt.NumberSymbols=13]="NumberSymbols",xt[xt.NumberFormats=14]="NumberFormats",xt[xt.CurrencyCode=15]="CurrencyCode",xt[xt.CurrencySymbol=16]="CurrencySymbol",xt[xt.CurrencyName=17]="CurrencyName",xt[xt.Currencies=18]="Currencies",xt[xt.Directionality=19]="Directionality",xt[xt.PluralCase=20]="PluralCase",xt[xt.ExtraData=21]="ExtraData",xt))();const Uf="en-US";let FE=Uf;function iv(s,o,c,u,h){if(s=K(s),Array.isArray(s))for(let g=0;g<s.length;g++)iv(s[g],o,c,u,h);else{const g=Bt(),v=pe();let I=_d(s)?s:K(s.provide),C=aC(s);const M=rr(),O=1048575&M.providerIndexes,L=M.directiveStart,$=M.providerIndexes>>20;if(_d(s)||!s.multi){const X=new hs(C,h,bf),ye=Ri(I,o,h?O:O+$,L);-1===ye?(vn(Rl(M,v),g,I),zf(g,s,o.length),o.push(I),M.directiveStart++,M.directiveEnd++,h&&(M.providerIndexes+=1048576),c.push(X),v.push(X)):(c[ye]=X,v[ye]=X)}else{const X=Ri(I,o,O+$,L),ye=Ri(I,o,O,O+$),et=ye>=0&&c[ye];if(h&&!et||!h&&!(X>=0&&c[X])){vn(Rl(M,v),g,I);const ne=function aw(s,o,c,u,h){const g=new hs(s,c,bf);return g.multi=[],g.index=o,g.componentProviders=0,sv(g,h,u&&!c),g}(h?jd:HT,c.length,h,u,C);!h&&et&&(c[ye].providerFactory=ne),zf(g,s,o.length,0),o.push(I),M.directiveStart++,M.directiveEnd++,h&&(M.providerIndexes+=1048576),c.push(ne),v.push(ne)}else zf(g,s,X>-1?X:ye,sv(c[h?ye:X],C,!h&&u));!h&&u&&et&&c[ye].componentProviders++}}}function zf(s,o,c,u){const h=_d(o),g=function TR(s){return!!s.useClass}(o);if(h||g){const C=(g?K(o.useClass):o).prototype.ngOnDestroy;if(C){const M=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const O=M.indexOf(c);-1===O?M.push(c,[u,C]):M[O+1].push(u,C)}else M.push(c,C)}}}function sv(s,o,c){return c&&s.componentProviders++,s.multi.push(o)-1}function Ri(s,o,c,u){for(let h=c;h<u;h++)if(o[h]===s)return h;return-1}function HT(s,o,c,u){return ow(this.multi,[])}function jd(s,o,c,u){const h=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,I=$n(c,c[Je],this.providerFactory.index,u);g=I.slice(0,v),ow(h,g);for(let C=v;C<I.length;C++)g.push(I[C])}else g=[],ow(h,g);return g}function ow(s,o){for(let c=0;c<s.length;c++)o.push((0,s[c])());return o}function Ja(s,o=[]){return c=>{c.providersResolver=(u,h)=>function r1(s,o,c){const u=Bt();if(u.firstCreatePass){const h=Ur(s);iv(c,u.data,u.blueprint,h,!0),iv(o,u.data,u.blueprint,h,!1)}}(u,h?h(s):s,o)}}class tl{}class cw{}function s1(s,o){return new ov(s,o??null)}class ov extends tl{constructor(o,c){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new $C(this);const u=qn(o);this._bootstrapComponents=Ha(u.bootstrap),this._r3Injector=IC(o,c,[{provide:tl,useValue:this},{provide:yd,useValue:this.componentFactoryResolver}],Ie(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class vg extends cw{constructor(o){super(),this.moduleType=o}create(o){return new ov(this.moduleType,o)}}class av extends tl{constructor(o,c,u){super(),this.componentFactoryResolver=new $C(this),this.instance=null;const h=new oC([...o,{provide:tl,useValue:this},{provide:yd,useValue:this.componentFactoryResolver}],c||Fm(),u,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function cv(s,o,c=null){return new av(s,o,c).injector}let zT=(()=>{class s{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c.id)){const u=y0(0,c.type),h=u.length>0?cv([u],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c.id,h)}return this.cachedInjectors.get(c.id)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=Dt({token:s,providedIn:"environment",factory:()=>new s(cn(ru))}),s})();function lw(s){s.getStandaloneInjector=o=>o.get(zT).getOrCreateStandaloneInjector(s)}function mw(s,o,c){const u=Zn()+s,h=pe();return h[u]===Kt?ri(h,u,c?o.call(c):o()):function Tf(s,o){return s[o]}(h,u)}function XT(s,o,c,u){return nl(pe(),Zn(),s,o,c,u)}function lv(s,o,c,u,h){return function qf(s,o,c,u,h,g,v){const I=o+c;return function Wa(s,o,c,u){const h=br(s,o,c);return br(s,o+1,u)||h}(s,I,h,g)?ri(s,I+2,v?u.call(v,h,g):u(h,g)):ve(s,I+2)}(pe(),Zn(),s,o,c,u,h)}function ve(s,o){const c=s[o];return c===Kt?void 0:c}function nl(s,o,c,u,h,g){const v=o+c;return br(s,v,h)?ri(s,v+1,g?u.call(g,h):u(h)):ve(s,v+1)}function Ls(s,o){const c=Bt();let u;const h=s+En;c.firstCreatePass?(u=function nt(s,o){if(o)for(let c=o.length-1;c>=0;c--){const u=o[c];if(s===u.name)return u}}(o,c.pipeRegistry),c.data[h]=u,u.onDestroy&&(c.destroyHooks??(c.destroyHooks=[])).push(h,u.onDestroy)):u=c.data[h];const g=u.factory||(u.factory=Hi(u.type)),v=_r(bf);try{const I=Ma(!1),C=g();return Ma(I),function oE(s,o,c,u){c>=s.data.length&&(s.data[c]=null,s.blueprint[c]=null),o[c]=u}(c,pe(),h,C),C}finally{_r(v)}}function Ht(s,o,c){const u=s+En,h=pe(),g=Pr(h,u);return function Zf(s,o){return s[Je].data[o].pure}(h,u)?nl(h,Zn(),o,g.transform,c,g):g.transform(c)}function hv(s){return o=>{setTimeout(s,void 0,o)}}const Vn=class iA extends d.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,c,u){let h=o,g=c||(()=>null),v=u;if(o&&"object"==typeof o){const C=o;h=C.next?.bind(C),g=C.error?.bind(C),v=C.complete?.bind(C)}this.__isAsync&&(g=hv(g),h&&(h=hv(h)),v&&(v=hv(v)));const I=super.subscribe({next:h,error:g,complete:v});return o instanceof ee.w0&&o.add(I),I}};function wg(){return this._results[Symbol.iterator]()}class Er{get changes(){return this._changes||(this._changes=new Vn)}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=Er.prototype;c[Symbol.iterator]||(c[Symbol.iterator]=wg)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,c){return this._results.reduce(o,c)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,c){const u=this;u.dirty=!1;const h=function Ai(s){return s.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function Ll(s,o,c){if(s.length!==o.length)return!1;for(let u=0;u<s.length;u++){let h=s[u],g=o[u];if(c&&(h=c(h),g=c(g)),g!==h)return!1}return!0}(u._results,h,c))&&(u._results=h,u.length=h.length,u.last=h[this.length-1],u.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Vs=(()=>{class s{}return s.__NG_ELEMENT_ID__=fv,s})();const sA=Vs,yw=class extends sA{constructor(o,c,u){super(),this._declarationLView=o,this._declarationTContainer=c,this.elementRef=u}createEmbeddedView(o,c){const u=this._declarationTContainer.tView,h=Um(this._declarationLView,u,o,16,null,u.declTNode,null,null,null,null,c||null);h[Oo]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[$i];return null!==v&&(h[$i]=v.createEmbeddedView(u)),z0(u,h,o),new $m(h)}};function fv(){return Kf(rr(),pe())}function Kf(s,o){return 4&s.type?new yw(o,s,iu(s,o)):null}let Or=(()=>{class s{}return s.__NG_ELEMENT_ID__=oA,s})();function oA(){return vw(rr(),pe())}const Yf=Or,Qf=class extends Yf{constructor(o,c,u){super(),this._lContainer=o,this._hostTNode=c,this._hostLView=u}get element(){return iu(this._hostTNode,this._hostLView)}get injector(){return new ps(this._hostTNode,this._hostLView)}get parentInjector(){const o=Ju(this._hostTNode,this._hostLView);if(to(o)){const c=no(o,this._hostLView),u=Ss(o);return new ps(c[Je].data[u+8],c)}return new ps(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const c=Io(this._lContainer);return null!==c&&c[o]||null}get length(){return this._lContainer.length-fr}createEmbeddedView(o,c,u){let h,g;"number"==typeof u?h=u:null!=u&&(h=u.index,g=u.injector);const v=o.createEmbeddedView(c||{},g);return this.insert(v,h),v}createComponent(o,c,u,h,g){const v=o&&!function Oc(s){return"function"==typeof s}(o);let I;if(v)I=c;else{const L=c||{};I=L.index,u=L.injector,h=L.projectableNodes,g=L.environmentInjector||L.ngModuleRef}const C=v?o:new Hm(Et(o)),M=u||this.parentInjector;if(!g&&null==C.ngModule){const $=(v?M:this.parentInjector).get(ru,null);$&&(g=$)}const O=C.create(M,h,void 0,g);return this.insert(O.hostView,I),O}insert(o,c){const u=o._lView,h=u[Je];if(function Dl(s){return Jr(s[An])}(u)){const O=this.indexOf(o);if(-1!==O)this.detach(O);else{const L=u[An],$=new Qf(L,L[Wn],L[An]);$.detach($.indexOf(o))}}const g=this._adjustIndex(c),v=this._lContainer;!function jc(s,o,c,u){const h=fr+u,g=c.length;u>0&&(c[h-1][hi]=o),u<g-fr?(o[hi]=c[h],Hh(c,fr+u,o)):(c.push(o),o[hi]=null),o[An]=c;const v=o[Oo];null!==v&&c!==v&&function s0(s,o){const c=s[qs];o[jn]!==o[An][An][jn]&&(s[vl]=!0),null===c?s[qs]=[o]:c.push(o)}(v,o);const I=o[$i];null!==I&&I.insertView(s),o[Ft]|=64}(h,u,v,g);const I=Yl(g,v),C=u[zt],M=cf(C,v[No]);return null!==M&&function k_(s,o,c,u,h,g){u[di]=h,u[Wn]=o,pd(s,u,c,1,h,g)}(h,v[Wn],C,u,M,I),o.attachToViewContainerRef(),Hh(Jf(v),g,o),o}move(o,c){return this.insert(o,c)}indexOf(o){const c=Io(this._lContainer);return null!==c?c.indexOf(o):-1}remove(o){const c=this._adjustIndex(o,-1),u=hd(this._lContainer,c);u&&(uo(Jf(this._lContainer),c),F_(u[Je],u))}detach(o){const c=this._adjustIndex(o,-1),u=hd(this._lContainer,c);return u&&null!=uo(Jf(this._lContainer),c)?new $m(u):null}_adjustIndex(o,c=0){return o??this.length+c}};function Io(s){return s[Ds]}function Jf(s){return s[Ds]||(s[Ds]=[])}function vw(s,o){let c;const u=o[s.index];if(Jr(u))c=u;else{let h;if(8&s.type)h=pr(u);else{const g=o[zt];h=g.createComment("");const v=mr(s,o);$c(g,cf(g,v),h,function l0(s,o){return s.nextSibling(o)}(g,v),!1)}o[s.index]=c=LC(u,o,h,s),dy(o,c)}return new Qf(c,s,o)}class pv{constructor(o){this.queryList=o,this.matches=null}clone(){return new pv(this.queryList)}setDirty(){this.queryList.setDirty()}}class rl{constructor(o=[]){this.queries=o}createEmbeddedView(o){const c=o.queries;if(null!==c){const u=null!==o.contentQueries?o.contentQueries[0]:c.length,h=[];for(let g=0;g<u;g++){const v=c.getByIndex(g);h.push(this.queries[v.indexInDeclarationView].clone())}return new rl(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let c=0;c<this.queries.length;c++)null!==tp(o,c).matches&&this.queries[c].setDirty()}}class mv{constructor(o,c,u=null){this.predicate=o,this.flags=c,this.read=u}}class Xf{constructor(o=[]){this.queries=o}elementStart(o,c){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(o,c)}elementEnd(o){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(o)}embeddedTView(o){let c=null;for(let u=0;u<this.length;u++){const h=null!==c?c.length:0,g=this.getByIndex(u).embeddedTView(o,h);g&&(g.indexInDeclarationView=u,null!==c?c.push(g):c=[g])}return null!==c?new Xf(c):null}template(o,c){for(let u=0;u<this.queries.length;u++)this.queries[u].template(o,c)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Ig{constructor(o,c=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(o,c){this.isApplyingToNode(c)&&this.matchTNode(o,c)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,c){this.elementStart(o,c)}embeddedTView(o,c){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,c),new Ig(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let u=o.parent;for(;null!==u&&8&u.type&&u.index!==c;)u=u.parent;return c===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(o,c){const u=this.metadata.predicate;if(Array.isArray(u))for(let h=0;h<u.length;h++){const g=u[h];this.matchTNodeWithReadOption(o,c,aA(c,g)),this.matchTNodeWithReadOption(o,c,io(c,o,g,!1,!1))}else u===Vs?4&c.type&&this.matchTNodeWithReadOption(o,c,-1):this.matchTNodeWithReadOption(o,c,io(c,o,u,!1,!1))}matchTNodeWithReadOption(o,c,u){if(null!==u){const h=this.metadata.read;if(null!==h)if(h===yf||h===Or||h===Vs&&4&c.type)this.addMatch(c.index,-2);else{const g=io(c,o,h,!1,!1);null!==g&&this.addMatch(c.index,g)}else this.addMatch(c.index,u)}}addMatch(o,c){null===this.matches?this.matches=[o,c]:this.matches.push(o,c)}}function aA(s,o){const c=s.localNames;if(null!==c)for(let u=0;u<c.length;u+=2)if(c[u]===o)return c[u+1];return null}function gv(s,o,c,u){return-1===c?function bw(s,o){return 11&s.type?iu(s,o):4&s.type?Kf(s,o):null}(o,s):-2===c?function _v(s,o,c){return c===yf?iu(o,s):c===Vs?Kf(o,s):c===Or?vw(o,s):void 0}(s,o,u):$n(s,s[Je],c,o)}function Dg(s,o,c,u){const h=o[$i].queries[u];if(null===h.matches){const g=s.data,v=c.matches,I=[];for(let C=0;C<v.length;C+=2){const M=v[C];I.push(M<0?null:gv(o,g[M],v[C+1],c.metadata.read))}h.matches=I}return h.matches}function ep(s,o,c,u){const h=s.queries.getByIndex(c),g=h.matches;if(null!==g){const v=Dg(s,o,h,c);for(let I=0;I<g.length;I+=2){const C=g[I];if(C>0)u.push(v[I/2]);else{const M=g[I+1],O=o[-C];for(let L=fr;L<O.length;L++){const $=O[L];$[Oo]===$[An]&&ep($[Je],$,M,u)}if(null!==O[qs]){const L=O[qs];for(let $=0;$<L.length;$++){const X=L[$];ep(X[Je],X,M,u)}}}}}return u}function Cg(s){const o=pe(),c=Bt(),u=Cl();_c(u+1);const h=tp(c,u);if(s.dirty&&function dc(s){return 4==(4&s[Ft])}(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const g=h.crossesNgTemplate?ep(c,o,u,[]):Dg(c,o,h,u);s.reset(g,kR),s.notifyOnChanges()}return!0}return!1}function ww(s,o,c,u){const h=Bt();if(h.firstCreatePass){const g=rr();(function Iw(s,o,c){null===s.queries&&(s.queries=new Xf),s.queries.track(new Ig(o,c))})(h,new mv(o,c,u),g.index),function lA(s,o){const c=s.contentQueries||(s.contentQueries=[]);o!==(c.length?c[c.length-1]:-1)&&c.push(s.queries.length-1,o)}(h,s),2==(2&c)&&(h.staticContentQueries=!0)}!function Hd(s,o,c){const u=new Er(4==(4&c));PC(s,o,u,u.destroy),null===o[$i]&&(o[$i]=new rl),o[$i].queries.push(new pv(u))}(h,pe(),c)}function $d(){return function cA(s,o){return s[$i].queries[o].queryList}(pe(),Cl())}function tp(s,o){return s.queries.getByIndex(o)}function np(s){return!!qn(s)}function gu(...s){}const kg=new en("Application Initializer");let cp=(()=>{class s{constructor(c){this.appInits=c,this.resolve=gu,this.reject=gu,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,h)=>{this.resolve=u,this.reject=h})}runInitializers(){if(this.initialized)return;const c=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(cu(g))c.push(g);else if(Rf(g)){const v=new Promise((I,C)=>{g.subscribe({complete:I,error:C})});c.push(v)}}Promise.all(c).then(()=>{u()}).catch(h=>{this.reject(h)}),0===c.length&&u(),this.initialized=!0}}return s.\u0275fac=function(c){return new(c||s)(cn(kg,8))},s.\u0275prov=Dt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Pv=new en("AppId",{providedIn:"root",factory:function Wd(){return`${lp()}${lp()}${lp()}`}});function lp(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ng=new en("Platform Initializer"),Fg=new en("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Lw=new en("AnimationModuleType");let bA=(()=>{class s{log(c){console.log(c)}warn(c){console.warn(c)}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=Dt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const _u=new en("LocaleId",{providedIn:"root",factory:()=>kn(_u,bt.Optional|bt.SkipSelf)||function Ov(){return typeof $localize<"u"&&$localize.locale||Uf}()}),kv=new en("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class DA{constructor(o,c){this.ngModuleFactory=o,this.componentFactories=c}}let up=(()=>{class s{compileModuleSync(c){return new vg(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const u=this.compileModuleSync(c),g=Ha(qn(c).declarations).reduce((v,I)=>{const C=Et(I);return C&&v.push(new Hm(C)),v},[]);return new DA(u,g)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=Dt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Bw=(()=>Promise.resolve(0))();function Bg(s){typeof Zone>"u"?Bw.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Ir{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Vn(!1),this.onMicrotaskEmpty=new Vn(!1),this.onStable=new Vn(!1),this.onError=new Vn(!1),typeof Zone>"u")throw new ge(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!u&&c,h.shouldCoalesceRunChangeDetection=u,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function CA(){let s=sn.requestAnimationFrame,o=sn.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c);const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function Bn(s){const o=()=>{!function Uw(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(sn,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Yd(s),s.isCheckStableRunning=!0,Kd(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Yd(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,u,h,g,v,I)=>{try{return Qd(s),c.invokeTask(h,g,v,I)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||s.shouldCoalesceRunChangeDetection)&&o(),Jd(s)}},onInvoke:(c,u,h,g,v,I,C)=>{try{return Qd(s),c.invoke(h,g,v,I,C)}finally{s.shouldCoalesceRunChangeDetection&&o(),Jd(s)}},onHasTask:(c,u,h,g)=>{c.hasTask(h,g),u===h&&("microTask"==g.change?(s._hasPendingMicrotasks=g.microTask,Yd(s),Kd(s)):"macroTask"==g.change&&(s.hasPendingMacrotasks=g.macroTask))},onHandleError:(c,u,h,g)=>(c.handleError(h,g),s.runOutsideAngular(()=>s.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ir.isInAngularZone())throw new ge(909,!1)}static assertNotInAngularZone(){if(Ir.isInAngularZone())throw new ge(909,!1)}run(o,c,u){return this._inner.run(o,c,u)}runTask(o,c,u,h){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+h,o,Ug,gu,gu);try{return g.runTask(v,c,u)}finally{g.cancelTask(v)}}runGuarded(o,c,u){return this._inner.runGuarded(o,c,u)}runOutsideAngular(o){return this._outer.run(o)}}const Ug={};function Kd(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Yd(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function Qd(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function Jd(s){s._nesting--,Kd(s)}class TA{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Vn,this.onMicrotaskEmpty=new Vn,this.onStable=new Vn,this.onError=new Vn}run(o,c,u){return o.apply(c,u)}runGuarded(o,c,u){return o.apply(c,u)}runOutsideAngular(o){return o()}runTask(o,c,u,h){return o.apply(c,u)}}const Fv=new en(""),jw=new en("");let yu,AA=(()=>{class s{constructor(c,u,h){this._ngZone=c,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,yu||(function SA(s){yu=s}(h),h.addToWindow(u)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ir.assertNotInAngularZone(),Bg(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Bg(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(c)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,u,h){let g=-1;u&&u>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),c(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:c,timeoutId:g,updateCb:h})}whenStable(c,u,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,u,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,u,h){return[]}}return s.\u0275fac=function(c){return new(c||s)(cn(Ir),cn($w),cn(jw))},s.\u0275prov=Dt({token:s,factory:s.\u0275fac}),s})(),$w=(()=>{class s{constructor(){this._applications=new Map}registerApplication(c,u){this._applications.set(c,u)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,u=!0){return yu?.findTestabilityInTree(this,c,u)??null}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=Dt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const vi=!1;let ec=null;const Lv=new en("AllowMultipleToken"),jg=new en("PlatformDestroyListeners"),vu=new en("appBootstrapListener");class xA{constructor(o,c){this.name=o,this.token=c}}function Vv(s,o,c=[]){const u=`Platform: ${o}`,h=new en(u);return(g=[])=>{let v=Bv();if(!v||v.injector.get(Lv,!1)){const I=[...c,...g,{provide:h,useValue:!0}];s?s(I):function zw(s){if(ec&&!ec.get(Lv,!1))throw new ge(400,!1);ec=s;const o=s.get(Kw);(function $g(s){const o=s.get(Ng,null);o&&o.forEach(c=>c())})(s)}(function Zw(s=[],o){return Ed.create({name:o,providers:[{provide:w0,useValue:"platform"},{provide:jg,useValue:new Set([()=>ec=null])},...s]})}(I,u))}return function Ww(s){const o=Bv();if(!o)throw new ge(401,!1);return o}()}}function Bv(){return ec?.get(Kw)??null}let Kw=(()=>{class s{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,u){const h=function Xd(s,o){let c;return c="noop"===s?new TA:("zone.js"===s?void 0:s)||new Ir(o),c}(u?.ngZone,function hp(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(u)),g=[{provide:Ir,useValue:h}];return h.run(()=>{const v=Ed.create({providers:g,parent:this.injector,name:c.moduleType.name}),I=c.create(v),C=I.injector.get(Vm,null);if(!C)throw new ge(402,!1);return h.runOutsideAngular(()=>{const M=h.onError.subscribe({next:O=>{C.handleError(O)}});I.onDestroy(()=>{ol(this._modules,I),M.unsubscribe()})}),function fp(s,o,c){try{const u=c();return cu(u)?u.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):u}catch(u){throw o.runOutsideAngular(()=>s.handleError(u)),u}}(C,h,()=>{const M=I.injector.get(cp);return M.runInitializers(),M.donePromise.then(()=>(function LE(s){Be(s,"Expected localeId to be defined"),"string"==typeof s&&(FE=s.toLowerCase().replace(/_/g,"-"))}(I.injector.get(_u,Uf)||Uf),this._moduleDoBootstrap(I),I))})})}bootstrapModule(c,u=[]){const h=Hg({},u);return function MA(s,o,c){const u=new vg(c);return Promise.resolve(u)}(0,0,c).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(c){const u=c.injector.get(pp);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(h=>u.bootstrap(h));else{if(!c.instance.ngDoBootstrap)throw new ge(-403,!1);c.instance.ngDoBootstrap(u)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ge(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const c=this._injector.get(jg,null);c&&(c.forEach(u=>u()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(c){return new(c||s)(cn(Ed))},s.\u0275prov=Dt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function Hg(s,o){return Array.isArray(o)?o.reduce(Hg,s):{...s,...o}}let pp=(()=>{class s{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(c,u,h){this._zone=c,this._injector=u,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new N.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),v=new N.y(I=>{let C;this._zone.runOutsideAngular(()=>{C=this._zone.onStable.subscribe(()=>{Ir.assertNotInAngularZone(),Bg(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const M=this._zone.onUnstable.subscribe(()=>{Ir.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{C.unsubscribe(),M.unsubscribe()}});this.isStable=(0,le.T)(g,v.pipe((0,ue.B)()))}bootstrap(c,u){const h=c instanceof lC;if(!this._injector.get(cp).done){!h&&hr(c);throw new ge(405,vi)}let v;v=h?c:this._injector.get(yd).resolveComponentFactory(c),this.componentTypes.push(v.componentType);const I=function Hw(s){return s.isBoundToModule}(v)?void 0:this._injector.get(tl),M=v.create(Ed.NULL,[],u||v.selector,I),O=M.location.nativeElement,L=M.injector.get(Fv,null);return L?.registerApplication(O),M.onDestroy(()=>{this.detachView(M.hostView),ol(this.components,M),L?.unregisterApplication(O)}),this._loadComponent(M),M}tick(){if(this._runningTick)throw new ge(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const u=c;this._views.push(u),u.attachToAppRef(this)}detachView(c){const u=c;ol(this._views,u),u.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c);const u=this._injector.get(vu,[]);u.push(...this._bootstrapListeners),u.forEach(h=>h(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>ol(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new ge(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(c){return new(c||s)(cn(Ir),cn(ru),cn(Vm))},s.\u0275prov=Dt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function ol(s,o){const c=s.indexOf(o);c>-1&&s.splice(c,1)}function ar(){return!1}let Qw=(()=>{class s{}return s.__NG_ELEMENT_ID__=Jw,s})();function Jw(s){return function Xw(s,o,c){if(Fo(s)&&!c){const u=nr(s.index,o);return new $m(u,u)}return 47&s.type?new $m(o[jn],o):null}(rr(),pe(),16==(16&s))}class zv{constructor(){}supports(o){return Cf(o)}create(o){return new Eu(o)}}const sI=(s,o)=>o;class Eu{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||sI}forEachItem(o){let c;for(c=this._itHead;null!==c;c=c._next)o(c)}forEachOperation(o){let c=this._itHead,u=this._removalsHead,h=0,g=null;for(;c||u;){const v=!u||c&&c.currentIndex<qv(u,h,g)?c:u,I=qv(v,h,g),C=v.currentIndex;if(v===u)h--,u=u._nextRemoved;else if(c=c._next,null==v.previousIndex)h++;else{g||(g=[]);const M=I-h,O=C-h;if(M!=O){for(let $=0;$<M;$++){const X=$<g.length?g[$]:g[$]=0,ye=X+$;O<=ye&&ye<M&&(g[$]=X+1)}g[v.previousIndex]=O-M}}I!==C&&o(v,I,C)}}forEachPreviousItem(o){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)o(c)}forEachAddedItem(o){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)o(c)}forEachMovedItem(o){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)o(c)}forEachRemovedItem(o){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)o(c)}forEachIdentityChange(o){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)o(c)}diff(o){if(null==o&&(o=[]),!Cf(o))throw new ge(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,g,v,c=this._itHead,u=!1;if(Array.isArray(o)){this.length=o.length;for(let I=0;I<this.length;I++)g=o[I],v=this._trackByFn(I,g),null!==c&&Object.is(c.trackById,v)?(u&&(c=this._verifyReinsertion(c,g,v,I)),Object.is(c.item,g)||this._addIdentityChange(c,g)):(c=this._mismatch(c,g,v,I),u=!0),c=c._next}else h=0,function Ga(s,o){if(Array.isArray(s))for(let c=0;c<s.length;c++)o(s[c]);else{const c=s[Symbol.iterator]();let u;for(;!(u=c.next()).done;)o(u.value)}}(o,I=>{v=this._trackByFn(h,I),null!==c&&Object.is(c.trackById,v)?(u&&(c=this._verifyReinsertion(c,I,v,h)),Object.is(c.item,I)||this._addIdentityChange(c,I)):(c=this._mismatch(c,I,v,h),u=!0),c=c._next,h++}),this.length=h;return this._truncate(c),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,c,u,h){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(o.item,c)||this._addIdentityChange(o,c),this._reinsertAfter(o,g,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(u,h))?(Object.is(o.item,c)||this._addIdentityChange(o,c),this._moveAfter(o,g,h)):o=this._addAfter(new oI(c,u),g,h),o}_verifyReinsertion(o,c,u,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==g?o=this._reinsertAfter(g,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const c=o._next;this._addToRemovals(this._unlink(o)),o=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,c,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,g=o._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(o,c,u),this._addToMoves(o,u),o}_moveAfter(o,c,u){return this._unlink(o),this._insertAfter(o,c,u),this._addToMoves(o,u),o}_addAfter(o,c,u){return this._insertAfter(o,c,u),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,c,u){const h=null===c?this._itHead:c._next;return o._next=h,o._prev=c,null===h?this._itTail=o:h._prev=o,null===c?this._itHead=o:c._next=o,null===this._linkedRecords&&(this._linkedRecords=new Gv),this._linkedRecords.put(o),o.currentIndex=u,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const c=o._prev,u=o._next;return null===c?this._itHead=u:c._next=u,null===u?this._itTail=c:u._prev=c,o}_addToMoves(o,c){return o.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Gv),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,c){return o.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class oI{constructor(o,c){this.item=o,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class aI{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,c){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===c||c<=u.currentIndex)&&Object.is(u.trackById,o))return u;return null}remove(o){const c=o._prevDup,u=o._nextDup;return null===c?this._head=u:c._nextDup=u,null===u?this._tail=c:u._prevDup=c,null===this._head}}class Gv{constructor(){this.map=new Map}put(o){const c=o.trackById;let u=this.map.get(c);u||(u=new aI,this.map.set(c,u)),u.add(o)}get(o,c){const h=this.map.get(o);return h?h.get(o,c):null}remove(o){const c=o.trackById;return this.map.get(c).remove(o)&&this.map.delete(c),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function qv(s,o,c){const u=s.previousIndex;if(null===u)return u;let h=0;return c&&u<c.length&&(h=c[u]),u+o+h}class _p{constructor(){}supports(o){return o instanceof Map||qa(o)}create(){return new ys}}class ys{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let c;for(c=this._mapHead;null!==c;c=c._next)o(c)}forEachPreviousItem(o){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)o(c)}forEachChangedItem(o){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)o(c)}forEachAddedItem(o){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)o(c)}forEachRemovedItem(o){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)o(c)}diff(o){if(o){if(!(o instanceof Map||qa(o)))throw new ge(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(o,(u,h)=>{if(c&&c.key===h)this._maybeAddToChanges(c,u),this._appendAfter=c,c=c._next;else{const g=this._getOrCreateRecordForKey(h,u);c=this._insertBeforeOrAppend(c,g)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let u=c;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,c){if(o){const u=o._prev;return c._next=o,c._prev=u,o._prev=c,u&&(u._next=c),o===this._mapHead&&(this._mapHead=c),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(o,c){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,c);const g=h._prev,v=h._next;return g&&(g._next=v),v&&(v._prev=g),h._next=null,h._prev=null,h}const u=new cI(o);return this._records.set(o,u),u.currentValue=c,this._addToAdditions(u),u}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,c){Object.is(c,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=c,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,c){o instanceof Map?o.forEach(c):Object.keys(o).forEach(u=>c(o[u],u))}}class cI{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Wv(){return new al([new zv])}let al=(()=>{class s{constructor(c){this.factories=c}static create(c,u){if(null!=u){const h=u.factories.slice();c=c.concat(h)}return new s(c)}static extend(c){return{provide:s,useFactory:u=>s.create(c,u||Wv()),deps:[[s,new Ul,new fo]]}}find(c){const u=this.factories.find(h=>h.supports(c));if(null!=u)return u;throw new ge(901,!1)}}return s.\u0275prov=Dt({token:s,providedIn:"root",factory:Wv}),s})();function Bs(){return new yp([new _p])}let yp=(()=>{class s{constructor(c){this.factories=c}static create(c,u){if(u){const h=u.factories.slice();c=c.concat(h)}return new s(c)}static extend(c){return{provide:s,useFactory:u=>s.create(c,u||Bs()),deps:[[s,new Ul,new fo]]}}find(c){const u=this.factories.find(h=>h.supports(c));if(u)return u;throw new ge(901,!1)}}return s.\u0275prov=Dt({token:s,providedIn:"root",factory:Bs}),s})();const uI=Vv(null,"core",[]);let Zv=(()=>{class s{constructor(c){}}return s.\u0275fac=function(c){return new(c||s)(cn(pp))},s.\u0275mod=re({type:s}),s.\u0275inj=Jt({}),s})();function rh(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(wt,Me,F)=>{F.d(Me,{Z:()=>Ye});var d=F(2090),ee=F(4859),N=F(6881),le=F(1877);class ue{constructor(ge,Oe){this._delegate=ge,this.firebase=Oe,(0,N._addComponent)(ge,new ee.wA("app-compat",()=>this,"PUBLIC")),this.container=ge.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ge){this._delegate.automaticDataCollectionEnabled=ge}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ge=>{this._delegate.checkDestroyed(),ge()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,N.deleteApp)(this._delegate)))}_getService(ge,Oe=N._DEFAULT_ENTRY_NAME){var ke;this._delegate.checkDestroyed();const $e=this._delegate.container.getProvider(ge);return!$e.isInitialized()&&"EXPLICIT"===(null===(ke=$e.getComponent())||void 0===ke?void 0:ke.instantiationMode)&&$e.initialize(),$e.getImmediate({identifier:Oe})}_removeServiceInstance(ge,Oe=N._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ge).clearInstance(Oe)}_addComponent(ge){(0,N._addComponent)(this._delegate,ge)}_addOrOverwriteComponent(ge){(0,N._addOrOverwriteComponent)(this._delegate,ge)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const be=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),z=function me(){const pt=function Ie(pt){const ge={},Oe={__esModule:!0,initializeApp:function Ne(Le,dt={}){const oe=N.initializeApp(Le,dt);if((0,d.r3)(ge,oe.name))return ge[oe.name];const St=new pt(oe,Oe);return ge[oe.name]=St,St},app:$e,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function Ce(Le){const dt=Le.name,oe=dt.replace("-compat","");if(N._registerComponent(Le)&&"PUBLIC"===Le.type){const St=(st=$e())=>{if("function"!=typeof st[oe])throw be.create("invalid-app-argument",{appName:dt});return st[oe]()};void 0!==Le.serviceProps&&(0,d.ZB)(St,Le.serviceProps),Oe[oe]=St,pt.prototype[oe]=function(...st){return this._getService.bind(this,dt).apply(this,Le.multipleInstances?st:[])}}return"PUBLIC"===Le.type?Oe[oe]:null},removeApp:function ke(Le){delete ge[Le]},useAsService:function Ge(Le,dt){return"serverAuth"===dt?null:dt},modularAPIs:N}};function $e(Le){if(!(0,d.r3)(ge,Le=Le||N._DEFAULT_ENTRY_NAME))throw be.create("no-app",{appName:Le});return ge[Le]}return Oe.default=Oe,Object.defineProperty(Oe,"apps",{get:function De(){return Object.keys(ge).map(Le=>ge[Le])}}),$e.App=pt,Oe}(ue);return pt.INTERNAL=Object.assign(Object.assign({},pt.INTERNAL),{createFirebaseNamespace:me,extendNamespace:function ge(Oe){(0,d.ZB)(pt,Oe)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),pt}(),H=new le.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){H.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const pt=self.firebase.SDK_VERSION;pt&&pt.indexOf("LITE")>=0&&H.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ye=z;!function Se(pt){(0,N.registerVersion)("@firebase/app-compat","0.2.13",pt)}()},6881:(wt,Me,F)=>{F.r(Me),F.d(Me,{FirebaseError:()=>le.ZR,SDK_VERSION:()=>Is,_DEFAULT_ENTRY_NAME:()=>Lr,_addComponent:()=>ht,_addOrOverwriteComponent:()=>Pt,_apps:()=>sn,_clearComponents:()=>Vr,_components:()=>an,_getProvider:()=>Zr,_registerComponent:()=>li,_removeServiceInstance:()=>dr,deleteApp:()=>ui,getApp:()=>Bi,getApps:()=>cn,initializeApp:()=>Xt,onLog:()=>Ii,registerVersion:()=>Gn,setLogLevel:()=>Tn});var d=F(5861),ee=F(4859),N=F(1877),le=F(2090);const ue=(he,re)=>re.some(Fe=>he instanceof Fe);let ie,be;const z=new WeakMap,H=new WeakMap,K=new WeakMap,He=new WeakMap,Se=new WeakMap;let ge={get(he,re,Fe){if(he instanceof IDBTransaction){if("done"===re)return H.get(he);if("objectStoreNames"===re)return he.objectStoreNames||K.get(he);if("store"===re)return Fe.objectStoreNames[1]?void 0:Fe.objectStore(Fe.objectStoreNames[0])}return Ne(he[re])},set:(he,re,Fe)=>(he[re]=Fe,!0),has:(he,re)=>he instanceof IDBTransaction&&("done"===re||"store"===re)||re in he};function $e(he){return"function"==typeof he?function ke(he){return he!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function me(){return be||(be=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(he)?function(...re){return he.apply(De(this),re),Ne(z.get(this))}:function(...re){return Ne(he.apply(De(this),re))}:function(re,...Fe){const vt=he.call(De(this),re,...Fe);return K.set(vt,re.sort?re.sort():[re]),Ne(vt)}}(he):(he instanceof IDBTransaction&&function pt(he){if(H.has(he))return;const re=new Promise((Fe,vt)=>{const At=()=>{he.removeEventListener("complete",Gt),he.removeEventListener("error",Et),he.removeEventListener("abort",Et)},Gt=()=>{Fe(),At()},Et=()=>{vt(he.error||new DOMException("AbortError","AbortError")),At()};he.addEventListener("complete",Gt),he.addEventListener("error",Et),he.addEventListener("abort",Et)});H.set(he,re)}(he),ue(he,function Ie(){return ie||(ie=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(he,ge):he)}function Ne(he){if(he instanceof IDBRequest)return function Ye(he){const re=new Promise((Fe,vt)=>{const At=()=>{he.removeEventListener("success",Gt),he.removeEventListener("error",Et)},Gt=()=>{Fe(Ne(he.result)),At()},Et=()=>{vt(he.error),At()};he.addEventListener("success",Gt),he.addEventListener("error",Et)});return re.then(Fe=>{Fe instanceof IDBCursor&&z.set(Fe,he)}).catch(()=>{}),Se.set(re,he),re}(he);if(He.has(he))return He.get(he);const re=$e(he);return re!==he&&(He.set(he,re),Se.set(re,he)),re}const De=he=>Se.get(he),Le=["get","getKey","getAll","getAllKeys","count"],dt=["put","add","delete","clear"],oe=new Map;function St(he,re){if(!(he instanceof IDBDatabase)||re in he||"string"!=typeof re)return;if(oe.get(re))return oe.get(re);const Fe=re.replace(/FromIndex$/,""),vt=re!==Fe,At=dt.includes(Fe);if(!(Fe in(vt?IDBIndex:IDBObjectStore).prototype)||!At&&!Le.includes(Fe))return;const Gt=function(){var Et=(0,d.Z)(function*(on,...rn){const hr=this.transaction(on,At?"readwrite":"readonly");let qn=hr.store;return vt&&(qn=qn.index(rn.shift())),(yield Promise.all([qn[Fe](...rn),At&&hr.done]))[0]});return function(rn){return Et.apply(this,arguments)}}();return oe.set(re,Gt),Gt}!function Oe(he){ge=he(ge)}(he=>({...he,get:(re,Fe,vt)=>St(re,Fe)||he.get(re,Fe,vt),has:(re,Fe)=>!!St(re,Fe)||he.has(re,Fe)}));class st{constructor(re){this.container=re}getPlatformInfoString(){return this.container.getProviders().map(Fe=>{if(function Zt(he){return"VERSION"===he.getComponent()?.type}(Fe)){const vt=Fe.getImmediate();return`${vt.library}/${vt.version}`}return null}).filter(Fe=>Fe).join(" ")}}const ft="@firebase/app",fe=new N.Yd("@firebase/app"),Lr="[DEFAULT]",Vi={[ft]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},sn=new Map,an=new Map;function ht(he,re){try{he.container.addComponent(re)}catch(Fe){fe.debug(`Component ${re.name} failed to register with FirebaseApp ${he.name}`,Fe)}}function Pt(he,re){he.container.addOrOverwriteComponent(re)}function li(he){const re=he.name;if(an.has(re))return fe.debug(`There were multiple attempts to register component ${re}.`),!1;an.set(re,he);for(const Fe of sn.values())ht(Fe,he);return!0}function Zr(he,re){const Fe=he.container.getProvider("heartbeat").getImmediate({optional:!0});return Fe&&Fe.triggerHeartbeat(),he.container.getProvider(re)}function dr(he,re,Fe=Lr){Zr(he,re).clearInstance(Fe)}function Vr(){an.clear()}const Kr=new le.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class yn{constructor(re,Fe,vt){this._isDeleted=!1,this._options=Object.assign({},re),this._config=Object.assign({},Fe),this._name=Fe.name,this._automaticDataCollectionEnabled=Fe.automaticDataCollectionEnabled,this._container=vt,this.container.addComponent(new ee.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(re){this.checkDestroyed(),this._automaticDataCollectionEnabled=re}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(re){this._isDeleted=re}checkDestroyed(){if(this.isDeleted)throw Kr.create("app-deleted",{appName:this._name})}}const Is="9.23.0";function Xt(he,re={}){let Fe=he;"object"!=typeof re&&(re={name:re});const vt=Object.assign({name:Lr,automaticDataCollectionEnabled:!1},re),At=vt.name;if("string"!=typeof At||!At)throw Kr.create("bad-app-name",{appName:String(At)});if(Fe||(Fe=(0,le.aH)()),!Fe)throw Kr.create("no-options");const Gt=sn.get(At);if(Gt){if((0,le.vZ)(Fe,Gt.options)&&(0,le.vZ)(vt,Gt.config))return Gt;throw Kr.create("duplicate-app",{appName:At})}const Et=new ee.H0(At);for(const rn of an.values())Et.addComponent(rn);const on=new yn(Fe,vt,Et);return sn.set(At,on),on}function Bi(he=Lr){const re=sn.get(he);if(!re&&he===Lr&&(0,le.aH)())return Xt();if(!re)throw Kr.create("no-app",{appName:he});return re}function cn(){return Array.from(sn.values())}function ui(he){return kn.apply(this,arguments)}function kn(){return(kn=(0,d.Z)(function*(he){const re=he.name;sn.has(re)&&(sn.delete(re),yield Promise.all(he.container.getProviders().map(Fe=>Fe.delete())),he.isDeleted=!0)})).apply(this,arguments)}function Gn(he,re,Fe){var vt;let At=null!==(vt=Vi[he])&&void 0!==vt?vt:he;Fe&&(At+=`-${Fe}`);const Gt=At.match(/\s|\//),Et=re.match(/\s|\//);if(Gt||Et){const on=[`Unable to register library "${At}" with version "${re}":`];return Gt&&on.push(`library name "${At}" contains illegal characters (whitespace or "/")`),Gt&&Et&&on.push("and"),Et&&on.push(`version name "${re}" contains illegal characters (whitespace or "/")`),void fe.warn(on.join(" "))}li(new ee.wA(`${At}-version`,()=>({library:At,version:re}),"VERSION"))}function Ii(he,re){if(null!==he&&"function"!=typeof he)throw Kr.create("invalid-log-argument");(0,N.Am)(he,re)}function Tn(he){(0,N.Ub)(he)}const Di="firebase-heartbeat-database",Br=1,U="firebase-heartbeat-store";let V=null;function W(){return V||(V=function Ce(he,re,{blocked:Fe,upgrade:vt,blocking:At,terminated:Gt}={}){const Et=indexedDB.open(he,re),on=Ne(Et);return vt&&Et.addEventListener("upgradeneeded",rn=>{vt(Ne(Et.result),rn.oldVersion,rn.newVersion,Ne(Et.transaction),rn)}),Fe&&Et.addEventListener("blocked",rn=>Fe(rn.oldVersion,rn.newVersion,rn)),on.then(rn=>{Gt&&rn.addEventListener("close",()=>Gt()),At&&rn.addEventListener("versionchange",hr=>At(hr.oldVersion,hr.newVersion,hr))}).catch(()=>{}),on}(Di,Br,{upgrade:(he,re)=>{0===re&&he.createObjectStore(U)}}).catch(he=>{throw Kr.create("idb-open",{originalErrorMessage:he.message})})),V}function te(){return(te=(0,d.Z)(function*(he){try{return yield(yield W()).transaction(U).objectStore(U).get(nn(he))}catch(re){if(re instanceof le.ZR)fe.warn(re.message);else{const Fe=Kr.create("idb-get",{originalErrorMessage:re?.message});fe.warn(Fe.message)}}})).apply(this,arguments)}function Ve(he,re){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,d.Z)(function*(he,re){try{const vt=(yield W()).transaction(U,"readwrite");yield vt.objectStore(U).put(re,nn(he)),yield vt.done}catch(Fe){if(Fe instanceof le.ZR)fe.warn(Fe.message);else{const vt=Kr.create("idb-set",{originalErrorMessage:Fe?.message});fe.warn(vt.message)}}})).apply(this,arguments)}function nn(he){return`${he.name}!${he.options.appId}`}class dn{constructor(re){this.container=re,this._heartbeatsCache=null;const Fe=this.container.getProvider("app").getImmediate();this._storage=new Ci(Fe),this._heartbeatsCachePromise=this._storage.read().then(vt=>(this._heartbeatsCache=vt,vt))}triggerHeartbeat(){var re=this;return(0,d.Z)(function*(){const vt=re.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),At=Yt();if(null===re._heartbeatsCache&&(re._heartbeatsCache=yield re._heartbeatsCachePromise),re._heartbeatsCache.lastSentHeartbeatDate!==At&&!re._heartbeatsCache.heartbeats.some(Gt=>Gt.date===At))return re._heartbeatsCache.heartbeats.push({date:At,agent:vt}),re._heartbeatsCache.heartbeats=re._heartbeatsCache.heartbeats.filter(Gt=>{const Et=new Date(Gt.date).valueOf();return Date.now()-Et<=2592e6}),re._storage.overwrite(re._heartbeatsCache)})()}getHeartbeatsHeader(){var re=this;return(0,d.Z)(function*(){if(null===re._heartbeatsCache&&(yield re._heartbeatsCachePromise),null===re._heartbeatsCache||0===re._heartbeatsCache.heartbeats.length)return"";const Fe=Yt(),{heartbeatsToSend:vt,unsentEntries:At}=function xr(he,re=1024){const Fe=[];let vt=he.slice();for(const At of he){const Gt=Fe.find(Et=>Et.agent===At.agent);if(Gt){if(Gt.dates.push(At.date),Ui(Fe)>re){Gt.dates.pop();break}}else if(Fe.push({agent:At.agent,dates:[At.date]}),Ui(Fe)>re){Fe.pop();break}vt=vt.slice(1)}return{heartbeatsToSend:Fe,unsentEntries:vt}}(re._heartbeatsCache.heartbeats),Gt=(0,le.L)(JSON.stringify({version:2,heartbeats:vt}));return re._heartbeatsCache.lastSentHeartbeatDate=Fe,At.length>0?(re._heartbeatsCache.heartbeats=At,yield re._storage.overwrite(re._heartbeatsCache)):(re._heartbeatsCache.heartbeats=[],re._storage.overwrite(re._heartbeatsCache)),Gt})()}}function Yt(){return(new Date).toISOString().substring(0,10)}class Ci{constructor(re){this.app=re,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,le.hl)()&&(0,le.eu)().then(()=>!0).catch(()=>!1)})()}read(){var re=this;return(0,d.Z)(function*(){return(yield re._canUseIndexedDBPromise)&&(yield function Ee(he){return te.apply(this,arguments)}(re.app))||{heartbeats:[]}})()}overwrite(re){var Fe=this;return(0,d.Z)(function*(){var vt;if(yield Fe._canUseIndexedDBPromise){const Gt=yield Fe.read();return Ve(Fe.app,{lastSentHeartbeatDate:null!==(vt=re.lastSentHeartbeatDate)&&void 0!==vt?vt:Gt.lastSentHeartbeatDate,heartbeats:re.heartbeats})}})()}add(re){var Fe=this;return(0,d.Z)(function*(){var vt;if(yield Fe._canUseIndexedDBPromise){const Gt=yield Fe.read();return Ve(Fe.app,{lastSentHeartbeatDate:null!==(vt=re.lastSentHeartbeatDate)&&void 0!==vt?vt:Gt.lastSentHeartbeatDate,heartbeats:[...Gt.heartbeats,...re.heartbeats]})}})()}}function Ui(he){return(0,le.L)(JSON.stringify({version:2,heartbeats:he})).length}!function fa(he){li(new ee.wA("platform-logger",re=>new st(re),"PRIVATE")),li(new ee.wA("heartbeat",re=>new dn(re),"PRIVATE")),Gn(ft,"0.9.13",he),Gn(ft,"0.9.13","esm2017"),Gn("fire-js","")}("")},4859:(wt,Me,F)=>{F.d(Me,{H0:()=>Ie,wA:()=>N});var d=F(5861),ee=F(2090);class N{constructor(z,H,K){this.name=z,this.instanceFactory=H,this.type=K,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(z){return this.instantiationMode=z,this}setMultipleInstances(z){return this.multipleInstances=z,this}setServiceProps(z){return this.serviceProps=z,this}setInstanceCreatedCallback(z){return this.onInstanceCreated=z,this}}const le="[DEFAULT]";class ue{constructor(z,H){this.name=z,this.container=H,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(z){const H=this.normalizeInstanceIdentifier(z);if(!this.instancesDeferred.has(H)){const K=new ee.BH;if(this.instancesDeferred.set(H,K),this.isInitialized(H)||this.shouldAutoInitialize())try{const He=this.getOrInitializeService({instanceIdentifier:H});He&&K.resolve(He)}catch{}}return this.instancesDeferred.get(H).promise}getImmediate(z){var H;const K=this.normalizeInstanceIdentifier(z?.identifier),He=null!==(H=z?.optional)&&void 0!==H&&H;if(!this.isInitialized(K)&&!this.shouldAutoInitialize()){if(He)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:K})}catch(Se){if(He)return null;throw Se}}getComponent(){return this.component}setComponent(z){if(z.name!==this.name)throw Error(`Mismatching Component ${z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=z,this.shouldAutoInitialize()){if(function be(me){return"EAGER"===me.instantiationMode}(z))try{this.getOrInitializeService({instanceIdentifier:le})}catch{}for(const[H,K]of this.instancesDeferred.entries()){const He=this.normalizeInstanceIdentifier(H);try{const Se=this.getOrInitializeService({instanceIdentifier:He});K.resolve(Se)}catch{}}}}clearInstance(z=le){this.instancesDeferred.delete(z),this.instancesOptions.delete(z),this.instances.delete(z)}delete(){var z=this;return(0,d.Z)(function*(){const H=Array.from(z.instances.values());yield Promise.all([...H.filter(K=>"INTERNAL"in K).map(K=>K.INTERNAL.delete()),...H.filter(K=>"_delete"in K).map(K=>K._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(z=le){return this.instances.has(z)}getOptions(z=le){return this.instancesOptions.get(z)||{}}initialize(z={}){const{options:H={}}=z,K=this.normalizeInstanceIdentifier(z.instanceIdentifier);if(this.isInitialized(K))throw Error(`${this.name}(${K}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const He=this.getOrInitializeService({instanceIdentifier:K,options:H});for(const[Se,Ye]of this.instancesDeferred.entries())K===this.normalizeInstanceIdentifier(Se)&&Ye.resolve(He);return He}onInit(z,H){var K;const He=this.normalizeInstanceIdentifier(H),Se=null!==(K=this.onInitCallbacks.get(He))&&void 0!==K?K:new Set;Se.add(z),this.onInitCallbacks.set(He,Se);const Ye=this.instances.get(He);return Ye&&z(Ye,He),()=>{Se.delete(z)}}invokeOnInitCallbacks(z,H){const K=this.onInitCallbacks.get(H);if(K)for(const He of K)try{He(z,H)}catch{}}getOrInitializeService({instanceIdentifier:z,options:H={}}){let K=this.instances.get(z);if(!K&&this.component&&(K=this.component.instanceFactory(this.container,{instanceIdentifier:(me=z,me===le?void 0:me),options:H}),this.instances.set(z,K),this.instancesOptions.set(z,H),this.invokeOnInitCallbacks(K,z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,z,K)}catch{}var me;return K||null}normalizeInstanceIdentifier(z=le){return this.component?this.component.multipleInstances?z:le:z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ie{constructor(z){this.name=z,this.providers=new Map}addComponent(z){const H=this.getProvider(z.name);if(H.isComponentSet())throw new Error(`Component ${z.name} has already been registered with ${this.name}`);H.setComponent(z)}addOrOverwriteComponent(z){this.getProvider(z.name).isComponentSet()&&this.providers.delete(z.name),this.addComponent(z)}getProvider(z){if(this.providers.has(z))return this.providers.get(z);const H=new ue(z,this);return this.providers.set(z,H),H}getProviders(){return Array.from(this.providers.values())}}},1877:(wt,Me,F)=>{F.d(Me,{Am:()=>me,Ub:()=>Ie,Yd:()=>be,in:()=>ee});const d=[];var ee=(()=>{return(z=ee||(ee={}))[z.DEBUG=0]="DEBUG",z[z.VERBOSE=1]="VERBOSE",z[z.INFO=2]="INFO",z[z.WARN=3]="WARN",z[z.ERROR=4]="ERROR",z[z.SILENT=5]="SILENT",ee;var z})();const N={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},le=ee.INFO,ue={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},ie=(z,H,...K)=>{if(H<z.logLevel)return;const He=(new Date).toISOString(),Se=ue[H];if(!Se)throw new Error(`Attempted to log a message with an invalid logType (value: ${H})`);console[Se](`[${He}]  ${z.name}:`,...K)};class be{constructor(H){this.name=H,this._logLevel=le,this._logHandler=ie,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(H){if(!(H in ee))throw new TypeError(`Invalid value "${H}" assigned to \`logLevel\``);this._logLevel=H}setLogLevel(H){this._logLevel="string"==typeof H?N[H]:H}get logHandler(){return this._logHandler}set logHandler(H){if("function"!=typeof H)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=H}get userLogHandler(){return this._userLogHandler}set userLogHandler(H){this._userLogHandler=H}debug(...H){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...H),this._logHandler(this,ee.DEBUG,...H)}log(...H){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...H),this._logHandler(this,ee.VERBOSE,...H)}info(...H){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...H),this._logHandler(this,ee.INFO,...H)}warn(...H){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...H),this._logHandler(this,ee.WARN,...H)}error(...H){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...H),this._logHandler(this,ee.ERROR,...H)}}function Ie(z){d.forEach(H=>{H.setLogLevel(z)})}function me(z,H){for(const K of d){let He=null;H&&H.level&&(He=N[H.level]),K.userLogHandler=null===z?null:(Se,Ye,...pt)=>{const ge=pt.map(Oe=>{if(null==Oe)return null;if("string"==typeof Oe)return Oe;if("number"==typeof Oe||"boolean"==typeof Oe)return Oe.toString();if(Oe instanceof Error)return Oe.message;try{return JSON.stringify(Oe)}catch{return null}}).filter(Oe=>Oe).join(" ");Ye>=(He??Se.logLevel)&&z({level:ee[Ye].toLowerCase(),message:ge,args:pt,type:Se.name})}}}},259:(wt,Me,F)=>{F.d(Me,{C6:()=>d.getApps,Mq:()=>d.getApp});var d=F(6881);(0,d.registerVersion)("firebase","9.23.0","app")},9260:(wt,Me,F)=>{F.d(Me,{Z:()=>d.Z});var d=F(3942);d.Z.registerVersion("firebase","9.23.0","app-compat")},2644:(wt,Me,F)=>{F.r(Me);var d=F(5861),ee=F(3942),N=F(2090),le=F(6881),ue=F(7582),ie=F(1877),be=F(4859);const me={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},K_EMAIL_SIGNIN="EMAIL_SIGNIN",K_PASSWORD_RESET="PASSWORD_RESET",K_RECOVER_EMAIL="RECOVER_EMAIL",K_REVERT_SECOND_FACTOR_ADDITION="REVERT_SECOND_FACTOR_ADDITION",K_VERIFY_AND_CHANGE_EMAIL="VERIFY_AND_CHANGE_EMAIL",K_VERIFY_EMAIL="VERIFY_EMAIL";const Ye=function He(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},pt=function Se(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ge=new N.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ke=new ie.Yd("@firebase/auth");function Ne(_,...f){ke.logLevel<=ie.in.ERROR&&ke.error(`Auth (${le.SDK_VERSION}): ${_}`,...f)}function De(_,...f){throw dt(_,...f)}function Ce(_,...f){return dt(_,...f)}function Ge(_,f,m){const b=Object.assign(Object.assign({},pt()),{[f]:m});return new N.LL("auth","Firebase",b).create(f,{appName:_.name})}function Le(_,f,m){if(!(f instanceof m))throw m.name!==f.constructor.name&&De(_,"argument-error"),Ge(_,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function dt(_,...f){if("string"!=typeof _){const m=f[0],b=[...f.slice(1)];return b[0]&&(b[0].appName=_.name),_._errorFactory.create(m,...b)}return ge.create(_,...f)}function oe(_,f,...m){if(!_)throw dt(f,...m)}function St(_){const f="INTERNAL ASSERTION FAILED: "+_;throw Ne(f),new Error(f)}function st(_,f){_||St(f)}function Zt(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function ft(){return"http:"===$s()||"https:"===$s()}function $s(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class Te{constructor(f,m){this.shortDelay=f,this.longDelay=m,st(m>f,"Short delay should be less than long delay!"),this.isMobile=(0,N.uI)()||(0,N.b$)()}get(){return function fe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ft()||(0,N.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Re(_,f){st(_.emulator,"Emulator should always be set here");const{url:m}=_.emulator;return f?`${m}${f.startsWith("/")?f.slice(1):f}`:m}class Ke{static initialize(f,m,b){this.fetchImpl=f,m&&(this.headersImpl=m),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void St("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void St("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void St("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Be={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Qe=new Te(3e4,6e4);function _t(_,f){return _.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:_.tenantId}):f}function $t(_,f,m,b){return yt.apply(this,arguments)}function yt(){return(yt=(0,d.Z)(function*(_,f,m,b,S={}){return Dt(_,S,(0,d.Z)(function*(){let P={},j={};b&&("GET"===f?j=b:P={body:JSON.stringify(b)});const J=(0,N.xO)(Object.assign({key:_.config.apiKey},j)).slice(1),Pe=yield _._getAdditionalHeaders();return Pe["Content-Type"]="application/json",_.languageCode&&(Pe["X-Firebase-Locale"]=_.languageCode),Ke.fetch()(Ar(_,_.config.apiHost,m,J),Object.assign({method:f,headers:Pe,referrerPolicy:"no-referrer"},P))}))})).apply(this,arguments)}function Dt(_,f,m){return fn.apply(this,arguments)}function fn(){return(fn=(0,d.Z)(function*(_,f,m){_._canInitEmulator=!1;const b=Object.assign(Object.assign({},Be),f);try{const S=new Sr(_),P=yield Promise.race([m(),S.promise]);S.clearNetworkTimeout();const j=yield P.json();if("needConfirmation"in j)throw ur(_,"account-exists-with-different-credential",j);if(P.ok&&!("errorMessage"in j))return j;{const J=P.ok?j.errorMessage:j.error.message,[Pe,ze]=J.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Pe)throw ur(_,"credential-already-in-use",j);if("EMAIL_EXISTS"===Pe)throw ur(_,"email-already-in-use",j);if("USER_DISABLED"===Pe)throw ur(_,"user-disabled",j);const ot=b[Pe]||Pe.toLowerCase().replace(/[_\s]+/g,"-");if(ze)throw Ge(_,ot,ze);De(_,ot)}}catch(S){if(S instanceof N.ZR)throw S;De(_,"network-request-failed",{message:String(S)})}})).apply(this,arguments)}function Jt(_,f,m,b){return In.apply(this,arguments)}function In(){return(In=(0,d.Z)(function*(_,f,m,b,S={}){const P=yield $t(_,f,m,b,S);return"mfaPendingCredential"in P&&De(_,"multi-factor-auth-required",{_serverResponse:P}),P})).apply(this,arguments)}function Ar(_,f,m,b){const S=`${f}${m}?${b}`;return _.config.emulator?Re(_.config,S):`${_.config.apiScheme}://${S}`}class Sr{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((m,b)=>{this.timer=setTimeout(()=>b(Ce(this.auth,"network-request-failed")),Qe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ur(_,f,m){const b={appName:_.name};m.email&&(b.email=m.email),m.phoneNumber&&(b.phoneNumber=m.phoneNumber);const S=Ce(_,f,b);return S.customData._tokenResponse=m,S}function ci(){return(ci=(0,d.Z)(function*(_,f){return $t(_,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function Hs(){return(Hs=(0,d.Z)(function*(_,f){return $t(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function bt(){return(bt=(0,d.Z)(function*(_,f){return $t(_,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function Wr(_){if(_)try{const f=new Date(Number(_));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function Lr(){return(Lr=(0,d.Z)(function*(_,f=!1){const m=(0,N.m9)(_),b=yield m.getIdToken(f),S=sn(b);oe(S&&S.exp&&S.auth_time&&S.iat,m.auth,"internal-error");const P="object"==typeof S.firebase?S.firebase:void 0,j=P?.sign_in_provider;return{claims:S,token:b,authTime:Wr(Vi(S.auth_time)),issuedAtTime:Wr(Vi(S.iat)),expirationTime:Wr(Vi(S.exp)),signInProvider:j||null,signInSecondFactor:P?.sign_in_second_factor||null}})).apply(this,arguments)}function Vi(_){return 1e3*Number(_)}function sn(_){const[f,m,b]=_.split(".");if(void 0===f||void 0===m||void 0===b)return Ne("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,N.tV)(m);return S?JSON.parse(S):(Ne("Failed to decode base64 JWT payload"),null)}catch(S){return Ne("Caught error parsing JWT payload as JSON",S?.toString()),null}}function ht(_,f){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,d.Z)(function*(_,f,m=!1){if(m)return f;try{return yield f}catch(b){throw b instanceof N.ZR&&function li({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}(b)&&_.auth.currentUser===_&&(yield _.auth.signOut()),b}})).apply(this,arguments)}class Zr{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var m;if(f){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const S=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(f=!1){var m=this;if(!this.isRunning)return;const b=this.getInterval(f);this.timerId=setTimeout((0,d.Z)(function*(){yield m.iteration()}),b)}iteration(){var f=this;return(0,d.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&f.schedule(!0))}f.schedule()})()}}class dr{constructor(f,m){this.createdAt=f,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wr(this.lastLoginAt),this.creationTime=Wr(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Vr(_){return On.apply(this,arguments)}function On(){return On=(0,d.Z)(function*(_){var f;const m=_.auth,b=yield _.getIdToken(),S=yield ht(_,function Mr(_,f){return bt.apply(this,arguments)}(m,{idToken:b}));oe(S?.users.length,m,"internal-error");const P=S.users[0];_._notifyReloadListener(P);const j=null!==(f=P.providerUserInfo)&&void 0!==f&&f.length?function Xt(_){return _.map(f=>{var{providerId:m}=f,b=(0,ue._T)(f,["providerId"]);return{providerId:m,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}(P.providerUserInfo):[],J=function Is(_,f){return[..._.filter(b=>!f.some(S=>S.providerId===b.providerId)),...f]}(_.providerData,j),ot=!!_.isAnonymous&&!(_.email&&P.passwordHash||J?.length),lt={uid:P.localId,displayName:P.displayName||null,photoURL:P.photoUrl||null,email:P.email||null,emailVerified:P.emailVerified||!1,phoneNumber:P.phoneNumber||null,tenantId:P.tenantId||null,providerData:J,metadata:new dr(P.createdAt,P.lastLoginAt),isAnonymous:ot};Object.assign(_,lt)}),On.apply(this,arguments)}function yn(){return(yn=(0,d.Z)(function*(_){const f=(0,N.m9)(_);yield Vr(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function cn(){return(cn=(0,d.Z)(function*(_,f){const m=yield Dt(_,{},(0,d.Z)(function*(){const b=(0,N.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:S,apiKey:P}=_.config,j=Ar(_,S,"/v1/token",`key=${P}`),J=yield _._getAdditionalHeaders();return J["Content-Type"]="application/x-www-form-urlencoded",Ke.fetch()(j,{method:"POST",headers:J,body:b})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class ui{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){oe(f.idToken,"internal-error"),oe(typeof f.idToken<"u","internal-error"),oe(typeof f.refreshToken<"u","internal-error");const m="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function an(_){const f=sn(_);return oe(f,"internal-error"),oe(typeof f.exp<"u","internal-error"),oe(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,m)}getToken(f,m=!1){var b=this;return(0,d.Z)(function*(){return oe(!b.accessToken||b.refreshToken,f,"user-token-expired"),m||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(f,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,m){var b=this;return(0,d.Z)(function*(){const{accessToken:S,refreshToken:P,expiresIn:j}=yield function Bi(_,f){return cn.apply(this,arguments)}(f,m);b.updateTokensAndExpiration(S,P,Number(j))})()}updateTokensAndExpiration(f,m,b){this.refreshToken=m||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(f,m){const{refreshToken:b,accessToken:S,expirationTime:P}=m,j=new ui;return b&&(oe("string"==typeof b,"internal-error",{appName:f}),j.refreshToken=b),S&&(oe("string"==typeof S,"internal-error",{appName:f}),j.accessToken=S),P&&(oe("number"==typeof P,"internal-error",{appName:f}),j.expirationTime=P),j}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new ui,this.toJSON())}_performRefresh(){return St("not implemented")}}function kn(_,f){oe("string"==typeof _||typeof _>"u","internal-error",{appName:f})}class Gn{constructor(f){var{uid:m,auth:b,stsTokenManager:S}=f,P=(0,ue._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Zr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=b,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=P.displayName||null,this.email=P.email||null,this.emailVerified=P.emailVerified||!1,this.phoneNumber=P.phoneNumber||null,this.photoURL=P.photoURL||null,this.isAnonymous=P.isAnonymous||!1,this.tenantId=P.tenantId||null,this.providerData=P.providerData?[...P.providerData]:[],this.metadata=new dr(P.createdAt||void 0,P.lastLoginAt||void 0)}getIdToken(f){var m=this;return(0,d.Z)(function*(){const b=yield ht(m,m.stsTokenManager.getToken(m.auth,f));return oe(b,m.auth,"internal-error"),m.accessToken!==b&&(m.accessToken=b,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),b})()}getIdTokenResult(f){return function _r(_){return Lr.apply(this,arguments)}(this,f)}reload(){return function Kr(_){return yn.apply(this,arguments)}(this)}_assign(f){this!==f&&(oe(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(m=>Object.assign({},m)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){const m=new Gn(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(f){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,m=!1){var b=this;return(0,d.Z)(function*(){let S=!1;f.idToken&&f.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(f),S=!0),m&&(yield Vr(b)),yield b.auth._persistUserIfCurrent(b),S&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var f=this;return(0,d.Z)(function*(){const m=yield f.getIdToken();return yield ht(f,function Fr(_,f){return ci.apply(this,arguments)}(f.auth,{idToken:m})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,m){var b,S,P,j,J,Pe,ze,ot;const lt=null!==(b=m.displayName)&&void 0!==b?b:void 0,Dn=null!==(S=m.email)&&void 0!==S?S:void 0,Os=null!==(P=m.phoneNumber)&&void 0!==P?P:void 0,$a=null!==(j=m.photoURL)&&void 0!==j?j:void 0,Y_=null!==(J=m.tenantId)&&void 0!==J?J:void 0,Qn=null!==(Pe=m._redirectEventId)&&void 0!==Pe?Pe:void 0,gd=null!==(ze=m.createdAt)&&void 0!==ze?ze:void 0,Q_=null!==(ot=m.lastLoginAt)&&void 0!==ot?ot:void 0,{uid:nu,emailVerified:Rm,isAnonymous:Pm,providerData:Om,stsTokenManager:J_}=m;oe(nu&&J_,f,"internal-error");const m0=ui.fromJSON(this.name,J_);oe("string"==typeof nu,f,"internal-error"),kn(lt,f.name),kn(Dn,f.name),oe("boolean"==typeof Rm,f,"internal-error"),oe("boolean"==typeof Pm,f,"internal-error"),kn(Os,f.name),kn($a,f.name),kn(Y_,f.name),kn(Qn,f.name),kn(gd,f.name),kn(Q_,f.name);const gf=new Gn({uid:nu,auth:f,email:Dn,emailVerified:Rm,displayName:lt,isAnonymous:Pm,photoURL:$a,phoneNumber:Os,tenantId:Y_,stsTokenManager:m0,createdAt:gd,lastLoginAt:Q_});return Om&&Array.isArray(Om)&&(gf.providerData=Om.map(eC=>Object.assign({},eC))),Qn&&(gf._redirectEventId=Qn),gf}static _fromIdTokenResponse(f,m,b=!1){return(0,d.Z)(function*(){const S=new ui;S.updateFromServerResponse(m);const P=new Gn({uid:m.localId,auth:f,stsTokenManager:S,isAnonymous:b});return yield Vr(P),P})()}}const Ii=new Map;function Tn(_){st(_ instanceof Function,"Expected a class definition");let f=Ii.get(_);return f?(st(f instanceof _,"Instance stored in cache mismatched with class"),f):(f=new _,Ii.set(_,f),f)}const Br=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(m,b){var S=this;return(0,d.Z)(function*(){S.storage[m]=b})()}_get(m){var b=this;return(0,d.Z)(function*(){const S=b.storage[m];return void 0===S?null:S})()}_remove(m){var b=this;return(0,d.Z)(function*(){delete b.storage[m]})()}_addListener(m,b){}_removeListener(m,b){}}return _.type="NONE",_})();function U(_,f,m){return`firebase:${_}:${f}:${m}`}class V{constructor(f,m,b){this.persistence=f,this.auth=m,this.userKey=b;const{config:S,name:P}=this.auth;this.fullUserKey=U(this.userKey,S.apiKey,P),this.fullPersistenceKey=U("persistence",S.apiKey,P),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,d.Z)(function*(){const m=yield f.persistence._get(f.fullUserKey);return m?Gn._fromJSON(f.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var m=this;return(0,d.Z)(function*(){if(m.persistence===f)return;const b=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=f,b?m.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,m,b="authUser"){return(0,d.Z)(function*(){if(!m.length)return new V(Tn(Br),f,b);const S=(yield Promise.all(m.map(function(){var ze=(0,d.Z)(function*(ot){if(yield ot._isAvailable())return ot});return function(ot){return ze.apply(this,arguments)}}()))).filter(ze=>ze);let P=S[0]||Tn(Br);const j=U(b,f.config.apiKey,f.name);let J=null;for(const ze of m)try{const ot=yield ze._get(j);if(ot){const lt=Gn._fromJSON(f,ot);ze!==P&&(J=lt),P=ze;break}}catch{}const Pe=S.filter(ze=>ze._shouldAllowMigration);return P._shouldAllowMigration&&Pe.length?(P=Pe[0],J&&(yield P._set(j,J.toJSON())),yield Promise.all(m.map(function(){var ze=(0,d.Z)(function*(ot){if(ot!==P)try{yield ot._remove(j)}catch{}});return function(ot){return ze.apply(this,arguments)}}())),new V(P,f,b)):new V(P,f,b)})()}}function W(_){const f=_.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Mt(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(Ee(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Un(f))return"Blackberry";if(Mn(f))return"Webos";if(te(f))return"Safari";if((f.includes("chrome/")||Ve(f))&&!f.includes("edge/"))return"Chrome";if(nn(f))return"Android";{const b=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===b?.length)return b[1]}return"Other"}function Ee(_=(0,N.z$)()){return/firefox\//i.test(_)}function te(_=(0,N.z$)()){const f=_.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function Ve(_=(0,N.z$)()){return/crios\//i.test(_)}function Mt(_=(0,N.z$)()){return/iemobile/i.test(_)}function nn(_=(0,N.z$)()){return/android/i.test(_)}function Un(_=(0,N.z$)()){return/blackberry/i.test(_)}function Mn(_=(0,N.z$)()){return/webos/i.test(_)}function dn(_=(0,N.z$)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function Ui(_=(0,N.z$)()){return dn(_)||nn(_)||Mn(_)||Un(_)||/windows phone/i.test(_)||Mt(_)}function he(_,f=[]){let m;switch(_){case"Browser":m=W((0,N.z$)());break;case"Worker":m=`${W((0,N.z$)())}-${_}`;break;default:m=_}const b=f.length?f.join(","):"FirebaseCore-web";return`${m}/JsCore/${le.SDK_VERSION}/${b}`}function Fe(){return(Fe=(0,d.Z)(function*(_){return(yield $t(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function vt(_,f){return At.apply(this,arguments)}function At(){return(At=(0,d.Z)(function*(_,f){return $t(_,"GET","/v2/recaptchaConfig",_t(_,f))})).apply(this,arguments)}function Gt(_){return void 0!==_&&void 0!==_.getResponse}function Et(_){return void 0!==_&&void 0!==_.enterprise}class on{constructor(f){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===f.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=f.recaptchaKey.split("/")[3],this.emailPasswordEnabled=f.recaptchaEnforcementState.some(m=>"EMAIL_PASSWORD_PROVIDER"===m.provider&&"OFF"!==m.enforcementState)}}function hr(_){return new Promise((f,m)=>{const b=document.createElement("script");b.setAttribute("src",_),b.onload=f,b.onerror=S=>{const P=Ce("internal-error");P.customData=S,m(P)},b.type="text/javascript",b.charset="UTF-8",function rn(){var _,f;return null!==(f=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==f?f:document}().appendChild(b)})}function qn(_){return`__${_}${Math.floor(1e6*Math.random())}`}const Po="NO_RECAPTCHA";class di{constructor(f){this.type="recaptcha-enterprise",this.auth=pn(f)}verify(f="verify",m=!1){var b=this;return(0,d.Z)(function*(){function P(){return P=(0,d.Z)(function*(J){if(!m){if(null==J.tenantId&&null!=J._agentRecaptchaConfig)return J._agentRecaptchaConfig.siteKey;if(null!=J.tenantId&&void 0!==J._tenantRecaptchaConfigs[J.tenantId])return J._tenantRecaptchaConfigs[J.tenantId].siteKey}return new Promise(function(){var Pe=(0,d.Z)(function*(ze,ot){vt(J,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(lt=>{if(void 0!==lt.recaptchaKey){const Dn=new on(lt);return null==J.tenantId?J._agentRecaptchaConfig=Dn:J._tenantRecaptchaConfigs[J.tenantId]=Dn,ze(Dn.siteKey)}ot(new Error("recaptcha Enterprise site key undefined"))}).catch(lt=>{ot(lt)})});return function(ze,ot){return Pe.apply(this,arguments)}}())}),P.apply(this,arguments)}function j(J,Pe,ze){const ot=window.grecaptcha;Et(ot)?ot.enterprise.ready(()=>{ot.enterprise.execute(J,{action:f}).then(lt=>{Pe(lt)}).catch(()=>{Pe(Po)})}):ze(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((J,Pe)=>{(function S(J){return P.apply(this,arguments)})(b.auth).then(ze=>{if(!m&&Et(window.grecaptcha))j(ze,J,Pe);else{if(typeof window>"u")return void Pe(new Error("RecaptchaVerifier is only supported in browser"));hr("https://www.google.com/recaptcha/enterprise.js?render="+ze).then(()=>{j(ze,J,Pe)}).catch(ot=>{Pe(ot)})}}).catch(ze=>{Pe(ze)})})})()}}function Je(_,f,m){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,d.Z)(function*(_,f,m,b=!1){const S=new di(_);let P;try{P=yield S.verify(m)}catch{P=yield S.verify(m,!0)}const j=Object.assign({},f);return Object.assign(j,b?{captchaResp:P}:{captchaResponse:P}),Object.assign(j,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(j,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),j})).apply(this,arguments)}class An{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,m){const b=P=>new Promise((j,J)=>{try{j(f(P))}catch(Pe){J(Pe)}});b.onAbort=m,this.queue.push(b);const S=this.queue.length-1;return()=>{this.queue[S]=()=>Promise.resolve()}}runMiddleware(f){var m=this;return(0,d.Z)(function*(){if(m.auth.currentUser===f)return;const b=[];try{for(const S of m.queue)yield S(f),S.onAbort&&b.push(S.onAbort)}catch(S){b.reverse();for(const P of b)try{P()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:S?.message})}})()}}class hi{constructor(f,m,b,S){this.app=f,this.heartbeatServiceProvider=m,this.appCheckServiceProvider=b,this.config=S,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Wn(this),this.idTokenSubscription=new Wn(this),this.beforeStateQueue=new An(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ge,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=S.sdkClientVersion}_initializeWithPersistence(f,m){var b=this;return m&&(this._popupRedirectResolver=Tn(m)),this._initializationPromise=this.queue((0,d.Z)(function*(){var S,P;if(!b._deleted&&(b.persistenceManager=yield V.create(b,f),!b._deleted)){if(null!==(S=b._popupRedirectResolver)&&void 0!==S&&S._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch{}yield b.initializeCurrentUser(m),b.lastNotifiedUid=(null===(P=b.currentUser)||void 0===P?void 0:P.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,d.Z)(function*(){if(f._deleted)return;const m=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||m){if(f.currentUser&&m&&f.currentUser.uid===m.uid)return f._currentUser._assign(m),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(m,!0)}})()}initializeCurrentUser(f){var m=this;return(0,d.Z)(function*(){var b;const S=yield m.assertedPersistence.getCurrentUser();let P=S,j=!1;if(f&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const J=null===(b=m.redirectUser)||void 0===b?void 0:b._redirectEventId,Pe=P?._redirectEventId,ze=yield m.tryRedirectSignIn(f);(!J||J===Pe)&&ze?.user&&(P=ze.user,j=!0)}if(!P)return m.directlySetCurrentUser(null);if(!P._redirectEventId){if(j)try{yield m.beforeStateQueue.runMiddleware(P)}catch(J){P=S,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(J))}return P?m.reloadAndSetCurrentUserOrClear(P):m.directlySetCurrentUser(null)}return oe(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===P._redirectEventId?m.directlySetCurrentUser(P):m.reloadAndSetCurrentUserOrClear(P)})()}tryRedirectSignIn(f){var m=this;return(0,d.Z)(function*(){let b=null;try{b=yield m._popupRedirectResolver._completeRedirectFn(m,f,!0)}catch{yield m._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(f){var m=this;return(0,d.Z)(function*(){try{yield Vr(f)}catch(b){if("auth/network-request-failed"!==b?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function we(){if(typeof navigator>"u")return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var f=this;return(0,d.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var m=this;return(0,d.Z)(function*(){const b=f?(0,N.m9)(f):null;return b&&oe(b.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(b&&b._clone(m))})()}_updateCurrentUser(f,m=!1){var b=this;return(0,d.Z)(function*(){if(!b._deleted)return f&&oe(b.tenantId===f.tenantId,b,"tenant-id-mismatch"),m||(yield b.beforeStateQueue.runMiddleware(f)),b.queue((0,d.Z)(function*(){yield b.directlySetCurrentUser(f),b.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,d.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var m=this;return this.queue((0,d.Z)(function*(){yield m.assertedPersistence.setPersistence(Tn(f))}))}initializeRecaptchaConfig(){var f=this;return(0,d.Z)(function*(){const m=yield vt(f,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),b=new on(m);null==f.tenantId?f._agentRecaptchaConfig=b:f._tenantRecaptchaConfigs[f.tenantId]=b,b.emailPasswordEnabled&&new di(f).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new N.LL("auth","Firebase",f())}onAuthStateChanged(f,m,b){return this.registerStateListener(this.authStateSubscription,f,m,b)}beforeAuthStateChanged(f,m){return this.beforeStateQueue.pushCallback(f,m)}onIdTokenChanged(f,m,b){return this.registerStateListener(this.idTokenSubscription,f,m,b)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,m){var b=this;return(0,d.Z)(function*(){const S=yield b.getOrInitRedirectPersistenceManager(m);return null===f?S.removeCurrentUser():S.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var m=this;return(0,d.Z)(function*(){if(!m.redirectPersistenceManager){const b=f&&Tn(f)||m._popupRedirectResolver;oe(b,m,"argument-error"),m.redirectPersistenceManager=yield V.create(m,[Tn(b._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(f){var m=this;return(0,d.Z)(function*(){var b,S;return m._isInitialized&&(yield m.queue((0,d.Z)(function*(){}))),(null===(b=m._currentUser)||void 0===b?void 0:b._redirectEventId)===f?m._currentUser:(null===(S=m.redirectUser)||void 0===S?void 0:S._redirectEventId)===f?m.redirectUser:null})()}_persistUserIfCurrent(f){var m=this;return(0,d.Z)(function*(){if(f===m.currentUser)return m.queue((0,d.Z)(function*(){return m.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(m=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,m,b,S){if(this._deleted)return()=>{};const P="function"==typeof m?m:m.next.bind(m),j=this._isInitialized?Promise.resolve():this._initializationPromise;return oe(j,this,"internal-error"),j.then(()=>P(this.currentUser)),"function"==typeof m?f.addObserver(m,b,S):f.addObserver(m)}directlySetCurrentUser(f){var m=this;return(0,d.Z)(function*(){m.currentUser&&m.currentUser!==f&&m._currentUser._stopProactiveRefresh(),f&&m.isProactiveRefreshEnabled&&f._startProactiveRefresh(),m.currentUser=f,f?yield m.assertedPersistence.setCurrentUser(f):yield m.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=he(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,d.Z)(function*(){var m;const b={"X-Client-Version":f.clientVersion};f.app.options.appId&&(b["X-Firebase-gmpid"]=f.app.options.appId);const S=yield null===(m=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();S&&(b["X-Firebase-Client"]=S);const P=yield f._getAppCheckToken();return P&&(b["X-Firebase-AppCheck"]=P),b})()}_getAppCheckToken(){var f=this;return(0,d.Z)(function*(){var m;const b=yield null===(m=f.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getToken();return b?.error&&function $e(_,...f){ke.logLevel<=ie.in.WARN&&ke.warn(`Auth (${le.SDK_VERSION}): ${_}`,...f)}(`Error while retrieving App Check token: ${b.error}`),b?.token})()}}function pn(_){return(0,N.m9)(_)}class Wn{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,N.ne)(m=>this.observer=m)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ji(_){const f=_.indexOf(":");return f<0?"":_.substr(0,f+1)}function ma(_){if(!_)return null;const f=Number(_);return isNaN(f)?null:f}class is{constructor(f,m){this.providerId=f,this.signInMethod=m}toJSON(){return St("not implemented")}_getIdTokenResponse(f){return St("not implemented")}_linkToIdToken(f,m){return St("not implemented")}_getReauthenticationResolver(f){return St("not implemented")}}function Gs(_,f){return jn.apply(this,arguments)}function jn(){return(jn=(0,d.Z)(function*(_,f){return $t(_,"POST","/v1/accounts:resetPassword",_t(_,f))})).apply(this,arguments)}function Oo(_,f){return ss.apply(this,arguments)}function ss(){return(ss=(0,d.Z)(function*(_,f){return $t(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function ko(){return(ko=(0,d.Z)(function*(_,f){return $t(_,"POST","/v1/accounts:update",_t(_,f))})).apply(this,arguments)}function yr(_,f){return En.apply(this,arguments)}function En(){return(En=(0,d.Z)(function*(_,f){return Jt(_,"POST","/v1/accounts:signInWithPassword",_t(_,f))})).apply(this,arguments)}function Yr(_,f){return ga.apply(this,arguments)}function ga(){return(ga=(0,d.Z)(function*(_,f){return $t(_,"POST","/v1/accounts:sendOobCode",_t(_,f))})).apply(this,arguments)}function No(){return(No=(0,d.Z)(function*(_,f){return Yr(_,f)})).apply(this,arguments)}function Ds(_,f){return qs.apply(this,arguments)}function qs(){return(qs=(0,d.Z)(function*(_,f){return Yr(_,f)})).apply(this,arguments)}function fr(_,f){return sc.apply(this,arguments)}function sc(){return(sc=(0,d.Z)(function*(_,f){return Yr(_,f)})).apply(this,arguments)}function Jr(){return(Jr=(0,d.Z)(function*(_,f){return Yr(_,f)})).apply(this,arguments)}function Fo(){return(Fo=(0,d.Z)(function*(_,f){return Jt(_,"POST","/v1/accounts:signInWithEmailLink",_t(_,f))})).apply(this,arguments)}function Ur(){return(Ur=(0,d.Z)(function*(_,f){return Jt(_,"POST","/v1/accounts:signInWithEmailLink",_t(_,f))})).apply(this,arguments)}class oc extends is{constructor(f,m,b,S=null){super("password",b),this._email=f,this._password=m,this._tenantId=S}static _fromEmailAndPassword(f,m){return new oc(f,m,"password")}static _fromEmailAndCode(f,m,b=null){return new oc(f,m,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(f){var m=this;return(0,d.Z)(function*(){var b;switch(m.signInMethod){case"password":const S={returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(b=f._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const P=yield Je(f,S,"signInWithPassword");return yr(f,P)}return yr(f,S).catch(function(){var P=(0,d.Z)(function*(j){if("auth/missing-recaptcha-token"===j.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const J=yield Je(f,S,"signInWithPassword");return yr(f,J)}return Promise.reject(j)});return function(j){return P.apply(this,arguments)}}());case"emailLink":return function _a(_,f){return Fo.apply(this,arguments)}(f,{email:m._email,oobCode:m._password});default:De(f,"internal-error")}})()}_linkToIdToken(f,m){var b=this;return(0,d.Z)(function*(){switch(b.signInMethod){case"password":return Oo(f,{idToken:m,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function bl(_,f){return Ur.apply(this,arguments)}(f,{idToken:m,email:b._email,oobCode:b._password});default:De(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Ti(_,f){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,d.Z)(function*(_,f){return Jt(_,"POST","/v1/accounts:signInWithIdp",_t(_,f))})).apply(this,arguments)}class os extends is{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const m=new os(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(m.idToken=f.idToken),f.accessToken&&(m.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(m.nonce=f.nonce),f.pendingToken&&(m.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(m.accessToken=f.oauthToken,m.secret=f.oauthTokenSecret):De("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:S}=m,P=(0,ue._T)(m,["providerId","signInMethod"]);if(!b||!S)return null;const j=new os(b,S);return j.idToken=P.idToken||void 0,j.accessToken=P.accessToken||void 0,j.secret=P.secret,j.nonce=P.nonce,j.pendingToken=P.pendingToken||null,j}_getIdTokenResponse(f){return Ti(f,this.buildRequest())}_linkToIdToken(f,m){const b=this.buildRequest();return b.idToken=m,Ti(f,b)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,Ti(f,m)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),f.postBody=(0,N.xO)(m)}return f}}function El(){return(El=(0,d.Z)(function*(_,f){return $t(_,"POST","/v1/accounts:sendVerificationCode",_t(_,f))})).apply(this,arguments)}function Ou(){return(Ou=(0,d.Z)(function*(_,f){return Jt(_,"POST","/v1/accounts:signInWithPhoneNumber",_t(_,f))})).apply(this,arguments)}function ac(){return(ac=(0,d.Z)(function*(_,f){const m=yield Jt(_,"POST","/v1/accounts:signInWithPhoneNumber",_t(_,f));if(m.temporaryProof)throw ur(_,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const ku={USER_NOT_FOUND:"user-not-found"};function cc(){return(cc=(0,d.Z)(function*(_,f){return Jt(_,"POST","/v1/accounts:signInWithPhoneNumber",_t(_,Object.assign(Object.assign({},f),{operation:"REAUTH"})),ku)})).apply(this,arguments)}class Xr extends is{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,m){return new Xr({verificationId:f,verificationCode:m})}static _fromTokenResponse(f,m){return new Xr({phoneNumber:f,temporaryProof:m})}_getIdTokenResponse(f){return function Kp(_,f){return Ou.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,m){return function Yp(_,f){return ac.apply(this,arguments)}(f,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function C_(_,f){return cc.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:m,verificationId:b,verificationCode:S}=this.params;return f&&m?{temporaryProof:f,phoneNumber:m}:{sessionInfo:b,code:S}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:m,verificationCode:b,phoneNumber:S,temporaryProof:P}=f;return b||m||S||P?new Xr({verificationId:m,verificationCode:b,phoneNumber:S,temporaryProof:P}):null}}class Lo{constructor(f){var m,b,S,P,j,J;const Pe=(0,N.zd)((0,N.pd)(f)),ze=null!==(m=Pe.apiKey)&&void 0!==m?m:null,ot=null!==(b=Pe.oobCode)&&void 0!==b?b:null,lt=function Rh(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=Pe.mode)&&void 0!==S?S:null);oe(ze&&ot&&lt,"argument-error"),this.apiKey=ze,this.operation=lt,this.code=ot,this.continueUrl=null!==(P=Pe.continueUrl)&&void 0!==P?P:null,this.languageCode=null!==(j=Pe.languageCode)&&void 0!==j?j:null,this.tenantId=null!==(J=Pe.tenantId)&&void 0!==J?J:null}static parseLink(f){const m=function Nu(_){const f=(0,N.zd)((0,N.pd)(_)).link,m=f?(0,N.zd)((0,N.pd)(f)).deep_link_id:null,b=(0,N.zd)((0,N.pd)(_)).deep_link_id;return(b?(0,N.zd)((0,N.pd)(b)).link:null)||b||m||f||_}(f);try{return new Lo(m)}catch{return null}}}let Fu=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(m,b){return oc._fromEmailAndPassword(m,b)}static credentialWithLink(m,b){const S=Lo.parseLink(b);return oe(S,"argument-error"),oc._fromEmailAndCode(m,S.code,S.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class as{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Hi extends as{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Ws extends Hi{static credentialFromJSON(f){const m="string"==typeof f?JSON.parse(f):f;return oe("providerId"in m&&"signInMethod"in m,"argument-error"),os._fromParams(m)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return oe(f.idToken||f.accessToken,"argument-error"),os._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Ws.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Ws.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:m,oauthAccessToken:b,oauthTokenSecret:S,pendingToken:P,nonce:j,providerId:J}=f;if(!b&&!S&&!m&&!P||!J)return null;try{return new Ws(J)._credential({idToken:m,accessToken:b,nonce:j,pendingToken:P})}catch{return null}}}let wl=(()=>{class _ extends Hi{constructor(){super("facebook.com")}static credential(m){return os._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return _.credential(m.oauthAccessToken)}catch{return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),ya=(()=>{class _ extends Hi{constructor(){super("google.com"),this.addScope("profile")}static credential(m,b){return os._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:b})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:b,oauthAccessToken:S}=m;if(!b&&!S)return null;try{return _.credential(b,S)}catch{return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),Lu=(()=>{class _ extends Hi{constructor(){super("github.com")}static credential(m){return os._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return _.credential(m.oauthAccessToken)}catch{return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class Cs extends is{constructor(f,m){super(f,f),this.pendingToken=m}_getIdTokenResponse(f){return Ti(f,this.buildRequest())}_linkToIdToken(f,m){const b=this.buildRequest();return b.idToken=m,Ti(f,b)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,Ti(f,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:S,pendingToken:P}=m;return b&&S&&P&&b===S?new Cs(b,P):null}static _create(f,m){return new Cs(f,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class lc extends as{constructor(f){oe(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return lc.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return lc.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const m=Cs.fromJSON(f);return oe(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:m,providerId:b}=f;if(!m||!b)return null;try{return Cs._create(b,m)}catch{return null}}}let uc=(()=>{class _ extends Hi{constructor(){super("twitter.com")}static credential(m,b){return os._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:b})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:b,oauthTokenSecret:S}=m;if(!b||!S)return null;try{return _.credential(b,S)}catch{return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function Ts(_,f){return jr.apply(this,arguments)}function jr(){return(jr=(0,d.Z)(function*(_,f){return Jt(_,"POST","/v1/accounts:signUp",_t(_,f))})).apply(this,arguments)}class Rr{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,m,b,S=!1){return(0,d.Z)(function*(){const P=yield Gn._fromIdTokenResponse(f,b,S),j=va(b);return new Rr({user:P,providerId:j,_tokenResponse:b,operationType:m})})()}static _forOperation(f,m,b){return(0,d.Z)(function*(){yield f._updateTokensIfNecessary(b,!0);const S=va(b);return new Rr({user:f,providerId:S,_tokenResponse:b,operationType:m})})()}}function va(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function Vo(){return(Vo=(0,d.Z)(function*(_){var f;const m=pn(_);if(yield m._initializationPromise,null!==(f=m.currentUser)&&void 0!==f&&f.isAnonymous)return new Rr({user:m.currentUser,providerId:null,operationType:"signIn"});const b=yield Ts(m,{returnSecureToken:!0}),S=yield Rr._fromIdTokenResponse(m,"signIn",b,!0);return yield m._updateCurrentUser(S.user),S})).apply(this,arguments)}class cs extends N.ZR{constructor(f,m,b,S){var P;super(m.code,m.message),this.operationType=b,this.user=S,Object.setPrototypeOf(this,cs.prototype),this.customData={appName:f.name,tenantId:null!==(P=f.tenantId)&&void 0!==P?P:void 0,_serverResponse:m.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(f,m,b,S){return new cs(f,m,b,S)}}function mr(_,f,m,b){return("reauthenticate"===f?m._getReauthenticationResolver(_):m._getIdTokenResponse(_)).catch(P=>{throw"auth/multi-factor-auth-required"===P.code?cs._fromErrorAndOperation(_,P,f,b):P})}function Vu(_){return new Set(_.map(({providerId:f})=>f).filter(f=>!!f))}function Pr(){return Pr=(0,d.Z)(function*(_,f){const m=(0,N.m9)(_);yield ls(!0,m,f);const{providerUserInfo:b}=yield function Ro(_,f){return Hs.apply(this,arguments)}(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[f]}),S=Vu(b||[]);return m.providerData=m.providerData.filter(P=>S.has(P.providerId)),S.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m}),Pr.apply(this,arguments)}function nr(_,f){return dc.apply(this,arguments)}function dc(){return(dc=(0,d.Z)(function*(_,f,m=!1){const b=yield ht(_,f._linkToIdToken(_.auth,yield _.getIdToken()),m);return Rr._forOperation(_,"link",b)})).apply(this,arguments)}function ls(_,f,m){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,d.Z)(function*(_,f,m){yield Vr(f);const S=!1===_?"provider-already-linked":"no-such-provider";oe(Vu(f.providerData).has(m)===_,f.auth,S)})).apply(this,arguments)}function As(_,f){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,d.Z)(function*(_,f,m=!1){const{auth:b}=_,S="reauthenticate";try{const P=yield ht(_,mr(b,S,f,_),m);oe(P.idToken,b,"internal-error");const j=sn(P.idToken);oe(j,b,"internal-error");const{sub:J}=j;return oe(_.uid===J,b,"user-mismatch"),Rr._forOperation(_,S,P)}catch(P){throw"auth/user-not-found"===P?.code&&De(b,"user-mismatch"),P}})).apply(this,arguments)}function ba(_,f){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,d.Z)(function*(_,f,m=!1){const b="signIn",S=yield mr(_,b,f),P=yield Rr._fromIdTokenResponse(_,b,S);return m||(yield _._updateCurrentUser(P.user)),P})).apply(this,arguments)}function Ea(_,f){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,d.Z)(function*(_,f){return ba(pn(_),f)})).apply(this,arguments)}function ju(_,f){return hc.apply(this,arguments)}function hc(){return(hc=(0,d.Z)(function*(_,f){const m=(0,N.m9)(_);return yield ls(!1,m,f.providerId),nr(m,f)})).apply(this,arguments)}function $u(_,f){return fc.apply(this,arguments)}function fc(){return(fc=(0,d.Z)(function*(_,f){return As((0,N.m9)(_),f)})).apply(this,arguments)}function Hu(){return(Hu=(0,d.Z)(function*(_,f){return Jt(_,"POST","/v1/accounts:signInWithCustomToken",_t(_,f))})).apply(this,arguments)}function Bt(){return Bt=(0,d.Z)(function*(_,f){const m=pn(_),b=yield function Qp(_,f){return Hu.apply(this,arguments)}(m,{token:f,returnSecureToken:!0}),S=yield Rr._fromIdTokenResponse(m,"signIn",b);return yield m._updateCurrentUser(S.user),S}),Bt.apply(this,arguments)}class wa{constructor(f,m){this.factorId=f,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(f,m){return"phoneInfo"in m?Ia._fromServerResponse(f,m):"totpInfo"in m?rr._fromServerResponse(f,m):De(f,"internal-error")}}class Ia extends wa{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,m){return new Ia(m)}}class rr extends wa{constructor(f){super("totp",f)}static _fromServerResponse(f,m){return new rr(m)}}function Zs(_,f,m){var b;oe((null===(b=m.url)||void 0===b?void 0:b.length)>0,_,"invalid-continue-uri"),oe(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),f.continueUrl=m.url,f.dynamicLinkDomain=m.dynamicLinkDomain,f.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(oe(m.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),f.iOSBundleId=m.iOS.bundleId),m.android&&(oe(m.android.packageName.length>0,_,"missing-android-pkg-name"),f.androidInstallApp=m.android.installApp,f.androidMinimumVersionCode=m.android.minimumVersion,f.androidPackageName=m.android.packageName)}function $r(){return $r=(0,d.Z)(function*(_,f,m){var b;const S=pn(_),P={requestType:"PASSWORD_RESET",email:f,clientType:"CLIENT_TYPE_WEB"};if(null!==(b=S._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const j=yield Je(S,P,"getOobCode",!0);m&&Zs(S,j,m),yield Ds(S,j)}else m&&Zs(S,P,m),yield Ds(S,P).catch(function(){var j=(0,d.Z)(function*(J){if("auth/missing-recaptcha-token"!==J.code)return Promise.reject(J);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Pe=yield Je(S,P,"getOobCode",!0);m&&Zs(S,Pe,m),yield Ds(S,Pe)}});return function(J){return j.apply(this,arguments)}}())}),$r.apply(this,arguments)}function mc(){return(mc=(0,d.Z)(function*(_,f,m){yield Gs((0,N.m9)(_),{oobCode:f,newPassword:m})})).apply(this,arguments)}function us(){return us=(0,d.Z)(function*(_,f){yield function $i(_,f){return ko.apply(this,arguments)}((0,N.m9)(_),{oobCode:f})}),us.apply(this,arguments)}function Da(_,f){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,d.Z)(function*(_,f){const m=(0,N.m9)(_),b=yield Gs(m,{oobCode:f}),S=b.requestType;switch(oe(S,m,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":oe(b.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":oe(b.mfaInfo,m,"internal-error");default:oe(b.email,m,"internal-error")}let P=null;return b.mfaInfo&&(P=wa._fromServerResponse(pn(m),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:P},operation:S}})).apply(this,arguments)}function zi(){return(zi=(0,d.Z)(function*(_,f){const{data:m}=yield Da((0,N.m9)(_),f);return m.email})).apply(this,arguments)}function pi(){return pi=(0,d.Z)(function*(_,f,m){var b;const S=pn(_),P={returnSecureToken:!0,email:f,password:m,clientType:"CLIENT_TYPE_WEB"};let j;if(null!==(b=S._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const ze=yield Je(S,P,"signUpPassword");j=Ts(S,ze)}else j=Ts(S,P).catch(function(){var ze=(0,d.Z)(function*(ot){if("auth/missing-recaptcha-token"===ot.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const lt=yield Je(S,P,"signUpPassword");return Ts(S,lt)}return Promise.reject(ot)});return function(ot){return ze.apply(this,arguments)}}());const J=yield j.catch(ze=>Promise.reject(ze)),Pe=yield Rr._fromIdTokenResponse(S,"signIn",J);return yield S._updateCurrentUser(Pe.user),Pe}),pi.apply(this,arguments)}function gc(){return gc=(0,d.Z)(function*(_,f,m){var b;const S=pn(_),P={requestType:"EMAIL_SIGNIN",email:f,clientType:"CLIENT_TYPE_WEB"};function j(J,Pe){oe(Pe.handleCodeInApp,S,"argument-error"),Pe&&Zs(S,J,Pe)}if(null!==(b=S._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const J=yield Je(S,P,"getOobCode",!0);j(J,m),yield fr(S,J)}else j(P,m),yield fr(S,P).catch(function(){var J=(0,d.Z)(function*(Pe){if("auth/missing-recaptcha-token"!==Pe.code)return Promise.reject(Pe);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ze=yield Je(S,P,"getOobCode",!0);j(ze,m),yield fr(S,ze)}});return function(Pe){return J.apply(this,arguments)}}())}),gc.apply(this,arguments)}function Uo(){return(Uo=(0,d.Z)(function*(_,f,m){const b=(0,N.m9)(_),S=Fu.credentialWithLink(f,m||Zt());return oe(S._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),Ea(b,S)})).apply(this,arguments)}function _c(){return(_c=(0,d.Z)(function*(_,f){return $t(_,"POST","/v1/accounts:createAuthUri",_t(_,f))})).apply(this,arguments)}function yc(){return yc=(0,d.Z)(function*(_,f){const b={identifier:f,continueUri:ft()?Zt():"http://localhost"},{signinMethods:S}=yield function Cl(_,f){return _c.apply(this,arguments)}((0,N.m9)(_),b);return S||[]}),yc.apply(this,arguments)}function Ta(){return Ta=(0,d.Z)(function*(_,f){const m=(0,N.m9)(_),S={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};f&&Zs(m.auth,S,f);const{email:P}=yield function vl(_,f){return No.apply(this,arguments)}(m.auth,S);P!==_.email&&(yield _.reload())}),Ta.apply(this,arguments)}function Aa(){return Aa=(0,d.Z)(function*(_,f,m){const b=(0,N.m9)(_),P={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:f};m&&Zs(b.auth,P,m);const{email:j}=yield function Qr(_,f){return Jr.apply(this,arguments)}(b.auth,P);j!==_.email&&(yield _.reload())}),Aa.apply(this,arguments)}function bc(){return(bc=(0,d.Z)(function*(_,f){return $t(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Ec(){return Ec=(0,d.Z)(function*(_,{displayName:f,photoURL:m}){if(void 0===f&&void 0===m)return;const b=(0,N.m9)(_),P={idToken:yield b.getIdToken(),displayName:f,photoUrl:m,returnSecureToken:!0},j=yield ht(b,function Wu(_,f){return bc.apply(this,arguments)}(b.auth,P));b.displayName=j.displayName||null,b.photoURL=j.photoUrl||null;const J=b.providerData.find(({providerId:Pe})=>"password"===Pe);J&&(J.displayName=b.displayName,J.photoURL=b.photoURL),yield b._updateTokensIfNecessary(j)}),Ec.apply(this,arguments)}function xn(_,f,m){return wc.apply(this,arguments)}function wc(){return(wc=(0,d.Z)(function*(_,f,m){const{auth:b}=_,P={idToken:yield _.getIdToken(),returnSecureToken:!0};f&&(P.email=f),m&&(P.password=m);const j=yield ht(_,Oo(b,P));yield _._updateTokensIfNecessary(j,!0)})).apply(this,arguments)}class Ys{constructor(f,m,b={}){this.isNewUser=f,this.providerId=m,this.profile=b}}class Nh extends Ys{constructor(f,m,b,S){super(f,m,b),this.username=S}}class Zu extends Ys{constructor(f,m){super(f,"facebook.com",m)}}class em extends Nh{constructor(f,m){super(f,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class Ic extends Ys{constructor(f,m){super(f,"google.com",m)}}class Al extends Nh{constructor(f,m,b){super(f,"twitter.com",m,b)}}function Sl(_){const{user:f,_tokenResponse:m}=_;return f.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function kh(_){var f,m;if(!_)return null;const{providerId:b}=_,S=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},P=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!b&&_?.idToken){const j=null===(m=null===(f=sn(_.idToken))||void 0===f?void 0:f.firebase)||void 0===m?void 0:m.sign_in_provider;if(j)return new Ys(P,"anonymous"!==j&&"custom"!==j?j:null)}if(!b)return null;switch(b){case"facebook.com":return new Zu(P,S);case"github.com":return new em(P,S);case"google.com":return new Ic(P,S);case"twitter.com":return new Al(P,S,_.screenName||null);case"custom":case"anonymous":return new Ys(P,null);default:return new Ys(P,b,S)}}(m)}class Qs{constructor(f,m,b){this.type=f,this.credential=m,this.auth=b}static _fromIdtoken(f,m){return new Qs("enroll",f,m)}static _fromMfaPendingCredential(f){return new Qs("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var m,b;if(f?.multiFactorSession){if(null!==(m=f.multiFactorSession)&&void 0!==m&&m.pendingCredential)return Qs._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(b=f.multiFactorSession)&&void 0!==b&&b.idToken)return Qs._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Js{constructor(f,m,b){this.session=f,this.hints=m,this.signInResolver=b}static _fromError(f,m){const b=pn(f),S=m.customData._serverResponse,P=(S.mfaInfo||[]).map(J=>wa._fromServerResponse(b,J));oe(S.mfaPendingCredential,b,"internal-error");const j=Qs._fromMfaPendingCredential(S.mfaPendingCredential);return new Js(j,P,function(){var J=(0,d.Z)(function*(Pe){const ze=yield Pe._process(b,j);delete S.mfaInfo,delete S.mfaPendingCredential;const ot=Object.assign(Object.assign({},S),{idToken:ze.idToken,refreshToken:ze.refreshToken});switch(m.operationType){case"signIn":const lt=yield Rr._fromIdTokenResponse(b,m.operationType,ot);return yield b._updateCurrentUser(lt.user),lt;case"reauthenticate":return oe(m.user,b,"internal-error"),Rr._forOperation(m.user,m.operationType,ot);default:De(b,"internal-error")}});return function(Pe){return J.apply(this,arguments)}}())}resolveSignIn(f){var m=this;return(0,d.Z)(function*(){return m.signInResolver(f)})()}}class to{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(b=>wa._fromServerResponse(f.auth,b)))})}static _fromUser(f){return new to(f)}getSession(){var f=this;return(0,d.Z)(function*(){return Qs._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,m){var b=this;return(0,d.Z)(function*(){const S=f,P=yield b.getSession(),j=yield ht(b.user,S._process(b.user.auth,P,m));return yield b.user._updateTokensIfNecessary(j),b.user.reload()})()}unenroll(f){var m=this;return(0,d.Z)(function*(){const b="string"==typeof f?f:f.uid,S=yield m.user.getIdToken();try{const P=yield ht(m.user,function Tc(_,f){return $t(_,"POST","/v2/accounts/mfaEnrollment:withdraw",_t(_,f))}(m.user.auth,{idToken:S,mfaEnrollmentId:b}));m.enrolledFactors=m.enrolledFactors.filter(({uid:j})=>j!==b),yield m.user._updateTokensIfNecessary(P),yield m.user.reload()}catch(P){throw P}})()}}const Ss=new WeakMap,no="__sak";class Ac{constructor(f,m){this.storageRetriever=f,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(no,"1"),this.storage.removeItem(no),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,m){return this.storage.setItem(f,JSON.stringify(m)),Promise.resolve()}_get(f){const m=this.storage.getItem(f);return Promise.resolve(m?JSON.parse(m):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const ro=(()=>{class _ extends Ac{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,b)=>this.onStorageEvent(m,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ma(){const _=(0,N.z$)();return te(_)||dn(_)}()&&function fa(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Ui(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const b of Object.keys(this.listeners)){const S=this.storage.getItem(b),P=this.localCache[b];S!==P&&m(b,P,S)}}onStorageEvent(m,b=!1){if(!m.key)return void this.forAllChangedKeys((J,Pe,ze)=>{this.notifyListeners(J,ze)});const S=m.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const J=this.storage.getItem(S);if(m.newValue!==J)null!==m.newValue?this.storage.setItem(S,m.newValue):this.storage.removeItem(S);else if(this.localCache[S]===m.newValue&&!b)return}const P=()=>{const J=this.storage.getItem(S);!b&&this.localCache[S]===J||this.notifyListeners(S,J)},j=this.storage.getItem(S);!function Ci(){return(0,N.w1)()&&10===document.documentMode}()||j===m.newValue||m.newValue===m.oldValue?P():setTimeout(P,10)}notifyListeners(m,b){this.localCache[m]=b;const S=this.listeners[m];if(S)for(const P of Array.from(S))P(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,b,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:b,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,b){var S=()=>super._set,P=this;return(0,d.Z)(function*(){yield S().call(P,m,b),P.localCache[m]=JSON.stringify(b)})()}_get(m){var b=()=>super._get,S=this;return(0,d.Z)(function*(){const P=yield b().call(S,m);return S.localCache[m]=JSON.stringify(P),P})()}_remove(m){var b=()=>super._remove,S=this;return(0,d.Z)(function*(){yield b().call(S,m),delete S.localCache[m]})()}}return _.type="LOCAL",_})(),fs=(()=>{class _ extends Ac{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,b){}_removeListener(m,b){}}return _.type="SESSION",_})();let zo=(()=>{class _{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const b=this.receivers.find(P=>P.isListeningto(m));if(b)return b;const S=new _(m);return this.receivers.push(S),S}isListeningto(m){return this.eventTarget===m}handleEvent(m){var b=this;return(0,d.Z)(function*(){const S=m,{eventId:P,eventType:j,data:J}=S.data,Pe=b.handlersMap[j];if(!Pe?.size)return;S.ports[0].postMessage({status:"ack",eventId:P,eventType:j});const ze=Array.from(Pe).map(function(){var lt=(0,d.Z)(function*(Dn){return Dn(S.origin,J)});return function(Dn){return lt.apply(this,arguments)}}()),ot=yield function Rl(_){return Promise.all(_.map(function(){var f=(0,d.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(b){return{fulfilled:!1,reason:b}}});return function(m){return f.apply(this,arguments)}}()))}(ze);S.ports[0].postMessage({status:"done",eventId:P,eventType:j,response:ot})})()}_subscribe(m,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(b)}_unsubscribe(m,b){this.handlersMap[m]&&b&&this.handlersMap[m].delete(b),(!b||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function Go(_="",f=10){let m="";for(let b=0;b<f;b++)m+=Math.floor(10*Math.random());return _+m}class Ju{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,m,b=50){var S=this;return(0,d.Z)(function*(){const P=typeof MessageChannel<"u"?new MessageChannel:null;if(!P)throw new Error("connection_unavailable");let j,J;return new Promise((Pe,ze)=>{const ot=Go("",20);P.port1.start();const lt=setTimeout(()=>{ze(new Error("unsupported_event"))},b);J={messageChannel:P,onMessage(Dn){const Os=Dn;if(Os.data.eventId===ot)switch(Os.data.status){case"ack":clearTimeout(lt),j=setTimeout(()=>{ze(new Error("timeout"))},3e3);break;case"done":clearTimeout(j),Pe(Os.data.response);break;default:clearTimeout(lt),clearTimeout(j),ze(new Error("invalid_response"))}}},S.handlers.add(J),P.port1.addEventListener("message",J.onMessage),S.target.postMessage({eventType:f,eventId:ot,data:m},[P.port2])}).finally(()=>{J&&S.removeMessageHandler(J)})})()}}function vn(){return window}function Mc(){return typeof vn().WorkerGlobalScope<"u"&&"function"==typeof vn().importScripts}function xc(){return(xc=(0,d.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const io="firebaseLocalStorageDb",$n=1,Ol="firebaseLocalStorage",xa="fbase_key";class Ra{constructor(f){this.request=f}toPromise(){return new Promise((f,m)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function ps(_,f){return _.transaction([Ol],f?"readwrite":"readonly").objectStore(Ol)}function Pc(){const _=indexedDB.open(io,$n);return new Promise((f,m)=>{_.addEventListener("error",()=>{m(_.error)}),_.addEventListener("upgradeneeded",()=>{const b=_.result;try{b.createObjectStore(Ol,{keyPath:xa})}catch(S){m(S)}}),_.addEventListener("success",(0,d.Z)(function*(){const b=_.result;b.objectStoreNames.contains(Ol)?f(b):(b.close(),yield function Vh(){const _=indexedDB.deleteDatabase(io);return new Ra(_).toPromise()}(),f(yield Pc()))}))})}function so(_,f,m){return kl.apply(this,arguments)}function kl(){return(kl=(0,d.Z)(function*(_,f,m){const b=ps(_,!0).put({[xa]:f,value:m});return new Ra(b).toPromise()})).apply(this,arguments)}function qo(){return(qo=(0,d.Z)(function*(_,f){const m=ps(_,!1).get(f),b=yield new Ra(m).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function Ms(_,f){const m=ps(_,!0).delete(f);return new Ra(m).toPromise()}const ao=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,d.Z)(function*(){return m.db||(m.db=yield Pc()),m.db})()}_withRetries(m){var b=this;return(0,d.Z)(function*(){let S=0;for(;;)try{const P=yield b._openDb();return yield m(P)}catch(P){if(S++>3)throw P;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,d.Z)(function*(){return Mc()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,d.Z)(function*(){m.receiver=zo._getInstance(function ir(){return Mc()?self:null}()),m.receiver._subscribe("keyChanged",function(){var b=(0,d.Z)(function*(S,P){return{keyProcessed:(yield m._poll()).includes(P.key)}});return function(S,P){return b.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var b=(0,d.Z)(function*(S,P){return["keyChanged"]});return function(S,P){return b.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,d.Z)(function*(){var b,S;if(m.activeServiceWorker=yield function Pl(){return xc.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Ju(m.activeServiceWorker);const P=yield m.sender._send("ping",{},800);P&&null!==(b=P[0])&&void 0!==b&&b.fulfilled&&null!==(S=P[0])&&void 0!==S&&S.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var b=this;return(0,d.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function Rc(){var _;return(null===(_=navigator?.serviceWorker)||void 0===_?void 0:_.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:m},b.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Pc();return yield so(m,no,"1"),yield Ms(m,no),!0}catch{}return!1})()}_withPendingWrite(m){var b=this;return(0,d.Z)(function*(){b.pendingWrites++;try{yield m()}finally{b.pendingWrites--}})()}_set(m,b){var S=this;return(0,d.Z)(function*(){return S._withPendingWrite((0,d.Z)(function*(){return yield S._withRetries(P=>so(P,m,b)),S.localCache[m]=b,S.notifyServiceWorker(m)}))})()}_get(m){var b=this;return(0,d.Z)(function*(){const S=yield b._withRetries(P=>function Pa(_,f){return qo.apply(this,arguments)}(P,m));return b.localCache[m]=S,S})()}_remove(m){var b=this;return(0,d.Z)(function*(){return b._withPendingWrite((0,d.Z)(function*(){return yield b._withRetries(S=>Ms(S,m)),delete b.localCache[m],b.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,d.Z)(function*(){const b=yield m._withRetries(j=>{const J=ps(j,!1).getAll();return new Ra(J).toPromise()});if(!b)return[];if(0!==m.pendingWrites)return[];const S=[],P=new Set;for(const{fbase_key:j,value:J}of b)P.add(j),JSON.stringify(m.localCache[j])!==JSON.stringify(J)&&(m.notifyListeners(j,J),S.push(j));for(const j of Object.keys(m.localCache))m.localCache[j]&&!P.has(j)&&(m.notifyListeners(j,null),S.push(j));return S})()}notifyListeners(m,b){this.localCache[m]=b;const S=this.listeners[m];if(S)for(const P of Array.from(S))P(b)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})(),ka=1e12;class Nl{constructor(f){this.auth=f,this.counter=ka,this._widgets=new Map}render(f,m){const b=this.counter;return this._widgets.set(b,new Fl(f,this.auth.name,m||{})),this.counter++,b}reset(f){var m;const b=f||ka;null===(m=this._widgets.get(b))||void 0===m||m.delete(),this._widgets.delete(b)}getResponse(f){var m;return(null===(m=this._widgets.get(f||ka))||void 0===m?void 0:m.getResponse())||""}execute(f){var m=this;return(0,d.Z)(function*(){var b;return null===(b=m._widgets.get(f||ka))||void 0===b||b.execute(),""})()}}class Fl{constructor(f,m,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof f?document.getElementById(f):f;oe(S,"argument-error",{appName:m}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function S_(_){const f=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<_;b++)f.push(m.charAt(Math.floor(Math.random()*m.length)));return f.join("")}(50);const{callback:f,"expired-callback":m}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const jh=qn("rcb"),M_=new Te(3e4,6e4);class x_{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=vn().grecaptcha)||void 0===f||!f.render)}load(f,m=""){return oe(function $h(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(m),f,"argument-error"),this.shouldResolveImmediately(m)&&Gt(vn().grecaptcha)?Promise.resolve(vn().grecaptcha):new Promise((b,S)=>{const P=vn().setTimeout(()=>{S(Ce(f,"network-request-failed"))},M_.get());vn()[jh]=()=>{vn().clearTimeout(P),delete vn()[jh];const J=vn().grecaptcha;if(!J||!Gt(J))return void S(Ce(f,"internal-error"));const Pe=J.render;J.render=(ze,ot)=>{const lt=Pe(ze,ot);return this.counter++,lt},this.hostLanguage=m,b(J)},hr(`https://www.google.com/recaptcha/api.js??${(0,N.xO)({onload:jh,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(P),S(Ce(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var m;return!(null===(m=vn().grecaptcha)||void 0===m||!m.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class sr{load(f){return(0,d.Z)(function*(){return new Nl(f)})()}clearedOneInstance(){}}const Na="recaptcha",Oc={theme:"light",type:"image"};class Ll{constructor(f,m=Object.assign({},Oc),b){this.parameters=m,this.type=Na,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=pn(b),this.isInvisible="invisible"===this.parameters.size,oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof f?document.getElementById(f):f;oe(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new sr:new x_,this.validateStartingState()}verify(){var f=this;return(0,d.Z)(function*(){f.assertNotDestroyed();const m=yield f.render(),b=f.getAssertedRecaptcha();return b.getResponse(m)||new Promise(P=>{const j=J=>{J&&(f.tokenChangeListeners.delete(j),P(J))};f.tokenChangeListeners.add(j),f.isInvisible&&b.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){oe(!this.parameters.sitekey,this.auth,"argument-error"),oe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return m=>{if(this.tokenChangeListeners.forEach(b=>b(m)),"function"==typeof f)f(m);else if("string"==typeof f){const b=vn()[f];"function"==typeof b&&b(m)}}}assertNotDestroyed(){oe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,d.Z)(function*(){if(yield f.init(),!f.widgetId){let m=f.container;if(!f.isInvisible){const b=document.createElement("div");m.appendChild(b),m=b}f.widgetId=f.getAssertedRecaptcha().render(m,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,d.Z)(function*(){oe(ft()&&!Mc(),f.auth,"internal-error"),yield function Ai(){let _=null;return new Promise(f=>{"complete"!==document.readyState?(_=()=>f(),window.addEventListener("load",_)):f()}).catch(f=>{throw _&&window.removeEventListener("load",_),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const m=yield function re(_){return Fe.apply(this,arguments)}(f.auth);oe(m,f.auth,"internal-error"),f.parameters.sitekey=m})()}getAssertedRecaptcha(){return oe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Gi{constructor(f,m){this.verificationId=f,this.onConfirmation=m}confirm(f){const m=Xr._fromVerification(this.verificationId,f);return this.onConfirmation(m)}}function uo(){return(uo=(0,d.Z)(function*(_,f,m){const b=pn(_),S=yield Fc(b,f,(0,N.m9)(m));return new Gi(S,P=>Ea(b,P))})).apply(this,arguments)}function Nc(){return(Nc=(0,d.Z)(function*(_,f,m){const b=(0,N.m9)(_);yield ls(!1,b,"phone");const S=yield Fc(b.auth,f,(0,N.m9)(m));return new Gi(S,P=>ju(b,P))})).apply(this,arguments)}function Vl(){return(Vl=(0,d.Z)(function*(_,f,m){const b=(0,N.m9)(_),S=yield Fc(b.auth,f,(0,N.m9)(m));return new Gi(S,P=>$u(b,P))})).apply(this,arguments)}function Fc(_,f,m){return Hr.apply(this,arguments)}function Hr(){return Hr=(0,d.Z)(function*(_,f,m){var b;const S=yield m.verify();try{let P;if(oe("string"==typeof S,_,"argument-error"),oe(m.type===Na,_,"argument-error"),P="string"==typeof f?{phoneNumber:f}:f,"session"in P){const j=P.session;if("phoneNumber"in P)return oe("enroll"===j.type,_,"internal-error"),(yield function Ho(_,f){return $t(_,"POST","/v2/accounts/mfaEnrollment:start",_t(_,f))}(_,{idToken:j.credential,phoneEnrollmentInfo:{phoneNumber:P.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{oe("signin"===j.type,_,"internal-error");const J=(null===(b=P.multiFactorHint)||void 0===b?void 0:b.uid)||P.multiFactorUid;return oe(J,_,"missing-multi-factor-info"),(yield function co(_,f){return $t(_,"POST","/v2/accounts/mfaSignIn:start",_t(_,f))}(_,{mfaPendingCredential:j.credential,mfaEnrollmentId:J,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:j}=yield function Zp(_,f){return El.apply(this,arguments)}(_,{phoneNumber:P.phoneNumber,recaptchaToken:S});return j}}finally{m._reset()}}),Hr.apply(this,arguments)}function ms(){return(ms=(0,d.Z)(function*(_,f){yield nr((0,N.m9)(_),f)})).apply(this,arguments)}let Fa=(()=>{class _{constructor(m){this.providerId=_.PROVIDER_ID,this.auth=pn(m)}verifyPhoneNumber(m,b){return Fc(this.auth,m,(0,N.m9)(b))}static credential(m,b){return Xr._fromVerification(m,b)}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:b,temporaryProof:S}=m;return b&&S?Xr._fromTokenResponse(b,S):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function ei(_,f){return f?Tn(f):(oe(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class ti extends is{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Ti(f,this._buildIdpRequest())}_linkToIdToken(f,m){return Ti(f,this._buildIdpRequest(m))}_getReauthenticationResolver(f){return Ti(f,this._buildIdpRequest())}_buildIdpRequest(f){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(m.idToken=f),m}}function Gh(_){return ba(_.auth,new ti(_),_.bypassAuthState)}function Wo(_){const{auth:f,user:m}=_;return oe(m,f,"internal-error"),As(m,new ti(_),_.bypassAuthState)}function Lc(_){return xs.apply(this,arguments)}function xs(){return(xs=(0,d.Z)(function*(_){const{auth:f,user:m}=_;return oe(m,f,"internal-error"),nr(m,new ti(_),_.bypassAuthState)})).apply(this,arguments)}class Zo{constructor(f,m,b,S,P=!1){this.auth=f,this.resolver=b,this.user=S,this.bypassAuthState=P,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var f=this;return new Promise(function(){var m=(0,d.Z)(function*(b,S){f.pendingPromise={resolve:b,reject:S};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(P){f.reject(P)}});return function(b,S){return m.apply(this,arguments)}}())}onAuthEvent(f){var m=this;return(0,d.Z)(function*(){const{urlResponse:b,sessionId:S,postBody:P,tenantId:j,error:J,type:Pe}=f;if(J)return void m.reject(J);const ze={auth:m.auth,requestUri:b,sessionId:S,tenantId:j||void 0,postBody:P||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Pe)(ze))}catch(ot){m.reject(ot)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Gh;case"linkViaPopup":case"linkViaRedirect":return Lc;case"reauthViaPopup":case"reauthViaRedirect":return Wo;default:De(this.auth,"internal-error")}}resolve(f){st(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){st(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const or=new Te(2e3,1e4);function Bl(){return(Bl=(0,d.Z)(function*(_,f,m){const b=pn(_);Le(_,f,as);const S=ei(b,m);return new Bc(b,"signInViaPopup",f,S).executeNotNull()})).apply(this,arguments)}function Vc(){return(Vc=(0,d.Z)(function*(_,f,m){const b=(0,N.m9)(_);Le(b.auth,f,as);const S=ei(b.auth,m);return new Bc(b.auth,"reauthViaPopup",f,S,b).executeNotNull()})).apply(this,arguments)}function td(){return(td=(0,d.Z)(function*(_,f,m){const b=(0,N.m9)(_);Le(b.auth,f,as);const S=ei(b.auth,m);return new Bc(b.auth,"linkViaPopup",f,S,b).executeNotNull()})).apply(this,arguments)}let Bc=(()=>{class _ extends Zo{constructor(m,b,S,P,j){super(m,b,P,j),this.provider=S,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var m=this;return(0,d.Z)(function*(){const b=yield m.execute();return oe(b,m.auth,"internal-error"),b})()}onExecution(){var m=this;return(0,d.Z)(function*(){st(1===m.filter.length,"Popup operations only handle one event");const b=Go();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],b),m.authWindow.associatedEvent=b,m.resolver._originValidation(m.auth).catch(S=>{m.reject(S)}),m.resolver._isIframeWebStorageSupported(m.auth,S=>{S||m.reject(Ce(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Ce(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const m=()=>{var b,S;this.pollId=null!==(S=null===(b=this.authWindow)||void 0===b?void 0:b.window)&&void 0!==S&&S.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ce(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(m,or.get())};m()}}return _.currentPopupAction=null,_})();const po="pendingRedirect",Ko=new Map;class rm extends Zo{constructor(f,m,b=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,b),this.eventId=null}execute(){var f=()=>super.execute,m=this;return(0,d.Z)(function*(){let b=Ko.get(m.auth._key());if(!b){try{const P=(yield function nd(_,f){return qh.apply(this,arguments)}(m.resolver,m.auth))?yield f().call(m):null;b=()=>Promise.resolve(P)}catch(S){b=()=>Promise.reject(S)}Ko.set(m.auth._key(),b)}return m.bypassAuthState||Ko.set(m.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(f){var m=()=>super.onAuthEvent,b=this;return(0,d.Z)(function*(){if("signInViaRedirect"===f.type)return m().call(b,f);if("unknown"!==f.type){if(f.eventId){const S=yield b.auth._redirectUserForId(f.eventId);if(S)return b.user=S,m().call(b,f);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function qh(){return(qh=(0,d.Z)(function*(_,f){const m=id(f),b=Wh(_);if(!(yield b._isAvailable()))return!1;const S="true"===(yield b._get(m));return yield b._remove(m),S})).apply(this,arguments)}function Yo(_,f){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,d.Z)(function*(_,f){return Wh(_)._set(id(f),"true")})).apply(this,arguments)}function rd(_,f){Ko.set(_._key(),f)}function Wh(_){return Tn(_._redirectPersistence)}function id(_){return U(po,_.config.apiKey,_.name)}function sm(_,f,m){return function om(_,f,m){return sd.apply(this,arguments)}(_,f,m)}function sd(){return(sd=(0,d.Z)(function*(_,f,m){const b=pn(_);Le(_,f,as),yield b._initializationPromise;const S=ei(b,m);return yield Yo(S,b),S._openRedirect(b,f,"signInViaRedirect")})).apply(this,arguments)}function am(_,f,m){return function jl(_,f,m){return $l.apply(this,arguments)}(_,f,m)}function $l(){return($l=(0,d.Z)(function*(_,f,m){const b=(0,N.m9)(_);Le(b.auth,f,as),yield b.auth._initializationPromise;const S=ei(b.auth,m);yield Yo(S,b.auth);const P=yield Va(b);return S._openRedirect(b.auth,f,"reauthViaRedirect",P)})).apply(this,arguments)}function cm(_,f,m){return function lm(_,f,m){return Zh.apply(this,arguments)}(_,f,m)}function Zh(){return(Zh=(0,d.Z)(function*(_,f,m){const b=(0,N.m9)(_);Le(b.auth,f,as),yield b.auth._initializationPromise;const S=ei(b.auth,m);yield ls(!1,b,f.providerId),yield Yo(S,b.auth);const P=yield Va(b);return S._openRedirect(b.auth,f,"linkViaRedirect",P)})).apply(this,arguments)}function Yh(){return(Yh=(0,d.Z)(function*(_,f){return yield pn(_)._initializationPromise,Hl(_,f,!1)})).apply(this,arguments)}function Hl(_,f){return od.apply(this,arguments)}function od(){return(od=(0,d.Z)(function*(_,f,m=!1){const b=pn(_),S=ei(b,f),j=yield new rm(b,S,m).execute();return j&&!m&&(delete j.user._redirectEventId,yield b._persistUserIfCurrent(j.user),yield b._setRedirectUser(null,f)),j})).apply(this,arguments)}function Va(_){return zl.apply(this,arguments)}function zl(){return(zl=(0,d.Z)(function*(_){const f=Go(`${_.uid}:::`);return _._redirectEventId=f,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),f})).apply(this,arguments)}class Ba{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let m=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(f,b)&&(m=!0,this.sendToConsumer(f,b),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Jh(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cd(_);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=f,m=!0)),m}sendToConsumer(f,m){var b;if(f.error&&!cd(f)){const S=(null===(b=f.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";m.onError(Ce(this.auth,S))}else m.onAuthEvent(f)}isEventForConsumer(f,m){const b=null===m.eventId||!!f.eventId&&f.eventId===m.eventId;return m.filter.includes(f.type)&&b}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ad(f))}saveEventToCache(f){this.cachedEventUids.add(ad(f)),this.lastProcessedEventTime=Date.now()}}function ad(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(f=>f).join("-")}function cd({type:_,error:f}){return"unknown"===_&&"auth/no-auth-event"===f?.code}function R_(_){return um.apply(this,arguments)}function um(){return(um=(0,d.Z)(function*(_,f={}){return $t(_,"GET","/v1/projects",f)})).apply(this,arguments)}const P_=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Xh=/^https?/;function Rs(){return(Rs=(0,d.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:f}=yield R_(_);for(const m of f)try{if(ud(m))return}catch{}De(_,"unauthorized-domain")})).apply(this,arguments)}function ud(_){const f=Zt(),{protocol:m,hostname:b}=new URL(f);if(_.startsWith("chrome-extension://")){const j=new URL(_);return""===j.hostname&&""===b?"chrome-extension:"===m&&_.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===m&&j.hostname===b}if(!Xh.test(m))return!1;if(P_.test(_))return b===_;const S=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(b)}const ef=new Te(3e4,6e4);function qi(){const _=vn().___jsl;if(_?.H)for(const f of Object.keys(_.H))if(_.H[f].r=_.H[f].r||[],_.H[f].L=_.H[f].L||[],_.H[f].r=[..._.H[f].L],_.CP)for(let m=0;m<_.CP.length;m++)_.CP[m]=null}let Gl=null;const dm=new Te(5e3,15e3),tf="__/auth/iframe",nf="emulator/auth/iframe",hm={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fm=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pm(_){const f=_.config;oe(f.authDomain,_,"auth-domain-config-required");const m=f.emulator?Re(f,nf):`https://${_.config.authDomain}/${tf}`,b={apiKey:f.apiKey,appName:_.name,v:le.SDK_VERSION},S=fm.get(_.config.apiHost);S&&(b.eid=S);const P=_._getFrameworks();return P.length&&(b.fw=P.join(",")),`${m}?${(0,N.xO)(b).slice(1)}`}function D(){return D=(0,d.Z)(function*(_){const f=yield function Xo(_){return Gl=Gl||function Jo(_){return new Promise((f,m)=>{var b,S,P;function j(){qi(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{qi(),m(Ce(_,"network-request-failed"))},timeout:ef.get()})}if(null!==(S=null===(b=vn().gapi)||void 0===b?void 0:b.iframes)&&void 0!==S&&S.Iframe)f(gapi.iframes.getContext());else{if(null===(P=vn().gapi)||void 0===P||!P.load){const J=qn("iframefcb");return vn()[J]=()=>{gapi.load?j():m(Ce(_,"network-request-failed"))},hr(`https://apis.google.com/js/api.js?onload=${J}`).catch(Pe=>m(Pe))}j()}}).catch(f=>{throw Gl=null,f})}(_),Gl}(_),m=vn().gapi;return oe(m,_,"internal-error"),f.open({where:document.body,url:pm(_),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hm,dontclear:!0},b=>new Promise(function(){var S=(0,d.Z)(function*(P,j){yield b.restyle({setHideOnLeave:!1});const J=Ce(_,"network-request-failed"),Pe=vn().setTimeout(()=>{j(J)},dm.get());function ze(){vn().clearTimeout(Pe),P(b)}b.ping(ze).then(ze,()=>{j(J)})});return function(P,j){return S.apply(this,arguments)}}()))}),D.apply(this,arguments)}const x={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},k=500,G=600,Y="_blank",ae="http://localhost";class We{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const kt="__/auth/handler",Nt="emulator/auth/handler",Si=encodeURIComponent("fac");function Yn(_,f,m,b,S,P){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,d.Z)(function*(_,f,m,b,S,P){oe(_.config.authDomain,_,"auth-domain-config-required"),oe(_.config.apiKey,_,"invalid-api-key");const j={apiKey:_.config.apiKey,appName:_.name,authType:m,redirectUrl:b,v:le.SDK_VERSION,eventId:S};if(f instanceof as){f.setDefaultLanguage(_.languageCode),j.providerId=f.providerId||"",(0,N.xb)(f.getCustomParameters())||(j.customParameters=JSON.stringify(f.getCustomParameters()));for(const[ot,lt]of Object.entries(P||{}))j[ot]=lt}if(f instanceof Hi){const ot=f.getScopes().filter(lt=>""!==lt);ot.length>0&&(j.scopes=ot.join(","))}_.tenantId&&(j.tid=_.tenantId);const J=j;for(const ot of Object.keys(J))void 0===J[ot]&&delete J[ot];const Pe=yield _._getAppCheckToken(),ze=Pe?`#${Si}=${encodeURIComponent(Pe)}`:"";return`${function ql({config:_}){return _.emulator?Re(_,Nt):`https://${_.authDomain}/${kt}`}(_)}?${(0,N.xO)(J).slice(1)}${ze}`})).apply(this,arguments)}const mo="webStorageSupport",Zi=class Wi{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fs,this._completeRedirectFn=Hl,this._overrideRedirectResult=rd}_openPopup(f,m,b,S){var P=this;return(0,d.Z)(function*(){var j;st(null===(j=P.eventManagers[f._key()])||void 0===j?void 0:j.manager,"_initialize() not called before _openPopup()");const J=yield Yn(f,m,b,Zt(),S);return function qe(_,f,m,b=k,S=G){const P=Math.max((window.screen.availHeight-S)/2,0).toString(),j=Math.max((window.screen.availWidth-b)/2,0).toString();let J="";const Pe=Object.assign(Object.assign({},x),{width:b.toString(),height:S.toString(),top:P,left:j}),ze=(0,N.z$)().toLowerCase();m&&(J=Ve(ze)?Y:m),Ee(ze)&&(f=f||ae,Pe.scrollbars="yes");const ot=Object.entries(Pe).reduce((Dn,[Os,$a])=>`${Dn}${Os}=${$a},`,"");if(function xr(_=(0,N.z$)()){var f;return dn(_)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(ze)&&"_self"!==J)return function mt(_,f){const m=document.createElement("a");m.href=_,m.target=f;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(b)}(f||"",J),new We(null);const lt=window.open(f||"",J,ot);oe(lt,_,"popup-blocked");try{lt.focus()}catch{}return new We(lt)}(f,J,Go())})()}_openRedirect(f,m,b,S){var P=this;return(0,d.Z)(function*(){return yield P._originValidation(f),function Xu(_){vn().location.href=_}(yield Yn(f,m,b,Zt(),S)),new Promise(()=>{})})()}_initialize(f){const m=f._key();if(this.eventManagers[m]){const{manager:S,promise:P}=this.eventManagers[m];return S?Promise.resolve(S):(st(P,"If manager is not set, promise should be"),P)}const b=this.initAndGetManager(f);return this.eventManagers[m]={promise:b},b.catch(()=>{delete this.eventManagers[m]}),b}initAndGetManager(f){var m=this;return(0,d.Z)(function*(){const b=yield function E(_){return D.apply(this,arguments)}(f),S=new Ba(f);return b.register("authEvent",P=>(oe(P?.authEvent,f,"invalid-auth-event"),{status:S.onEvent(P.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[f._key()]={manager:S},m.iframes[f._key()]=b,S})()}_isIframeWebStorageSupported(f,m){this.iframes[f._key()].send(mo,{type:mo},S=>{var P;const j=null===(P=S?.[0])||void 0===P?void 0:P[mo];void 0!==j&&m(!!j),De(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function ld(_){return Rs.apply(this,arguments)}(f)),this.originValidationPromises[m]}get _shouldInitProactively(){return Ui()||te()||dn()}};class Wl{constructor(f){this.factorId=f}_process(f,m,b){switch(m.type){case"enroll":return this._finalizeEnroll(f,m.credential,b);case"signin":return this._finalizeSignIn(f,m.credential);default:return St("unexpected MultiFactorSessionType")}}}class mm extends Wl{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new mm(f)}_finalizeEnroll(f,m,b){return function xl(_,f){return $t(_,"POST","/v2/accounts/mfaEnrollment:finalize",_t(_,f))}(f,{idToken:m,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,m){return function Uh(_,f){return $t(_,"POST","/v2/accounts/mfaSignIn:finalize",_t(_,f))}(f,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let dd=(()=>{class _{constructor(){}static assertion(m){return mm._fromCredential(m)}}return _.FACTOR_ID="phone",_})();var _m="@firebase/auth";class ym{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var m=this;return(0,d.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const m=this.auth.onIdTokenChanged(b=>{f(b?.stsTokenManager.accessToken||null)});this.internalListeners.set(f,m),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const m=this.internalListeners.get(f);m&&(this.internalListeners.delete(f),m(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function jc(){return window}(0,N.Pz)("authIdTokenMaxAge"),function t0(_){(0,le._registerComponent)(new be.wA("auth",(f,{options:m})=>{const b=f.getProvider("app").getImmediate(),S=f.getProvider("heartbeat"),P=f.getProvider("app-check-internal"),{apiKey:j,authDomain:J}=b.options;oe(j&&!j.includes(":"),"invalid-api-key",{appName:b.name});const Pe={apiKey:j,authDomain:J,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:he(_)},ze=new hi(b,S,P,Pe);return function Nn(_,f){const m=f?.persistence||[],b=(Array.isArray(m)?m:[m]).map(Tn);f?.errorMap&&_._updateErrorMap(f.errorMap),_._initializeWithPersistence(b,f?.popupRedirectResolver)}(ze,m),ze},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,m,b)=>{f.getProvider("auth-internal").initialize()})),(0,le._registerComponent)(new be.wA("auth-internal",f=>{const m=pn(f.getProvider("auth").getImmediate());return new ym(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,le.registerVersion)(_m,"0.23.2",function O_(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,le.registerVersion)(_m,"0.23.2","esm2017")}("Browser");const s0=2e3;function hd(){return hd=(0,d.Z)(function*(_,f,m){var b;const{BuildInfo:S}=jc();st(f.sessionId,"AuthEvent did not contain a session ID");const P=yield function $c(_){return af.apply(this,arguments)}(f.sessionId),j={};return dn()?j.ibi=S.packageName:nn()?j.apn=S.packageName:De(_,"operation-not-supported-in-this-environment"),S.displayName&&(j.appDisplayName=S.displayName),j.sessionId=P,Yn(_,m,f.type,void 0,null!==(b=f.eventId)&&void 0!==b?b:void 0,j)}),hd.apply(this,arguments)}function fd(){return(fd=(0,d.Z)(function*(_){const{BuildInfo:f}=jc(),m={};dn()?m.iosBundleId=f.packageName:nn()?m.androidPackageName=f.packageName:De(_,"operation-not-supported-in-this-environment"),yield R_(_,m)})).apply(this,arguments)}function sf(){return(sf=(0,d.Z)(function*(_,f,m){const{cordova:b}=jc();let S=()=>{};try{yield new Promise((P,j)=>{let J=null;function Pe(){var lt;P();const Dn=null===(lt=b.plugins.browsertab)||void 0===lt?void 0:lt.close;"function"==typeof Dn&&Dn(),"function"==typeof m?.close&&m.close()}function ze(){J||(J=window.setTimeout(()=>{j(Ce(_,"redirect-cancelled-by-user"))},s0))}function ot(){"visible"===document?.visibilityState&&ze()}f.addPassiveListener(Pe),document.addEventListener("resume",ze,!1),nn()&&document.addEventListener("visibilitychange",ot,!1),S=()=>{f.removePassiveListener(Pe),document.removeEventListener("resume",ze,!1),document.removeEventListener("visibilitychange",ot,!1),J&&window.clearTimeout(J)}})}finally{S()}})).apply(this,arguments)}function af(){return(af=(0,d.Z)(function*(_){const f=function V_(_){if(st(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(_);const f=new ArrayBuffer(_.length),m=new Uint8Array(f);for(let b=0;b<_.length;b++)m[b]=_.charCodeAt(b);return m}(_),m=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(m)).map(S=>S.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const c0=20;class XD extends Ba{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(f)),super.onEvent(f)}initialized(){var f=this;return(0,d.Z)(function*(){yield f.initPromise})()}}function bm(_){return lf.apply(this,arguments)}function lf(){return(lf=(0,d.Z)(function*(_){const f=yield uf()._get(Kl(_));return f&&(yield uf()._remove(Kl(_))),f})).apply(this,arguments)}function Em(){const _=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<c0;m++){const b=Math.floor(Math.random()*f.length);_.push(f.charAt(b))}return _.join("")}function uf(){return Tn(ro)}function Kl(_){return U("authEvent",_.config.apiKey,_.name)}function Yl(_){if(!_?.includes("?"))return{};const[f,...m]=_.split("?");return(0,N.zd)(m.join("?"))}const pd=class Im{constructor(){this._redirectPersistence=fs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Hl,this._overrideRedirectResult=rd}_initialize(f){var m=this;return(0,d.Z)(function*(){const b=f._key();let S=m.eventManagers.get(b);return S||(S=new XD(f),m.eventManagers.set(b,S),m.attachCallbackListeners(f,S)),S})()}_openPopup(f){De(f,"operation-not-supported-in-this-environment")}_openRedirect(f,m,b,S){var P=this;return(0,d.Z)(function*(){!function L_(_){var f,m,b,S,P,j,J,Pe,ze,ot;const lt=jc();oe("function"==typeof(null===(f=lt?.universalLinks)||void 0===f?void 0:f.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),oe(typeof(null===(m=lt?.BuildInfo)||void 0===m?void 0:m.packageName)<"u",_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),oe("function"==typeof(null===(P=null===(S=null===(b=lt?.cordova)||void 0===b?void 0:b.plugins)||void 0===S?void 0:S.browsertab)||void 0===P?void 0:P.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),oe("function"==typeof(null===(Pe=null===(J=null===(j=lt?.cordova)||void 0===j?void 0:j.plugins)||void 0===J?void 0:J.browsertab)||void 0===Pe?void 0:Pe.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),oe("function"==typeof(null===(ot=null===(ze=lt?.cordova)||void 0===ze?void 0:ze.InAppBrowser)||void 0===ot?void 0:ot.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const j=yield P._initialize(f);yield j.initialized(),j.resetRedirect(),function im(){Ko.clear()}(),yield P._originValidation(f);const J=function cf(_,f,m=null){return{type:f,eventId:m,urlResponse:null,sessionId:Em(),postBody:null,tenantId:_.tenantId,error:Ce(_,"no-auth-event")}}(f,b,S);yield function l0(_,f){return uf()._set(Kl(_),f)}(f,J);const Pe=yield function N_(_,f,m){return hd.apply(this,arguments)}(f,J,m),ze=yield function o0(_){const{cordova:f}=jc();return new Promise(m=>{f.plugins.browsertab.isAvailable(b=>{let S=null;b?f.plugins.browsertab.openUrl(_):S=f.InAppBrowser.open(_,function Yt(_=(0,N.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),m(S)})})}(Pe);return function a0(_,f,m){return sf.apply(this,arguments)}(f,j,ze)})()}_isIframeWebStorageSupported(f,m){throw new Error("Method not implemented.")}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function F_(_){return fd.apply(this,arguments)}(f)),this.originValidationPromises[m]}attachCallbackListeners(f,m){const{universalLinks:b,handleOpenURL:S,BuildInfo:P}=jc(),j=setTimeout((0,d.Z)(function*(){yield bm(f),m.onEvent(j_())}),500),J=function(){var ot=(0,d.Z)(function*(lt){clearTimeout(j);const Dn=yield bm(f);let Os=null;Dn&&lt?.url&&(Os=function B_(_,f){var m,b;const S=function U_(_){const f=Yl(_),m=f.link?decodeURIComponent(f.link):void 0,b=Yl(m).link,S=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return Yl(S).link||S||b||m||_}(f);if(S.includes("/__/auth/callback")){const P=Yl(S),j=P.firebaseError?function df(_){try{return JSON.parse(_)}catch{return null}}(decodeURIComponent(P.firebaseError)):null,J=null===(b=null===(m=j?.code)||void 0===m?void 0:m.split("auth/"))||void 0===b?void 0:b[1],Pe=J?Ce(J):null;return Pe?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:Pe,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:S,postBody:null}}return null}(Dn,lt.url)),m.onEvent(Os||j_())});return function(Dn){return ot.apply(this,arguments)}}();typeof b<"u"&&"function"==typeof b.subscribe&&b.subscribe(null,J);const Pe=S,ze=`${P.packageName.toLowerCase()}://`;jc().handleOpenURL=function(){var ot=(0,d.Z)(function*(lt){if(lt.toLowerCase().startsWith(ze)&&J({url:lt}),"function"==typeof Pe)try{Pe(lt)}catch(Dn){console.error(Dn)}});return function(lt){return ot.apply(this,arguments)}}()}};function j_(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ce("no-auth-event")}}const h0=1e3;function Hc(){var _;return(null===(_=self?.location)||void 0===_?void 0:_.protocol)||null}function Ql(_=(0,N.z$)()){return!("file:"!==Hc()&&"ionic:"!==Hc()&&"capacitor:"!==Hc()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function p0(){try{const _=self.localStorage,f=Go();if(_)return _.setItem(f,"1"),_.removeItem(f),!function f0(_=(0,N.z$)()){return function Jl(){return(0,N.w1)()&&11===document?.documentMode}()||function Cm(_=(0,N.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,N.hl)()}catch{return hf()&&(0,N.hl)()}return!1}function hf(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function zc(){return(function H_(){return"http:"===Hc()||"https:"===Hc()}()||(0,N.ru)()||Ql())&&!function Dm(){return(0,N.b$)()||(0,N.UG)()}()&&p0()&&!hf()}function z_(){return Ql()&&typeof document<"u"}function Xl(){return(Xl=(0,d.Z)(function*(){return!!z_()&&new Promise(_=>{const f=setTimeout(()=>{_(!1)},h0);document.addEventListener("deviceready",()=>{clearTimeout(f),_(!0)})})})).apply(this,arguments)}const Fn={LOCAL:"local",NONE:"none",SESSION:"session"},Gc=oe,pf="persistence";function mf(_){return md.apply(this,arguments)}function md(){return(md=(0,d.Z)(function*(_){yield _._initializationPromise;const f=Sn(),m=U(pf,_.config.apiKey,_.name);f&&f.setItem(m,_._getPersistence())})).apply(this,arguments)}function Sn(){var _;try{return(null===(_=function gs(){return typeof window<"u"?window:null}())||void 0===_?void 0:_.sessionStorage)||null}catch{return null}}const eu=oe;class ct{constructor(){this.browserResolver=Tn(Zi),this.cordovaResolver=Tn(pd),this.underlyingResolver=null,this._redirectPersistence=fs,this._completeRedirectFn=Hl,this._overrideRedirectResult=rd}_initialize(f){var m=this;return(0,d.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,m,b,S){var P=this;return(0,d.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openPopup(f,m,b,S)})()}_openRedirect(f,m,b,S){var P=this;return(0,d.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openRedirect(f,m,b,S)})()}_isIframeWebStorageSupported(f,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,m)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return z_()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return eu(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,d.Z)(function*(){if(f.underlyingResolver)return;const m=yield function ff(){return Xl.apply(this,arguments)}();f.underlyingResolver=m?f.cordovaResolver:f.browserResolver})()}}function qc(_){return _.unwrap()}function W_(_){return Am(_)}function Am(_){const{_tokenResponse:f}=_ instanceof N.ZR?_.customData:_;if(!f)return null;if(!(_ instanceof N.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return Fa.credentialFromResult(_);const m=f.providerId;if(!m||m===me.PASSWORD)return null;let b;switch(m){case me.GOOGLE:b=ya;break;case me.FACEBOOK:b=wl;break;case me.GITHUB:b=Lu;break;case me.TWITTER:b=uc;break;default:const{oauthIdToken:S,oauthAccessToken:P,oauthTokenSecret:j,pendingToken:J,nonce:Pe}=f;return P||j||S||J?J?m.startsWith("saml.")?Cs._create(m,J):os._fromParams({providerId:m,signInMethod:m,pendingToken:J,idToken:S,accessToken:P}):new Ws(m).credential({idToken:S,accessToken:P,rawNonce:Pe}):null}return _ instanceof N.ZR?b.credentialFromError(_):b.credentialFromResult(_)}function mn(_,f){return f.catch(m=>{throw m instanceof N.ZR&&function tu(_,f){var m;const b=null===(m=f.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===f?.code)f.resolver=new Z_(_,function Cc(_,f){var m;const b=(0,N.m9)(_),S=f;return oe(f.customData.operationType,b,"argument-error"),oe(null===(m=S.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,b,"argument-error"),Js._fromError(b,S)}(_,f));else if(b){const S=Am(f),P=f;S&&(P.credential=S,P.tenantId=b.tenantId||void 0,P.email=b.email||void 0,P.phoneNumber=b.phoneNumber||void 0)}}(_,m),m}).then(m=>{const S=m.user;return{operationType:m.operationType,credential:W_(m),additionalUserInfo:Sl(m),user:Ps.getOrCreate(S)}})}function Sm(_,f){return Wc.apply(this,arguments)}function Wc(){return(Wc=(0,d.Z)(function*(_,f){const m=yield f;return{verificationId:m.verificationId,confirm:b=>mn(_,m.confirm(b))}})).apply(this,arguments)}class Z_{constructor(f,m){this.resolver=m,this.auth=function q_(_){return _.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return mn(qc(this.auth),this.resolver.resolveSignIn(f))}}class Ps{constructor(f){this._delegate=f,this.multiFactor=function Yu(_){const f=(0,N.m9)(_);return Ss.has(f)||Ss.set(f,to._fromUser(f)),Ss.get(f)}(f)}static getOrCreate(f){return Ps.USER_MAP.has(f)||Ps.USER_MAP.set(f,new Ps(f)),Ps.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var m=this;return(0,d.Z)(function*(){return mn(m.auth,ju(m._delegate,f))})()}linkWithPhoneNumber(f,m){var b=this;return(0,d.Z)(function*(){return Sm(b.auth,function kc(_,f,m){return Nc.apply(this,arguments)}(b._delegate,f,m))})()}linkWithPopup(f){var m=this;return(0,d.Z)(function*(){return mn(m.auth,function Ul(_,f,m){return td.apply(this,arguments)}(m._delegate,f,ct))})()}linkWithRedirect(f){var m=this;return(0,d.Z)(function*(){return yield mf(pn(m.auth)),cm(m._delegate,f,ct)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var m=this;return(0,d.Z)(function*(){return mn(m.auth,$u(m._delegate,f))})()}reauthenticateWithPhoneNumber(f,m){return Sm(this.auth,function zh(_,f,m){return Vl.apply(this,arguments)}(this._delegate,f,m))}reauthenticateWithPopup(f){return mn(this.auth,function fo(_,f,m){return Vc.apply(this,arguments)}(this._delegate,f,ct))}reauthenticateWithRedirect(f){var m=this;return(0,d.Z)(function*(){return yield mf(pn(m.auth)),am(m._delegate,f,ct)})()}sendEmailVerification(f){return function vc(_,f){return Ta.apply(this,arguments)}(this._delegate,f)}unlink(f){var m=this;return(0,d.Z)(function*(){return yield function Bu(_,f){return Pr.apply(this,arguments)}(m._delegate,f),m})()}updateEmail(f){return function vr(_,f){return xn((0,N.m9)(_),f,null)}(this._delegate,f)}updatePassword(f){return function ds(_,f){return xn((0,N.m9)(_),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function ho(_,f){return ms.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function Oh(_,f){return Ec.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,m){return function Tl(_,f,m){return Aa.apply(this,arguments)}(this._delegate,f,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ps.USER_MAP=new WeakMap;const go=oe;let Mm=(()=>{class _{constructor(m,b){if(this.app=m,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:S}=m.options;go(S,"invalid-api-key",{appName:m.name}),go(S,"invalid-api-key",{appName:m.name});const P=typeof window<"u"?ct:void 0;this._delegate=b.initialize({options:{persistence:zr(S,m.name),popupRedirectResolver:P}}),this._delegate._updateErrorMap(Ye),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ps.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,b){!function pa(_,f,m){const b=pn(_);oe(b._canInitEmulator,b,"emulator-config-failed"),oe(/^https?:\/\//.test(f),b,"invalid-emulator-scheme");const S=!!m?.disableWarnings,P=ji(f),{host:j,port:J}=function zt(_){const f=ji(_),m=/(\/\/)?([^?#/]+)/.exec(_.substr(f.length));if(!m)return{host:"",port:null};const b=m[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(b);if(S){const P=S[1];return{host:P,port:ma(b.substr(P.length+1))}}{const[P,j]=b.split(":");return{host:P,port:ma(j)}}}(f);b.config.emulator={url:`${P}//${j}${null===J?"":`:${J}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:j,port:J,protocol:P.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function zs(){function _(){const f=document.createElement("p"),m=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,m,b)}applyActionCode(m){return function Jp(_,f){return us.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return Da(this._delegate,m)}confirmPasswordReset(m,b){return function zu(_,f,m){return mc.apply(this,arguments)}(this._delegate,m,b)}createUserWithEmailAndPassword(m,b){var S=this;return(0,d.Z)(function*(){return mn(S._delegate,function Ks(_,f,m){return pi.apply(this,arguments)}(S._delegate,m,b))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function qu(_,f){return yc.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function Xp(_,f){return"EMAIL_SIGNIN"===Lo.parseLink(f)?.operation}(0,m)}getRedirectResult(){var m=this;return(0,d.Z)(function*(){go(zc(),m._delegate,"operation-not-supported-in-this-environment");const b=yield function Kh(_,f){return Yh.apply(this,arguments)}(m._delegate,ct);return b?mn(m._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function $_(_,f){pn(_)._logFramework(f)}(this._delegate,m)}onAuthStateChanged(m,b,S){const{next:P,error:j,complete:J}=ja(m,b,S);return this._delegate.onAuthStateChanged(P,j,J)}onIdTokenChanged(m,b,S){const{next:P,error:j,complete:J}=ja(m,b,S);return this._delegate.onIdTokenChanged(P,j,J)}sendSignInLinkToEmail(m,b){return function Ca(_,f,m){return gc.apply(this,arguments)}(this._delegate,m,b)}sendPasswordResetEmail(m,b){return function pc(_,f,m){return $r.apply(this,arguments)}(this._delegate,m,b||void 0)}setPersistence(m){var b=this;return(0,d.Z)(function*(){let S;switch(function Tm(_,f){Gc(Object.values(Fn).includes(f),_,"invalid-persistence-type"),(0,N.b$)()?Gc(f!==Fn.SESSION,_,"unsupported-persistence-type"):(0,N.UG)()?Gc(f===Fn.NONE,_,"unsupported-persistence-type"):hf()?Gc(f===Fn.NONE||f===Fn.LOCAL&&(0,N.hl)(),_,"unsupported-persistence-type"):Gc(f===Fn.NONE||p0(),_,"unsupported-persistence-type")}(b._delegate,m),m){case Fn.SESSION:S=fs;break;case Fn.LOCAL:S=(yield Tn(ao)._isAvailable())?ao:ro;break;case Fn.NONE:S=Br;break;default:return De("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(S)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return mn(this._delegate,function pr(_){return Vo.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return mn(this._delegate,Ea(this._delegate,m))}signInWithCustomToken(m){return mn(this._delegate,function pe(_,f){return Bt.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,b){return mn(this._delegate,function Gu(_,f,m){return Ea((0,N.m9)(_),Fu.credential(f,m))}(this._delegate,m,b))}signInWithEmailLink(m,b){return mn(this._delegate,function Kn(_,f,m){return Uo.apply(this,arguments)}(this._delegate,m,b))}signInWithPhoneNumber(m,b){return Sm(this._delegate,function Hh(_,f,m){return uo.apply(this,arguments)}(this._delegate,m,b))}signInWithPopup(m){var b=this;return(0,d.Z)(function*(){return go(zc(),b._delegate,"operation-not-supported-in-this-environment"),mn(b._delegate,function La(_,f,m){return Bl.apply(this,arguments)}(b._delegate,m,ct))})()}signInWithRedirect(m){var b=this;return(0,d.Z)(function*(){return go(zc(),b._delegate,"operation-not-supported-in-this-environment"),yield mf(b._delegate),sm(b._delegate,m,ct)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function fi(_,f){return zi.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=Fn,_})();function ja(_,f,m){let b=_;"function"!=typeof _&&({next:b,error:f,complete:m}=_);const S=b;return{next:j=>S(j&&Ps.getOrCreate(j)),error:f,complete:m}}function zr(_,f){const m=function G_(_,f){const m=Sn();if(!m)return[];const b=U(pf,_,f);switch(m.getItem(b)){case Fn.NONE:return[Br];case Fn.LOCAL:return[ao,fs];case Fn.SESSION:return[fs];default:return[]}}(_,f);if(typeof self<"u"&&!m.includes(ao)&&m.push(ao),typeof window<"u")for(const b of[ro,fs])m.includes(b)||m.push(b);return m.includes(Br)||m.push(Br),m}class Ln{constructor(){this.providerId="phone",this._delegate=new Fa(qc(ee.Z.auth()))}static credential(f,m){return Fa.credential(f,m)}verifyPhoneNumber(f,m){return this._delegate.verifyPhoneNumber(f,m)}unwrap(){return this._delegate}}Ln.PHONE_SIGN_IN_METHOD=Fa.PHONE_SIGN_IN_METHOD,Ln.PROVIDER_ID=Fa.PROVIDER_ID;const ea=oe;class Mi{constructor(f,m,b=ee.Z.app()){var S;ea(null===(S=b.options)||void 0===S?void 0:S.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new Ll(f,m,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function K_(_){_.INTERNAL.registerComponent(new be.wA("auth-compat",f=>{const m=f.getProvider("app-compat").getImmediate(),b=f.getProvider("auth");return new Mm(m,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:K_EMAIL_SIGNIN,PASSWORD_RESET:K_PASSWORD_RESET,RECOVER_EMAIL:K_RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:K_REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:K_VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:K_VERIFY_EMAIL}},EmailAuthProvider:Fu,FacebookAuthProvider:wl,GithubAuthProvider:Lu,GoogleAuthProvider:ya,OAuthProvider:Ws,SAMLAuthProvider:lc,PhoneAuthProvider:Ln,PhoneMultiFactorGenerator:dd,RecaptchaVerifier:Mi,TwitterAuthProvider:uc,Auth:Mm,AuthCredential:is,Error:N.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.4.2")}(ee.Z)},5861:(wt,Me,F)=>{function d(N,le,ue,ie,be,Ie,me){try{var z=N[Ie](me),H=z.value}catch(K){return void ue(K)}z.done?le(H):Promise.resolve(H).then(ie,be)}function ee(N){return function(){var le=this,ue=arguments;return new Promise(function(ie,be){var Ie=N.apply(le,ue);function me(H){d(Ie,ie,be,me,z,"next",H)}function z(H){d(Ie,ie,be,me,z,"throw",H)}me(void 0)})}}F.d(Me,{Z:()=>ee})},7582:(wt,Me,F)=>{function le(fe,we){var Te={};for(var Re in fe)Object.prototype.hasOwnProperty.call(fe,Re)&&we.indexOf(Re)<0&&(Te[Re]=fe[Re]);if(null!=fe&&"function"==typeof Object.getOwnPropertySymbols){var Ke=0;for(Re=Object.getOwnPropertySymbols(fe);Ke<Re.length;Ke++)we.indexOf(Re[Ke])<0&&Object.prototype.propertyIsEnumerable.call(fe,Re[Ke])&&(Te[Re[Ke]]=fe[Re[Ke]])}return Te}function K(fe,we,Te,Re){return new(Te||(Te=Promise))(function(Be,Qe){function _t(Dt){try{yt(Re.next(Dt))}catch(fn){Qe(fn)}}function $t(Dt){try{yt(Re.throw(Dt))}catch(fn){Qe(fn)}}function yt(Dt){Dt.done?Be(Dt.value):function Ke(Be){return Be instanceof Te?Be:new Te(function(Qe){Qe(Be)})}(Dt.value).then(_t,$t)}yt((Re=Re.apply(fe,we||[])).next())})}function Ne(fe){return this instanceof Ne?(this.v=fe,this):new Ne(fe)}function De(fe,we,Te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ke,Re=Te.apply(fe,we||[]),Be=[];return Ke={},Qe("next"),Qe("throw"),Qe("return"),Ke[Symbol.asyncIterator]=function(){return this},Ke;function Qe(Jt){Re[Jt]&&(Ke[Jt]=function(In){return new Promise(function(Ar,Sr){Be.push([Jt,In,Ar,Sr])>1||_t(Jt,In)})})}function _t(Jt,In){try{!function $t(Jt){Jt.value instanceof Ne?Promise.resolve(Jt.value.v).then(yt,Dt):fn(Be[0][2],Jt)}(Re[Jt](In))}catch(Ar){fn(Be[0][3],Ar)}}function yt(Jt){_t("next",Jt)}function Dt(Jt){_t("throw",Jt)}function fn(Jt,In){Jt(In),Be.shift(),Be.length&&_t(Be[0][0],Be[0][1])}}function Ge(fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Te,we=fe[Symbol.asyncIterator];return we?we.call(fe):(fe=function pt(fe){var we="function"==typeof Symbol&&Symbol.iterator,Te=we&&fe[we],Re=0;if(Te)return Te.call(fe);if(fe&&"number"==typeof fe.length)return{next:function(){return fe&&Re>=fe.length&&(fe=void 0),{value:fe&&fe[Re++],done:!fe}}};throw new TypeError(we?"Object is not iterable.":"Symbol.iterator is not defined.")}(fe),Te={},Re("next"),Re("throw"),Re("return"),Te[Symbol.asyncIterator]=function(){return this},Te);function Re(Be){Te[Be]=fe[Be]&&function(Qe){return new Promise(function(_t,$t){!function Ke(Be,Qe,_t,$t){Promise.resolve($t).then(function(yt){Be({value:yt,done:_t})},Qe)}(_t,$t,(Qe=fe[Be](Qe)).done,Qe.value)})}}}F.d(Me,{FC:()=>De,KL:()=>Ge,_T:()=>le,mG:()=>K,qq:()=>Ne})}},wt=>{wt(wt.s=6145)}]);